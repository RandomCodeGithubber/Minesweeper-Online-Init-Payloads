var i=class{static A65="1.0.2";static F82=898119793574693;static S72=32;static S73=/^[a-f0-9]{32}$/i;static S74=1001*24*60*60;static C73=1e3;static C74=9;static C75=10;static C76=11;static C77=12;static C78=15;static C79=16;static C80=32;static C81=64;static C82=128;static C83=64;static C84=128;static C85=2;static C86=3;static C87=1;static C88=31;static C89=41;static C90=20;static L64=1e3;static G63=2*60*60*1e3;static G64=10*60*60*1e3;static G65=3*60*60*1e3;static G66=24*60*60*1e3;static G67=1;static G68=2;static G69=3;static G70=4;static G71=11;static G72=12;static G73=13;static G74=14;static G75=15;static G76=20;static G77=21;static G78=22;static G79=23;static G80=101;static G81=102;static G82=103;static G83=104;static G84=111;static G85=112;static G86=113;static G87=114;static G88=115;static G89=100;static G90=1;static G91=100;static G92=1;static G93=100;static G94=1;static G95=2465;static C91=0;static C92=1;static C93=2;static C94=3;static C95=4;static G96=0;static G97=1;static G98=2;static G99=3;static G100=5;static G101=7;static G102=8;static G103=10;static G104=11;static G105=13;static G106=14;static G107=15;static G108=16;static G109=17;static G110=18;static G111=102;static G112=103;static G113=2147483647;static G114=255;static G115=4294967295;static G116=1e4;static B63=0;static B64=1;static B65=2;static U65=1e4;static S75=1;static S76=2;static S77=3;static I68=32;static I69=7;static I70=1;static I71=2;static P67="paypal";static P68="mycard";static P69="cd";static P70="ap";static P71="sp";static P72="bt";static P73="et";static P74="tink";static P75="stripe";static P76="crypto";static P77="boosty";static P78=1;static P79=5;static P80=10;static P81=20;static P82=25;static P83=30;static P84=31;static P85=40;static P86=50;static P87=70;static P88=100;static P89=120;static P90=150;static P91=200;static P92=250;static P93=300;static P94=400;static P95=500;static P96=3005;static P97=3006;static P98=3007;static P99=3008;static P100=3009;static P101=3010;static P102=3015;static P103=3020;static P104=4001;static P105=4011;static P106=4005;static P107=4015;static P108=1002;static P109=1001;static P110=1003;static P111=1005;static P112=1101;static P113=1103;static P114=1106;static P115=1112;static P116=1201;static P117=1202;static P118=1301;static P119=1302;static B66=102102520;static P120=2001;static P121=2002;static P122=2003;static P123={};static A66=100;static A67=111;static A68=268;static A69=211;static A70=218;static A71=231;static A72=238;static A73=251;static A74=258;static A75=261;static A76=268;static E74=40;static R70=311;static R71=311;static R72=312;static R73=313;static R74=313;static R75=5;static R76=100;static P124=.5;static F83=330;static W65=341;static W66=341;static W67=342;static W68=343;static W69=344;static W70=346;static W71=347;static W72=348;static W73=349;static W74=350;static W75=351;static W76=352;static W77=353;static W78=353;static W79=25;static W80=8;static W81={};static E75={};static A77=1;static A78=2;static A79=3;static A80=4;static A81=13;static A82=5;static A83=1;static A84=2;static A85=3;static A86=4;static A87=5;static A88=6;static A89=7;static A90=8;static A91=9;static A92=10;static A93=11;static A94=13;static A95=15;static A96=16;static A97=16;static A98=100;static A99=.4;static A100=0;static A101=1;static Q65=200;static Q66=20;static Q67=.1;static Q68=1;static Q69=3;static Q70=10;static Q71=1;static Q72=2;static Q73=4;static Q74=5;static Q75=6;static Q76=10;static Q77=11;static Q78=10;static Q79=10;static Q80=20;static Q81=9;static Q82=11;static Q83=21;static Q84=103;static Q85=104;static Q86=23;static Q87=102;static Q88=30;static Q89=16;static Q90=24;static Q91=31;static Q92=32;static Q93=33;static Q94=34;static Q95=19;static Q96=17;static Q97=1;static Q98=12;static Q99=13;static Q100=14;static Q101=15;static Q102=18;static Q103=25;static Q104=26;static Q105=101;static Q106=127;static O61=1;static O62=2;static O63=3;static O64=4;static O65=5;static O66=6;static O67=7;static O68=8;static O69=9;static O70=10;static O71=11;static O72=12;static O73=15;static O74=16;static O75=17;static O76=18;static O77=19;static O78=20;static O79=21;static O80=22;static O81=23;static O82=24;static O83=25;static O84=26;static O85=27;static O86=28;static O87=29;static O88=30;static O89=31;static O90=32;static O91=33;static O92=34;static O93=35;static O94=36;static O95=37;static O96=38;static O97=39;static O98=40;static H70=2;static H71=22;static H72=3;static H73=4;static H74=5;static H75=6;static H76=15;static H77=16;static H78=20;static H79=25;static H80=7;static H81=8;static H82=11;static H83=13;static H84=14;static H85=30;static H86=31;static H87=100;static H88=3;static H89=5;static H90=100;static H91=100;static H92=3e3;static H93=1;static H94=1;static H95=1;static H96=2;static R77=100;static S78=["xp","nn","hd","nnhd","rc","al","alr","gs","gsr","hdd","hdn"];static R78=["rc","alr","gsr"];static U66=3;static U67=20;static U68=6;static U69=1e3;static U70=100;static C96=["XX","AF","AL","DZ","AS","AD","AO","AI","AG","AR","AM","AW","AU","AT","AZ","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BR","IO","VG","BN","BG","BF","BI","CI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CK","CR","HR","CU","CY","CZ","CD","DK","DJ","DM","DO","TL","EC","EG","SV","GQ","ER","EE","ET","FO","FK","FJ","FI","MK","FR","GF","PF","TF","GA","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GN","GW","GY","HT","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IL","IT","JM","JP","JO","KZ","KE","KI","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","KP","MP","NO","OM","PK","PW","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","ST","SH","KN","LC","PM","VC","WS","SM","SA","SN","RS","SC","SL","SG","SK","SI","SB","SO","ZA","GS","KR","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","BS","GM","TG","TK","TO","TT","TN","TR","TM","TC","TV","VI","UG","UA","AE","GB","US","UM","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW"];static C97=["DE","KR","US","RU","JP","BR","IT","ES","CA","GB","CN","HK","TW","ID","VN","UA","AT","CH","RO","AR","GR","NL","IN","CZ","FR","DK","PT","HR","CL","IL","SE","MY","MX","BE","SK","TH","TR","PL","BG","AU","HU","PH","XX","SI","RS","CO","LT","NO","FI","SG","BY","EE","KZ","PE","LV","AE","NZ","BA","EG","UY","IR","IE","SA","CR","ZA","MO","MD","EC","LB","GE","MK","PK","IS","DO","JO","AM","GT","VE","TN","BO","LU","AZ","CY","MA","AL","PA","SV","BD","MT","DZ","LK","PY","QA","MN","PR","HN","KG","IQ","MU","KW","FO","NP","UZ","SY","BH","KH","TT","OM","JM","NI","BN","KE","MM","NG","BB","AW","KN","RW","SD","AO","LI","BZ","SR","GU","BS","GL","MG","LA","BM","ZW","NA","MV","GH","TZ","GI","AD","MZ","CU","RE","LY","BW","NC","VG","LC","FJ","ZM","ET","GP","AG","UG","TJ","GY","VI","SC","CV","MQ","AF","SN","CI","VC","GD","MC","KY","CM","SO","HT","KP","PF","MP","CD","AI","GF","ML","YE","MW","DM","TG","CX","BT","SM","GA","VU","PG","TM","DJ","SZ","VA","PM","GS","LR","TC","AS","WF","EH","GN","FM","CF","KI","NE","CK","BI","LS","TO","MR","ER","SL","WS","TL","TV","SB","NU","CG","GM","SJ","TD","BF","ST","CC","BJ","IO","KM","GQ","FK","TF","GW","MH","YT","MS","NR","NF","PW","PN","SH","TK","UM"];static U71=100;static U72=1e3;static U73=100;static U74=1e4;static R79=10;static R80=.1;static R81=10;static R82=3;static S79=24*60*60*1e3;static S80=1e7;static R83=1;static R84=2;static R85=3;static R86=4;static R87=5;static R88=6;static R89=7;static R90=8;static R91=10;static R92=11;static R93=12;static R94=13;static R95=14;static R96=15;static R97=16;static R98=17;static R99=18;static R100=19;static R101=20;static R102=21;static R103=22;static R104=0;static R105=-1e4;static R106=-2e4;static S81=2;static A102=[12,1,10,2,3,4,5,17,6,7,15,16,18,20,19,13,21,22,8,14];static R107={1:"1.svg?v2",2:"2.png?v2",3:"3.png?v2",4:"4.png?v2",5:"5.png?v2",6:"6.png?v2",7:"7.png?v2",8:"8.png?v2",9:"9.png?v2",10:"10.png?v2",11:"11.svg?v2",12:"12.svg?v2",13:"13.png?v2",14:"14.svg?v2",15:"15.svg?v2",16:"16.svg?v2",17:"17.png?v2",18:"18.svg?v2",19:"19.png?v2",20:"20.svg?v2",21:"21.png?v2",22:"22.png?v2"};static F84=24192;static F85=24190;static F86=24250;static F87=24263;static S82=10;static S83=24259;static S84=24264;static S85=24285;static Y62=2023;static S86=10;static S87=100;static S88=2;static G117=1;static G118=1;static G119=2;static G120=3;static G121=4;static G122=5;static G123=6;static G124=7;static G125=8;static G126=9;static G127=10;static G128=10;static G129=11;static G130=12;static G131=13;static T84=14;static A103=15;static H97=16;static M69=38;static E76=39;static E77=5;static A104=40;static A105=40;static A106=40;static A107=41;static A108=42;static A109=43;static A110=44;static A111=45;static A112=46;static A113=47;static A114=48;static A115=49;static A116=50;static A117=50;static T85=50;static T86=51;static T87=51;static T88=52;static T89=53;static T90=54;static T91=55;static T92=56;static T93=57;static T94=58;static T95=58;static R108=59;static T96=5e3;static T97=2.34;static N66=3;static P125=17;static P126=17;static P127=18;static P128=19;static P129=20;static P130=21;static P131=22;static P132=23;static P133=24;static P134=25;static P135=26;static P136=27;static P137=28;static P138=29;static P139=29;static G132=19;static X61=30;static X62=100;static J61=31;static J62=31;static J63=32;static J64=33;static J65=34;static J66=35;static J67=36;static J68=37;static J69=37;static H98=1e3;static A118=300;static A119=.05;static T98=1;static T99=2;static T100=3;static T101=4;static T102=5;static T103=6;static M70=1;static M71=2;static M72=3;static M73=1;static M74=2;static M75=3;static M76=4;static M77=5;static M78=6;static M79=30*24*60*60*1e3;static M80=1e7;static M81=1e4;static M82=1;static M83=2;static M84=3;static M85=4;static M86=5;static M87=6;static M88=7;static E78=1;static E79=2;static E80=1;static E81=2;static E82=3;static E83=4;static E84=5;static E85=30*24*60*60*1e3;static B67=30;static B68=1e5;static B69=1e3;static B70=3e3;static B71=.5;static T104=100;static T105=1e5;static U75=1;static U76=2;static U77=3;static S89=1;static S90=4;static S91=6;static S92=7;static S93=8;static S94=9;static S95=10;static S96=11;static S97=12;static S98=13;static S99=14;static S100=15;static S101=16;static S102=17;static S103=18;static S104=19;static S105=1;static S106=2;static S107=3;static S108=4;static L65=1;static L66=2;static V61=0;static V62=1;static V63=2;static V64=3;static V65=4;static V66=5;static V67=6;static V68=7;static P140=1;static P141=2;static P142=3;static P143=4;static P144=5;static S109=100;static S110=200;static S111=300;static W82=30*1e3;static W83=100*1e3;static P145=32;static P146=864e5;static I72="IsomorphicBot";static I73=306420;static S112=50;static S113="ScreenBot/9000";static A120=1e6;static W84=525767;static M89=13388392;static A121=[525767,2853300,13388392];static C98=[525767,2853300,13388392];static C99={525767:"level1-link",2853300:"level3-link",13388392:"level2-link"};static G133=[525767,13388392,2966478,2853300,2282005,3472556,5242851,2620977,4512690,5802800,6836079,13330045];static S114=[4928386];static C100=-1;static C101=-2;static C102=-3;static C103=2;static C104=3;static C105=4;static C106=5;static C107=6;static C108=7;static C109=8;static C110=9;static C111=10;static C112=100;static C113=5e3;static C114=1;static C115=1e3;static N67=60*60*1e3;static G134=24*60*60*1e3;static E86=355;static S115=355;static S116=356;static S117=357;static S118=358;static S119=359;static S120=360;static S121=361;static S122=362;static S123=363;static S124=364;static S125=365;static S126=366;static S127=367;static H99=370;static H100=371;static H101=372;static H102=373;static H103=374;static H104=375;static H105=376;static H106=377;static H107=378;static H108=379;static H109=380;static H110=381;static H111=382;static S128=385;static S129=386;static S130=387;static S131=388;static S132=389;static S133=390;static S134=391;static S135=392;static S136=393;static S137=394;static S138=395;static S139=396;static S140=397;static E87=400;static E88=401;static E89=402;static E90=403;static E91=404;static E92=405;static E93=406;static E94=407;static E95=408;static E96=409;static E97=410;static E98=411;static E99=412;static F88=415;static F89=416;static F90=417;static F91=418;static F92=419;static F93=420;static F94=421;static F95=422;static F96=423;static F97=424;static F98=425;static F99=426;static F100=427;static L67=430;static L68=431;static L69=432;static L70=433;static L71=434;static L72=435;static L73=436;static L74=437;static L75=438;static L76=439;static L77=440;static L78=441;static L79=442;static I74=445;static I75=446;static I76=447;static I77=448;static I78=449;static I79=450;static I80=451;static I81=452;static I82=453;static I83=454;static I84=455;static I85=456;static I86=457;static D70=460;static D71=461;static D72=462;static D73=463;static D74=464;static D75=465;static D76=466;static D77=467;static D78=468;static D79=469;static D80=470;static D81=471;static D82=472;static F101=475;static F102=476;static F103=477;static F104=478;static F105=479;static F106=480;static F107=481;static F108=482;static F109=483;static F110=484;static F111=485;static F112=486;static F113=487;static P147=490;static P148=491;static P149=492;static P150=493;static P151=494;static P152=495;static P153=496;static P154=497;static P155=498;static P156=499;static P157=500;static P158=501;static P159=502;static C116=505;static C117=506;static C118=507;static C119=508;static C120=509;static C121=510;static C122=511;static C123=512;static C124=513;static C125=514;static C126=515;static C127=516;static C128=517;static C129=520;static C130=521;static C131=522;static C132=523;static C133=524;static C134=525;static C135=526;static C136=527;static C137=528;static C138=529;static C139=530;static C140=531;static C141=532;static E100=532;static T106=535;static S141=535;static H112=536;static S142=537;static E101=538;static F114=539;static L80=540;static I87=541;static D83=542;static F115=543;static P160=544;static C142=545;static C143=546;static T107=546;static E102=550;static B72=0;static B73=1;static B74=2;static B75=3;static B76=10;static B77=11;static B78=12;static B79=13;static B80=18;static B81=20;static B82=21;static B83=25;static B84=31;static B85=32;static B86=33;static B87=34;static B88=35;static B89=36;static B90=37;static B91=38;static B92=39;static B93=0;static B94=39;static G135={};static L81={};static L82={};static R109={};static R110={};static A64={};static T108={};static T109={};static E103=24251;static E104={24295:10,24296:11};static E105={};static E106=10;static E107=11;static E108=30;static E109=31;static E110=40;static E111=41;static E112=50;static E113=51;static C144=24263;static C145={};static C146=1;static C147=2;static C148=3;static C149=4;static C150=5;static C151=6;static C152=7;static C153=8;static C154=9;static C155=10;static C156=11;static C157=12;static C158=13;static C159=14;static C160=15;static C161=16;static C162=17;static C163=18;static C164=19;static A122=["img.minesweeper.online","docs.google.com","1drv.ms","userstyles.world","imgur.com","i.imgur.com","ibb.co","github.com","pttacgfans.github.io","twitch.tv","www.twitch.tv","discord.gg","discord.com","disboard.org","youtube.com","m.youtube.com","www.youtube.com","youtu.be","twitter.com","x.com","www.instagram.com","www.facebook.com","www.reddit.com","www.tiktok.com","www.baidu.com","en.wikipedia.org","www.amazon.com","www.linkedin.com","www.pinterest.com","www.bilibili.com","t.me","www.fandom.com","w.atwiki.jp","cdn.discordapp.com","forms.gle"];static A123={en:{href:"/",flag:"us.png",text:"English"},de:{href:"/de/",flag:"de.png",text:"Deutsch"},ru:{href:"/ru/",flag:"ru.png",text:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},es:{href:"/es/",flag:"es.png",text:"Espa\xF1ol"},pt:{href:"/pt/",flag:"pt.png",text:"Portugues"},it:{href:"/it/",flag:"it.png",text:"Italiano"},fr:{href:"/fr/",flag:"fr.png",text:"Fran\xE7ais"},cn:{href:"/cn/",flag:"cn.png",text:"\u7B80\u4F53\u4E2D\u6587"},tw:{href:"/tw/",flag:"tw.png",text:"\u6B63\u9AD4\u4E2D\u6587"},ja:{href:"/ja/",flag:"jp.png",text:"\u65E5\u672C\u8A9E"},ko:{href:"/ko/",flag:"kr.png",text:"\uD55C\uAD6D\uC5B4"}};static C165={en:1,de:102,ru:101,es:105,pt:106,it:103,fr:104,cn:107,tw:110,ja:108,ko:109};static i137(e){return e==0?!0:e<this.U65?e>=this.Y62:e>=this.S85}static i138(e){return e.premiumTo&&new Date(e.premiumTo).getTime()>Date.now()||e.eliteAt||e.patronState==this.P140||e.patronState==this.P141}static g249(e){return!e||e<100?[1,1]:e<200?[1,2]:e<300?[1,3]:e<400?[1,4]:e<500?[1,5]:e<600?[1,6]:e<700?[1,7]:e<800?[2,8]:e<900?[2,9]:e<1e3?[2,10]:e<1100?[2,11]:e<1200?[3,12]:e<1300?[3,13]:[3,13]}static g250(){let e=new Date,s=e.getFullYear()*12+e.getMonth();return this.C145[s]&&e.getTime()>=this.C145[s].startsAt&&e.getTime()<this.C145[s].endsAt?s:null}static C166={AW:"AWG",AF:"AFN",AO:"AOA",AI:"XCD",AX:"EUR",AL:"ALL",AD:"EUR",AE:"AED",AR:"ARS",AM:"AMD",AS:"USD",TF:"EUR",AG:"XCD",AU:"AUD",AT:"EUR",AZ:"AZN",BI:"BIF",BE:"EUR",BJ:"XOF",BF:"XOF",BD:"BDT",BG:"BGN",BH:"BHD",BS:"BSD",BA:"BAM",BL:"EUR",SH:"SHP",BY:"BYN",BZ:"BZD",BM:"BMD",BO:"BOB",BQ:"USD",BR:"BRL",BB:"BBD",BN:"BND",BT:"BTN",BV:"NOK",BW:"BWP",CF:"XAF",CA:"CAD",CC:"AUD",CH:"CHF",CL:"CLP",CN:"CNY",CI:"XOF",CM:"XAF",CD:"CDF",CG:"XAF",CK:"NZD",CO:"COP",KM:"KMF",CV:"CVE",CR:"CRC",CU:"CUC",CW:"ANG",CX:"AUD",KY:"KYD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DM:"XCD",DK:"DKK",DO:"DOP",DZ:"DZD",EC:"USD",EG:"EGP",ER:"ERN",EH:"MAD",ES:"EUR",EE:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FR:"EUR",FO:"DKK",FM:"USD",GA:"XAF",GB:"GBP",GE:"GEL",GG:"GBP",GH:"GHS",GI:"GIP",GN:"GNF",GP:"EUR",GM:"GMD",GW:"XOF",GQ:"XAF",GR:"EUR",GD:"XCD",GL:"DKK",GT:"GTQ",GF:"EUR",GU:"USD",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IM:"GBP",IN:"INR",IO:"USD",IE:"EUR",IR:"IRR",IQ:"IQD",IS:"ISK",IL:"ILS",IT:"EUR",JM:"JMD",JE:"GBP",JO:"JOD",JP:"JPY",KZ:"KZT",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KN:"XCD",KR:"KRW",XK:"EUR",KW:"KWD",LA:"LAK",LB:"LBP",LR:"LRD",LY:"LYD",LC:"XCD",LI:"CHF",LK:"LKR",LS:"LSL",LT:"EUR",LU:"EUR",LV:"EUR",MO:"MOP",MF:"EUR",MA:"MAD",MC:"EUR",MD:"MDL",MG:"MGA",MV:"MVR",MX:"MXN",MH:"USD",MK:"MKD",ML:"XOF",MT:"EUR",MM:"MMK",ME:"EUR",MN:"MNT",MP:"USD",MZ:"MZN",MR:"MRO",MS:"XCD",MQ:"EUR",MU:"MUR",MW:"MWK",MY:"MYR",YT:"EUR",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NU:"NZD",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NZ:"NZD",OM:"OMR",PK:"PKR",PA:"PAB",PN:"NZD",PE:"PEN",PH:"PHP",PW:"USD",PG:"PGK",PL:"PLN",PR:"USD",KP:"KPW",PT:"EUR",PY:"PYG",PS:"ILS",PF:"XPF",QA:"QAR",RE:"EUR",RO:"RON",RU:"RUB",RW:"RWF",SA:"SAR",SD:"SDG",SN:"XOF",SG:"SGD",GS:"GBP",SJ:"NOK",SB:"SDB",SL:"SLL",SV:"SVC",SM:"EUR",SO:"SOS",PM:"EUR",RS:"RSD",SS:"SSP",ST:"STD",SR:"SRD",SK:"EUR",SI:"EUR",SE:"SEK",SZ:"SZL",SX:"ANG",SC:"SCR",SY:"SYP",TC:"USD",TD:"XAF",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TM:"TMT",TL:"USD",TO:"TOP",TT:"TTD",TN:"TND",TR:"TRY",TV:"AUD",TW:"TWD",TZ:"TZS",UG:"UGX",UA:"UAH",UM:"USD",UY:"UYU",US:"USD",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",ZA:"ZAR",ZM:"ZMW",ZW:"ZWL"};static C167={BRL:"R$",CAD:"C$",CZK:"K\u010D",DKK:"kr",EUR:"\u20AC",HKD:"HK$",HUF:"Ft",INR:"\u20B9",ILS:"\u20AA",JPY:"\xA5",MYR:"RM",TWD:"NT$",NZD:"NZ$",NOK:"kr",PHP:"\u20B1",PLN:"z\u0142",GBP:"\xA3",RUB:"\u20BD",SGD:"S$",SEK:"kr",CHF:"\u20A3",THB:"\u0E3F",USD:"$",KRW:"\u20A9"};static C168=["AUD","BRL","CAD","CZK","DKK","EUR","HKD","HUF","ILS","JPY","MXN","NZD","NOK","PHP","PLN","GBP","RUB","SGD","SEK","CHF","THB","USD","KRW"];static C169=["HUF","JPY","TWD"];static B95=1e3;static g251(e){return e==this.P78?[1e3,5,null,5,25]:e==this.P79?[5e3,50,null,25,75]:e==this.P80?[1e4,100,null,50,200]:e==this.P81?[2e4,200,null,100,500]:e==this.P82?[25e3,250,null,125,625]:e==this.P83?[1e5,0,null,0,0]:e==this.P84?[1e5,0,null,0,1e3]:e==this.P85?[4e4,400,null,200,1e3]:e==this.P86?[5e4,500,null,250,1250]:e==this.P87?[7e4,700,null,350,1750]:e==this.P88?[1e5,1e3,null,500,3e3]:e==this.P89?[12e4,1200,null,600,3e3]:e==this.P90?[15e4,1500,null,750,3750]:e==this.P91?[2e5,2e3,null,1e3,5e3]:e==this.P92?[25e4,2500,null,1250,6250]:e==this.P93?[3e5,3e3,null,1500,7500]:e==this.P94?[4e5,4e3,null,2e3,1e4]:e==this.P95?[5e5,5e3,null,2500,12500]:e==this.P118?[25e3,250,null,100,500]:e==this.P119?[1e6,0,null,0,0]:e==this.P102?[3e4,0,null,0,0]:e==this.P103?[5e4,0,null,0,0]:e==this.P104?[5e4,0,null,0,500]:e==this.P105?[1e5,0,null,0,1e3]:e==this.P106?[1e5,0,null,0,1e3]:e==this.P107?[1e5,5e3,null,0,1e3]:[0,0,null,0,0]}static r229(e,s,n,r){(e+"").split(".")[1]=="99"&&(r=4),r||(r=3);let l;for(let p=1;p<=1e9;p*=10)if(e<p){l=Math.pow(10,r)/p;break}return n&&l>1&&(this.C169.indexOf(s)!=-1?l=1:l==1e3&&(l=100)),Math.ceil(e*l)/l}static g252(e,s){return s==1?[e*100,e]:s==2?[this.r230(e*90,100),Math.floor(e*.9)]:s==3?[this.r230(e*85,100),Math.floor(e*.85)]:s==4?[this.r230(e*80,100),Math.floor(e*.8)]:s==5?[this.r230(e*75,100),Math.floor(e*.75)]:s==6?[this.r230(e*70,100),Math.floor(e*.7)]:s==7?[this.r230(e*65,100),Math.floor(e*.65)]:s==8?[this.r230(e*60,100),Math.floor(e*.6)]:s==9?[this.r230(e*55,100),Math.floor(e*.55)]:s==10?[this.r230(e*50,100),Math.floor(e*.5)]:s<=100?[this.r230(Math.floor(e*50/Math.pow(1.0077,s-10)),50),Math.floor(e*.5/Math.pow(1.018,s-10))]:s<=1e3?[this.r230(Math.floor(e*25/Math.pow(1.001018,s-100)),10),Math.floor(e*.1/Math.pow(1.00256,s-100))]:[e*10,Math.floor(.01*e)]}static g253(e){return e==1?5e3:e==2?Math.floor(5e3*.9):e==3?Math.floor(5e3*.85):e==4?Math.floor(5e3*.8):e==5?Math.floor(5e3*.75):e==6?Math.floor(5e3*.7):e==7?Math.floor(5e3*.65):e==8?Math.floor(5e3*.6):e==9?Math.floor(5e3*.55):e==10?Math.floor(5e3*.5):e<=100?this.r230(Math.floor(5e3*.5/Math.pow(1.018,e-10)),5):e<=1e3?this.r230(Math.floor(5e3*.1/Math.pow(1.00256,e-100)),5):0}static r230(e,s){return Math.floor(e/s)*s}static g254(e,s){let n=Math.floor(s/this.H98);return Math.floor(e/this.H98)<Math.floor((e+s%this.H98)/this.H98)&&n++,n}static g255(e,s){let n=Math.floor(s/this.A118);return Math.floor(e/this.A118)<Math.floor((e+s%this.A118)/this.A118)&&n++,n}static i139(e){return[this.G71,this.G72,this.G73,this.G74,this.G75,this.G84,this.G85,this.G86,this.G87,this.G88].indexOf(parseInt(e))!=-1}static i140(e){return e.indexOf(this.I72)!=-1}static i141(e){return e.indexOf("minesweeper-online-app")!=-1}static i142(e){return e==this.E107||e==this.E109||e==this.E111||e==this.E113}static e96(e){return e?e.indexOf("connect ECONNREFUSED")==-1&&e.indexOf("connect EHOSTUNREACH")==-1&&e.indexOf("connect ETIMEDOUT")==-1&&e.indexOf("read ECONNRESET")==-1&&e.indexOf("socket hang up")==-1&&e.indexOf("adsbygoogle")==-1&&e.indexOf("require auth")==-1:!1}static s194(e,s,n,r,l,p){return 2*(e+s)+3*(n+r)+4*l+p}};i.G135[i.G67]={SX:9,SY:9,MINES:10};i.G135[i.G68]={SX:16,SY:16,MINES:40};i.G135[i.G69]={SX:30,SY:16,MINES:99};i.G135[i.G71]={SX:9,SY:9,MINES:10};i.G135[i.G72]={SX:16,SY:16,MINES:40};i.G135[i.G73]={SX:30,SY:16,MINES:99};i.G135[i.G74]={SX:30,SY:20,MINES:130};i.R109[i.R83]="seasons";i.R109[i.R84]="winsNf";i.R109[i.R85]="wins1";i.R109[i.R86]="wins2";i.R109[i.R87]="wins3";i.R109[i.R98]="wins13_14";i.R109[i.R88]="coinsAll";i.R109[i.R90]="expAll";i.R109[i.R93]="timeAll";i.R109[i.R94]="diff";i.R109[i.R96]="mastery3";i.R109[i.R97]="ws1";i.R109[i.R99]="endBestPoints";i.R109[i.R101]="arenaPoints";i.R109[i.R102]="eventItems";i.R110[i.R83]=5;i.R110[i.R84]=50;i.R110[i.R85]=50;i.R110[i.R86]=50;i.R110[i.R87]=50;i.R110[i.R98]=50;i.R110[i.R88]=1e4;i.R110[i.R89]=1;i.R110[i.R90]=1e6;i.R110[i.R91]=5e3;i.R110[i.R93]=5*60*60*1e3;i.R110[i.R94]=1e3;i.R110[i.R92]=1e3;i.R110[i.R96]=10;i.R110[i.R97]=10;i.R110[i.R99]=1;i.R110[i.R100]=1;i.R110[i.R101]=10;i.R110[i.R102]=1e3;i.R110[i.R103]=100;i.L81[i.G67]=95;i.L81[i.G68]=75;i.L81[i.G69]=30;i.L82[i.G67]=50;i.L82[i.G68]=15;i.L82[i.G69]=5;var Ot=1.077;i.P123[i.P79]={md:5*Ot,USD:5,EUR:5};i.P123[i.P80]={md:10*Ot,USD:10,EUR:10};i.P123[i.P81]={md:20*Ot,USD:20,EUR:20};i.P123[i.P83]={md:30*Ot,USD:30,EUR:30,fakeMod:3};i.P123[i.P84]={md:30*Ot,USD:30,EUR:30,fakeMod:3};i.P123[i.P88]={md:100*Ot,USD:100,EUR:100};i.P123[i.P119]={md:100*Ot,USD:100,EUR:100,fakeMod:5};i.P123[i.P108]={md:2.5*Ot,USD:2.5,EUR:2.5};i.P123[i.P112]={md:3*Ot,USD:3,EUR:3};i.P123[i.P113]={md:6*Ot,USD:6,EUR:6};i.P123[i.P114]={md:10*Ot,USD:10,EUR:10};i.P123[i.P115]={md:15*Ot,USD:15,EUR:15};i.P123[i.P101]={md:10*Ot,USD:10,EUR:10,fakeMod:4};i.P123[i.P102]={md:15*Ot,USD:15,EUR:15,fakeMod:4};i.P123[i.P103]={md:20*Ot,USD:20,EUR:20,fakeMod:3.75};i.P123[i.P104]={md:5*Ot,USD:5,EUR:5,fakeMod:12};i.P123[i.P105]={md:5*Ot,USD:5,EUR:5,fakeMod:10};i.P123[i.P106]={md:7*Ot,USD:7,EUR:7,fakeMod:20};i.P123[i.P107]={md:7*Ot,USD:7,EUR:7,fakeMod:100/7};i.T108[i.A83]=.14;i.T108[i.A84]=.12;i.T108[i.A85]=.06;i.T108[i.A86]=.12;i.T108[i.A87]=.12;i.T108[i.A88]=.16;i.T108[i.A89]=.1;i.T108[i.A90]=.1;i.T108[i.A91]=.04;i.T108[i.A92]=.04;i.T109[1]=.36;i.T109[2]=.3;i.T109[3]=.16;i.T109[4]=.085;i.T109[5]=.045;i.T109[6]=.025;i.T109[7]=.015;i.T109[8]=.01;i.W81[i.W68]=i.I76;i.W81[i.W69]=i.I77;i.W81[i.W70]=i.I79;i.W81[i.W71]=i.I80;i.W81[i.W72]=i.I81;i.W81[i.W73]=i.I82;i.W81[i.W74]=i.I83;i.W81[i.W75]=i.I84;i.E75[i.S141]={};i.E75[i.S141][i.G118]=i.S117;i.E75[i.S141][i.G119]=i.S118;i.E75[i.S141][i.G120]=i.S119;i.E75[i.S141][i.G121]=i.S120;i.E75[i.S141][i.G122]=i.S121;i.E75[i.S141][i.G123]=i.S122;i.E75[i.S141][i.G124]=i.S123;i.E75[i.S141][i.G125]=i.S124;i.E75[i.S141][i.G126]=i.S125;i.E75[i.S141][i.G127]=i.S126;i.E75[i.S141][i.G129]=i.S127;i.E75[i.S141][i.G130]=i.S115;i.E75[i.S141][i.G131]=i.S116;i.E75[i.H112]={};i.E75[i.H112][i.G118]=i.H101;i.E75[i.H112][i.G119]=i.H102;i.E75[i.H112][i.G120]=i.H103;i.E75[i.H112][i.G121]=i.H104;i.E75[i.H112][i.G122]=i.H105;i.E75[i.H112][i.G123]=i.H106;i.E75[i.H112][i.G124]=i.H107;i.E75[i.H112][i.G125]=i.H108;i.E75[i.H112][i.G126]=i.H109;i.E75[i.H112][i.G127]=i.H110;i.E75[i.H112][i.G129]=i.H111;i.E75[i.H112][i.G130]=i.H99;i.E75[i.H112][i.G131]=i.H100;i.E75[i.S142]={};i.E75[i.S142][i.G118]=i.S130;i.E75[i.S142][i.G119]=i.S131;i.E75[i.S142][i.G120]=i.S132;i.E75[i.S142][i.G121]=i.S133;i.E75[i.S142][i.G122]=i.S134;i.E75[i.S142][i.G123]=i.S135;i.E75[i.S142][i.G124]=i.S136;i.E75[i.S142][i.G125]=i.S137;i.E75[i.S142][i.G126]=i.S138;i.E75[i.S142][i.G127]=i.S139;i.E75[i.S142][i.G129]=i.S140;i.E75[i.S142][i.G130]=i.S128;i.E75[i.S142][i.G131]=i.S129;i.E75[i.E101]={};i.E75[i.E101][i.G118]=i.E89;i.E75[i.E101][i.G119]=i.E90;i.E75[i.E101][i.G120]=i.E91;i.E75[i.E101][i.G121]=i.E92;i.E75[i.E101][i.G122]=i.E93;i.E75[i.E101][i.G123]=i.E94;i.E75[i.E101][i.G124]=i.E95;i.E75[i.E101][i.G125]=i.E96;i.E75[i.E101][i.G126]=i.E97;i.E75[i.E101][i.G127]=i.E98;i.E75[i.E101][i.G129]=i.E99;i.E75[i.E101][i.G130]=i.E87;i.E75[i.E101][i.G131]=i.E88;i.E75[i.F114]={};i.E75[i.F114][i.G118]=i.F90;i.E75[i.F114][i.G119]=i.F91;i.E75[i.F114][i.G120]=i.F92;i.E75[i.F114][i.G121]=i.F93;i.E75[i.F114][i.G122]=i.F94;i.E75[i.F114][i.G123]=i.F95;i.E75[i.F114][i.G124]=i.F96;i.E75[i.F114][i.G125]=i.F97;i.E75[i.F114][i.G126]=i.F98;i.E75[i.F114][i.G127]=i.F99;i.E75[i.F114][i.G129]=i.F100;i.E75[i.F114][i.G130]=i.F88;i.E75[i.F114][i.G131]=i.F89;i.E75[i.L80]={};i.E75[i.L80][i.G118]=i.L69;i.E75[i.L80][i.G119]=i.L70;i.E75[i.L80][i.G120]=i.L71;i.E75[i.L80][i.G121]=i.L72;i.E75[i.L80][i.G122]=i.L73;i.E75[i.L80][i.G123]=i.L74;i.E75[i.L80][i.G124]=i.L75;i.E75[i.L80][i.G125]=i.L76;i.E75[i.L80][i.G126]=i.L77;i.E75[i.L80][i.G127]=i.L78;i.E75[i.L80][i.G129]=i.L79;i.E75[i.L80][i.G130]=i.L67;i.E75[i.L80][i.G131]=i.L68;i.E75[i.I87]={};i.E75[i.I87][i.G118]=i.I76;i.E75[i.I87][i.G119]=i.I77;i.E75[i.I87][i.G120]=i.I78;i.E75[i.I87][i.G121]=i.I79;i.E75[i.I87][i.G122]=i.I80;i.E75[i.I87][i.G123]=i.I81;i.E75[i.I87][i.G124]=i.I82;i.E75[i.I87][i.G125]=i.I83;i.E75[i.I87][i.G126]=i.I84;i.E75[i.I87][i.G127]=i.I85;i.E75[i.I87][i.G129]=i.I86;i.E75[i.I87][i.G130]=i.I74;i.E75[i.I87][i.G131]=i.I75;i.E75[i.D83]={};i.E75[i.D83][i.G118]=i.D72;i.E75[i.D83][i.G119]=i.D73;i.E75[i.D83][i.G120]=i.D74;i.E75[i.D83][i.G121]=i.D75;i.E75[i.D83][i.G122]=i.D76;i.E75[i.D83][i.G123]=i.D77;i.E75[i.D83][i.G124]=i.D78;i.E75[i.D83][i.G125]=i.D79;i.E75[i.D83][i.G126]=i.D80;i.E75[i.D83][i.G127]=i.D81;i.E75[i.D83][i.G129]=i.D82;i.E75[i.D83][i.G130]=i.D70;i.E75[i.D83][i.G131]=i.D71;i.E75[i.F115]={};i.E75[i.F115][i.G118]=i.F103;i.E75[i.F115][i.G119]=i.F104;i.E75[i.F115][i.G120]=i.F105;i.E75[i.F115][i.G121]=i.F106;i.E75[i.F115][i.G122]=i.F107;i.E75[i.F115][i.G123]=i.F108;i.E75[i.F115][i.G124]=i.F109;i.E75[i.F115][i.G125]=i.F110;i.E75[i.F115][i.G126]=i.F111;i.E75[i.F115][i.G127]=i.F112;i.E75[i.F115][i.G129]=i.F113;i.E75[i.F115][i.G130]=i.F101;i.E75[i.F115][i.G131]=i.F102;i.E75[i.P160]={};i.E75[i.P160][i.G118]=i.P149;i.E75[i.P160][i.G119]=i.P150;i.E75[i.P160][i.G120]=i.P151;i.E75[i.P160][i.G121]=i.P152;i.E75[i.P160][i.G122]=i.P153;i.E75[i.P160][i.G123]=i.P154;i.E75[i.P160][i.G124]=i.P155;i.E75[i.P160][i.G125]=i.P156;i.E75[i.P160][i.G126]=i.P157;i.E75[i.P160][i.G127]=i.P158;i.E75[i.P160][i.G129]=i.P159;i.E75[i.P160][i.G130]=i.P147;i.E75[i.P160][i.G131]=i.P148;i.E75[i.C142]={};i.E75[i.C142][i.G118]=i.C118;i.E75[i.C142][i.G119]=i.C119;i.E75[i.C142][i.G120]=i.C120;i.E75[i.C142][i.G121]=i.C121;i.E75[i.C142][i.G122]=i.C122;i.E75[i.C142][i.G123]=i.C123;i.E75[i.C142][i.G124]=i.C124;i.E75[i.C142][i.G125]=i.C125;i.E75[i.C142][i.G126]=i.C126;i.E75[i.C142][i.G127]=i.C127;i.E75[i.C142][i.G129]=i.C128;i.E75[i.C142][i.G130]=i.C116;i.E75[i.C142][i.G131]=i.C117;i.E75[i.C143]={};i.E75[i.C143][i.G118]=i.C131;i.E75[i.C143][i.G119]=i.C132;i.E75[i.C143][i.G120]=i.C133;i.E75[i.C143][i.G121]=i.C134;i.E75[i.C143][i.G122]=i.C135;i.E75[i.C143][i.G123]=i.C136;i.E75[i.C143][i.G124]=i.C137;i.E75[i.C143][i.G125]=i.C138;i.E75[i.C143][i.G126]=i.C139;i.E75[i.C143][i.G127]=i.C140;i.E75[i.C143][i.G129]=i.C141;i.E75[i.C143][i.G130]=i.C129;i.E75[i.C143][i.G131]=i.C130;i.E105[24250]=i.C142;i.E105[24251]=i.C143;i.E105[24252]=i.S141;i.E105[24253]=i.H112;i.E105[24254]=i.S142;i.E105[24255]=i.E101;i.E105[24256]=i.F114;i.E105[24257]=i.L80;i.E105[24258]=i.I87;i.E105[24259]=i.D83;i.E105[24260]=i.F115;i.E105[24261]=i.P160;i.E105[24262]=i.C142;i.E105[24263]=i.C143;i.E105[24264]=i.S141;i.E105[24265]=i.H112;i.E105[24266]=i.S142;i.E105[24267]=i.E101;i.E105[24268]=i.F114;i.E105[24269]=i.L80;i.E105[24270]=i.I87;i.E105[24271]=i.D83;i.E105[24272]=i.F115;i.E105[24273]=i.P160;i.E105[24274]=i.C142;i.E105[24275]=i.C143;i.E105[24276]=i.S141;i.E105[24277]=i.H112;i.E105[24278]=i.S142;i.E105[24279]=i.E101;i.E105[24280]=i.F114;i.E105[24281]=i.L80;i.E105[24282]=i.I87;i.E105[24283]=i.D83;i.E105[24284]=i.F115;i.E105[24285]=i.P160;i.E105[24286]=i.C142;i.E105[24287]=i.C143;i.E105[24288]=i.S141;i.E105[24289]=i.H112;i.E105[24290]=i.S142;i.E105[24291]=i.E101;i.E105[24292]=i.F114;i.E105[24293]=i.L80;i.E105[24294]=i.I87;i.E105[24295]=i.D83;i.C145[24263]={type:i.C146,startsAt:Date.UTC(2021,11,23,21,0,0),endsAt:Date.UTC(2021,11,27,0,0,0),resourceType:i.C131};i.C145[24264]={type:i.C147,startsAt:Date.UTC(2022,0,20,21,0,0),endsAt:Date.UTC(2022,0,24,0,0,0),resourceType:i.S118};i.C145[24265]={type:i.C148,startsAt:Date.UTC(2022,1,17,21,0,0),endsAt:Date.UTC(2022,1,21,0,0,0),resourceType:i.H99};i.C145[24266]={type:i.C149,startsAt:Date.UTC(2022,2,24,21,0,0),endsAt:Date.UTC(2022,2,28,0,0,0),resourceType:i.S134};i.C145[24267]={type:i.C150,startsAt:Date.UTC(2022,3,21,21,0,0),endsAt:Date.UTC(2022,3,25,0,0,0),resourceType:i.E89};i.C145[24268]={type:i.C151,startsAt:Date.UTC(2022,4,27,21,0,0),endsAt:Date.UTC(2022,4,31,0,0,0),resourceType:i.F91};i.C145[24269]={type:i.C152,startsAt:Date.UTC(2022,5,23,21,0,0),endsAt:Date.UTC(2022,5,27,0,0,0),resourceType:i.L72};i.C145[24270]={type:i.C153,startsAt:Date.UTC(2022,6,28,21,0,0),endsAt:Date.UTC(2022,6,31,21,0,0),resourceType:i.I80};i.C145[24271]={type:i.C154,startsAt:Date.UTC(2022,7,25,21,0,0),endsAt:Date.UTC(2022,7,29,0,0,0),resourceType:i.D72};i.C145[24272]={type:i.C155,startsAt:Date.UTC(2022,8,22,22,0,0),endsAt:Date.UTC(2022,8,26,0,0,0),resourceType:i.F105};i.C145[24273]={type:i.C156,startsAt:Date.UTC(2022,9,27,22,0,0),endsAt:Date.UTC(2022,9,31,0,0,0),resourceType:i.P154};i.C145[24274]={type:i.C157,startsAt:Date.UTC(2022,10,24,22,20,0),endsAt:Date.UTC(2022,10,28,0,0,0),resourceType:i.C120};i.C145[24275]={type:i.C146,startsAt:Date.UTC(2022,11,23,22,0,0),endsAt:Date.UTC(2022,11,27,0,0,0),resourceType:i.C131};i.C145[24276]={type:i.C147,startsAt:Date.UTC(2023,0,26,22,0,0),endsAt:Date.UTC(2023,0,30,0,0,0),resourceType:i.S118};i.C145[24277]={type:i.C148,startsAt:Date.UTC(2023,1,23,22,0,0),endsAt:Date.UTC(2023,1,27,0,0,0),resourceType:i.H104};i.C145[24278]={type:i.C149,startsAt:Date.UTC(2023,2,23,22,0,0),endsAt:Date.UTC(2023,2,27,0,0,0),resourceType:i.S134};i.C145[24279]={type:i.C150,startsAt:Date.UTC(2023,3,27,22,0,0),endsAt:Date.UTC(2023,4,1,0,0,0),resourceType:i.E89};i.C145[24280]={type:i.C151,startsAt:Date.UTC(2023,4,25,21,0,0),endsAt:Date.UTC(2023,4,29,0,0,0),resourceType:i.F91};i.C145[24281]={type:i.C152,startsAt:Date.UTC(2023,5,22,22,0,0),endsAt:Date.UTC(2023,5,26,0,0,0),resourceType:i.L72};i.C145[24282]={type:i.C158,startsAt:Date.UTC(2023,6,27,21,0,0),endsAt:Date.UTC(2023,6,31,0,0,0),resourceType:i.I85};i.C145[24283]={type:i.C159,startsAt:Date.UTC(2023,7,24,21,0,0),endsAt:Date.UTC(2023,7,28,0,0,0),resourceType:i.D72};i.C145[24284]={type:i.C160,startsAt:Date.UTC(2023,8,21,21,0,0),endsAt:Date.UTC(2023,8,25,0,0,0),resourceType:i.F105};i.C145[24285]={type:i.C161,startsAt:Date.UTC(2023,9,26,21,0,0),endsAt:Date.UTC(2023,9,30,0,0,0),resourceType:i.P157};i.C145[24286]={type:i.C162,startsAt:Date.UTC(2023,10,23,21,0,0),endsAt:Date.UTC(2023,10,27,0,0,0),resourceType:i.C122};i.C145[24287]={type:i.C150,startsAt:Date.UTC(2023,11,21,21,0,0),endsAt:Date.UTC(2023,11,25,0,0,0),resourceType:i.C131};i.C145[24288]={type:i.C155,startsAt:Date.UTC(2024,0,25,22,0,0),endsAt:Date.UTC(2024,0,29,0,0,0),resourceType:i.S119};i.C145[24289]={type:i.C148,startsAt:Date.UTC(2024,1,22,21,0,0),endsAt:Date.UTC(2024,1,26,3,0,0),resourceType:i.H102};i.C145[24290]={type:i.C154,startsAt:Date.UTC(2024,2,21,21,0,0),endsAt:Date.UTC(2024,2,25,3,0,0),resourceType:i.S130};i.C145[24291]={type:i.C163,startsAt:Date.UTC(2024,3,25,21,0,0),endsAt:Date.UTC(2024,3,29,3,0,0),resourceType:i.E90};i.C145[24292]={type:i.C158,startsAt:Date.UTC(2024,4,23,21,0,0),endsAt:Date.UTC(2024,4,27,3,0,0),resourceType:i.F99};i.C145[24293]={type:i.C152,startsAt:Date.UTC(2024,5,20,21,0,0),endsAt:Date.UTC(2024,5,24,3,0,0),resourceType:i.L72};i.C145[24294]={type:i.C164,startsAt:Date.UTC(2024,6,25,21,0,0),endsAt:Date.UTC(2024,6,29,3,0,0),resourceType:i.I74};i.C145[24295]={type:i.C159,startsAt:Date.UTC(2024,7,22,21,0,0),endsAt:Date.UTC(2024,7,26,3,0,0),resourceType:i.D72};var V=class{static e97;static s196;static s197};var J=class{static m111="148.251.138.27";static a108={production:{main1:{port:3001,role:"main"},main2:{port:3002,role:"main"},main3:{port:3003,role:"main"},main4:{port:3004,role:"main"},main5:{port:3005,role:"main"},main6:{port:3006,role:"main"},main7:{port:3007,role:"main"},main8:{port:3008,role:"main"},main9:{port:3009,role:"main"},main10:{port:3010,role:"main"},assist1:{port:3101,role:"assist"},assist2:{port:3102,role:"assist"},assist3:{port:3103,role:"assist"},assist4:{port:3104,role:"assist"},assist5:{port:3105,role:"assist"},assist6:{port:3106,role:"assist"},assist7:{port:3107,role:"assist"},assist8:{port:3108,role:"assist"},assist9:{port:3109,role:"assist"},assist10:{port:3110,role:"assist"},http1:{port:3201,role:"http"},http2:{port:3202,role:"http"},http3:{port:3203,role:"http"},http4:{port:3204,role:"http"},worker1:{port:4001,role:"worker"},watcher1:{port:7001,role:"watcher"},chat1:{port:8001,role:"chat"},hint1:{port:8501,role:"hint"},hint2:{port:8502,role:"hint"},hint3:{port:8503,role:"hint"},hint4:{port:8504,role:"hint"},factory1:{port:9001,role:"factory"},factory2:{port:9002,role:"factory"},factory3:{port:9003,role:"factory"},factory4:{port:9004,role:"factory"},command1:{role:"command"},lon2:{port:443,role:"game",useCache:!0,name:"United Kingdom",country:"GB",ll:[51.507222,-.1275],price:6,continent:"EU"},ams2:{port:443,role:"game",useCache:!0,name:"Netherlands",country:"NL",ll:[52.372778,4.893611],price:6,continent:"EU"},par1:{port:443,role:"game",useCache:!0,name:"France",country:"FR",ll:[48.856613,2.352222],price:6,continent:"EU"},mad3:{port:443,role:"game",useCache:!0,name:"Spain",country:"ES",ll:[40.416667,-3.716667],price:6,continent:"EU"},fran2:{port:443,role:"game",useCache:!0,name:"Germany",country:"DE",ll:[50.466667,12.366667],price:6,continent:"EU",extraInstances:["fran3"]},fran3:{port:443,role:"game",useCache:!0,name:"Germany (2)",country:"DE",ll:[50.466667,12.366667],price:6,continent:null},stock2:{port:443,role:"game",useCache:!0,name:"Sweden",country:"SE",ll:[59.329444,18.068611],price:6,continent:"EU"},war2:{port:443,role:"game",useCache:!0,name:"Poland",country:"PL",ll:[52.233333,21.016667],price:6,continent:"EU"},rig1:{port:443,role:"game",useCache:!0,name:"Latvia",country:"LV",ll:[56.948889,24.106389],price:4,continent:"EU"},mos3:{port:443,role:"game",useCache:!0,name:"Russia, \u041C\u0441\u043A",country:"RU",ll:[55.76,37.62],price:9,continent:"EU"},nsb1:{port:443,role:"game",useCache:!0,name:"Russia, \u041D\u0441\u043A",country:"RU",ll:[55.016667,82.916667],price:9,continent:"EU"},sea1:{port:443,role:"game",useCache:!0,name:"USA, Seattle",country:"US",ll:[-26.204444,28.045556],price:6,continent:"NA"},los2:{port:443,role:"game",useCache:!0,name:"USA, Los Angeles",country:"US",ll:[34.05,-118.25],price:6,continent:"NA"},chic2:{port:443,role:"game",useCache:!0,name:"USA, Chicago",country:"US",ll:[41.836944,-87.684722],price:6,continent:"NA"},dal2:{port:443,role:"game",useCache:!0,name:"USA, Dallas",country:"US",ll:[32.775833,-96.796667],price:6,continent:"NA"},new1:{port:443,role:"game",useCache:!0,name:"USA, New York",country:"US",ll:[40.712778,-74.006111],price:6,continent:"NA"},atl1:{port:443,role:"game",useCache:!0,name:"USA, Atlanta",country:"US",ll:[33.748889,-84.39],price:6,continent:"NA"},sanp3:{port:443,role:"game",useCache:!0,name:"Brazil",country:"BR",ll:[-23.55,-46.633333],price:9,continent:"SA"},tel3:{port:443,role:"game",useCache:!0,name:"Israel",country:"IL",ll:[32.08,34.78],price:6,continent:"AS"},alma3:{port:443,role:"game",useCache:!0,name:"Kazakhstan",country:"KZ",ll:[43.2775,76.895833],price:9,continent:"AS"},hong3:{port:443,role:"game",useCache:!0,name:"China",country:"CN",ll:[22.286,114.158],distanceFactor:1.2,price:10,continent:"AS",extraInstances:["hong4","hong5","hong6"]},hong4:{port:443,role:"game",useCache:!0,name:"China (2)",country:"CN",ll:[22.286,114.158],distanceFactor:1.2,price:10,continent:null},hong5:{port:443,role:"game",useCache:!0,name:"China (3)",country:"CN",ll:[22.286,114.158],distanceFactor:1.2,price:10,continent:null},hong6:{port:443,role:"game",useCache:!0,name:"China (4)",country:"CN",ll:[22.286,114.158],distanceFactor:1.2,price:10,continent:null},sing2:{port:443,role:"game",useCache:!0,name:"Singapore",country:"SG",ll:[1.283333,103.833333],price:6,continent:"AS"},tok2:{port:443,role:"game",useCache:!0,name:"Japan",country:"JP",ll:[35.683333,139.683333],price:6,continent:"AS",extraInstances:["tok3","tok4"]},tok3:{port:443,role:"game",useCache:!0,name:"Japan (2)",country:"JP",ll:[35.683333,139.683333],price:6,continent:null},tok4:{port:443,role:"game",useCache:!0,name:"Japan (3)",country:"JP",ll:[35.683333,139.683333],price:6,continent:null},seo5:{port:443,role:"game",useCache:!0,name:"Korea",country:"KR",ll:[37.566667,126.966667],price:6,continent:"AS",extraInstances:["seo2","seo3","seo4"]},seo2:{port:443,role:"game",useCache:!0,name:"Korea (2)",country:"KR",ll:[37.566667,126.966667],price:6,continent:null},seo3:{port:443,role:"game",useCache:!0,name:"Korea (3)",country:"KR",ll:[37.566667,126.966667],price:6,continent:null},seo4:{port:443,role:"game",useCache:!0,name:"Korea (4)",country:"KR",ll:[37.566667,126.966667],price:6,continent:null},syd2:{port:443,role:"game",useCache:!0,name:"Australia",country:"AU",ll:[-33.865,151.209444],price:6,continent:"AU"},joh2:{port:443,role:"game",useCache:!0,name:"South Africa",country:"ZA",ll:[-26.204444,28.045556],price:6,continent:"AF"},tor1:{port:443,role:"game",useCache:!0,name:"Canada",country:"CA",ll:[43.741667,-79.373333],price:6,continent:"NA"},sant1:{port:443,role:"game",useCache:!0,name:"Chile",country:"CL",ll:[-33.45,-70.666667],price:6,continent:"SA"}},development:{main1:{port:3001,role:"main"},assist1:{port:3101,role:"assist"},http1:{port:3201,role:"http"},worker1:{port:4001,role:"worker"},watcher1:{port:7001,role:"watcher"},chat1:{port:8001,role:"chat"},hint1:{port:8501,role:"hint"},factory1:{port:9001,role:"factory"},chic1:{port:5001,role:"game",useCache:!1,name:"Local",country:"XX",ll:[50.466667,12.366667],continent:"NA"},command1:{role:"command"}}};static c215={NA:["AG","AI","AN","AQ","AW","BB","BL","BM","BQ","BS","BZ","CA","CR","CU","CW","DM","DO","GD","GL","GP","GT","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PM","PR","SV","SX","TC","TT","US","VC","VG","VI"],SA:["AR","BO","BR","CL","CO","EC","FK","GF","GY","PE","PY","SR","UY","VE"],EU:["AD","AL","AT","AX","BA","BE","BG","BY","CH","CS","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SJ","SK","SM","UA","VA","XK"],AF:["AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","DZ","EG","EH","ER","ET","GA","GH","GM","GN","GQ","GW","KE","KM","LR","LS","LY","MA","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SD","SH","SL","SN","SO","SS","ST","SZ","TD","TG","TN","TZ","UG","YT","ZA","ZM","ZW"],AS:["AE","AF","AM","AZ","BD","BH","BN","BT","CC","CN","CX","GE","HK","ID","IL","IN","IO","IQ","IR","JO","JP","KG","KH","KP","KR","KW","KZ","LA","LB","LK","MM","MN","MO","MV","MY","NP","OM","PH","PK","PS","QA","SA","SG","SY","TH","TJ","TM","TR","TW","UZ","VN","YE"],AU:["AS","AU","CK","FJ","FM","GU","KI","MH","MP","NC","NF","NR","NU","NZ","PF","PG","PN","PW","SB","TK","TL","TO","TV","UM","VU","WF","WS","AN","BV","GS","HM","TF"]};static g282(e,s){return e=="development"?"main1":"main"+(1+s%10)}static g283(e,s){return e=="development"?"assist1":"assist"+(1+s%10)}static g284(e,s){return e=="development"?"hint1":"hint"+(1+s%4)}static g285(){let e=0;for(let s in this.a108.production)this.a108.production[s].price&&(e+=this.a108.production[s].price);return e}static g286(e,s){return s+"."+this.g287(e)}static g287(e){return e=="production"?"minesweeper.online":"minesweeper.org"}};var ut=class{static A64={111:[{time:15,games:5,diffMin:5,diffMax:10,gem:2,ac:42,reward:[10,50,500,0,1,0],points:1},{time:20,games:5,diffMin:10,diffMax:20,gem:2,ac:42,reward:[20,100,1e3,2,2,-10],points:1}],112:[{time:20,games:10,diffMin:6,diffMax:12,gem:2,ac:42,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:12,diffMax:25,gem:2,ac:42,reward:[50,250,2500,5,5,-25],points:2}],113:[{time:30,games:15,diffMin:7,diffMax:15,gem:2,ac:42,reward:[50,250,2500,0,5,0],points:3},{time:40,games:15,diffMin:15,diffMax:30,gem:2,ac:42,reward:[100,500,5e3,10,10,-50],points:3}],114:[{time:40,games:20,diffMin:10,diffMax:20,gem:2,ac:42,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:20,diffMin:20,diffMax:40,gem:2,ac:42,reward:[200,1e3,1e4,20,20,-100],points:4}],115:[{time:50,games:25,diffMin:12,diffMax:25,gem:2,ac:42,reward:[150,750,7500,0,15,0],points:5},{time:70,games:25,diffMin:25,diffMax:50,gem:2,ac:42,reward:[300,1500,15e3,30,30,-125],points:5}],116:[{time:60,games:30,diffMin:15,diffMax:30,gem:2,ac:42,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:30,diffMin:30,diffMax:60,gem:2,ac:42,reward:[400,2e3,2e4,40,40,-150],points:6}],117:[{time:75,games:35,diffMin:17,diffMax:35,gem:2,ac:42,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:35,diffMin:35,diffMax:70,gem:2,ac:42,reward:[600,3e3,3e4,60,60,-200],points:7}],118:[{time:90,games:40,diffMin:20,diffMax:40,gem:2,ac:42,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:40,diffMin:40,diffMax:80,gem:2,ac:42,reward:[800,4e3,4e4,80,80,-250],points:8}],121:[{time:15,games:5,diffMin:5,diffMax:10,ng:1,gem:6,ac:46,reward:[10,50,500,0,1,0],points:1},{time:20,games:5,diffMin:10,diffMax:20,ng:1,gem:6,ac:46,reward:[20,100,1e3,2,2,-10],points:1}],122:[{time:20,games:10,diffMin:6,diffMax:12,ng:1,gem:6,ac:46,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:12,diffMax:25,ng:1,gem:6,ac:46,reward:[50,250,2500,5,5,-25],points:2}],123:[{time:30,games:15,diffMin:7,diffMax:15,ng:1,gem:6,ac:46,reward:[50,250,2500,0,5,0],points:3},{time:40,games:15,diffMin:15,diffMax:30,ng:1,gem:6,ac:46,reward:[100,500,5e3,10,10,-50],points:3}],124:[{time:40,games:20,diffMin:10,diffMax:20,ng:1,gem:6,ac:46,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:20,diffMin:20,diffMax:40,ng:1,gem:6,ac:46,reward:[200,1e3,1e4,20,20,-100],points:4}],125:[{time:50,games:25,diffMin:12,diffMax:25,ng:1,gem:6,ac:46,reward:[150,750,7500,0,15,0],points:5},{time:70,games:25,diffMin:25,diffMax:50,ng:1,gem:6,ac:46,reward:[300,1500,15e3,30,30,-125],points:5}],126:[{time:60,games:30,diffMin:15,diffMax:30,ng:1,gem:6,ac:46,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:30,diffMin:30,diffMax:60,ng:1,gem:6,ac:46,reward:[400,2e3,2e4,40,40,-150],points:6}],127:[{time:75,games:35,diffMin:17,diffMax:35,ng:1,gem:6,ac:46,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:35,diffMin:35,diffMax:70,ng:1,gem:6,ac:46,reward:[600,3e3,3e4,60,60,-200],points:7}],128:[{time:90,games:40,diffMin:20,diffMax:40,ng:1,gem:6,ac:46,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:40,diffMin:40,diffMax:80,ng:1,gem:6,ac:46,reward:[800,4e3,4e4,80,80,-250],points:8}],131:[{time:15,games:5,diffMin:4,diffMax:8,nf:1,gem:3,ac:43,reward:[10,50,500,0,1,0],points:1},{time:20,games:5,diffMin:8,diffMax:16,nf:1,gem:3,ac:43,reward:[20,100,1e3,2,2,-10],points:1}],132:[{time:20,games:10,diffMin:5,diffMax:10,nf:1,gem:3,ac:43,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:10,diffMax:20,nf:1,gem:3,ac:43,reward:[50,250,2500,5,5,-25],points:2}],133:[{time:30,games:15,diffMin:6,diffMax:12,nf:1,gem:3,ac:43,reward:[50,250,2500,0,5,0],points:3},{time:40,games:15,diffMin:12,diffMax:25,nf:1,gem:3,ac:43,reward:[100,500,5e3,10,10,-50],points:3}],134:[{time:40,games:20,diffMin:7,diffMax:15,nf:1,gem:3,ac:43,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:20,diffMin:15,diffMax:30,nf:1,gem:3,ac:43,reward:[200,1e3,1e4,20,20,-100],points:4}],135:[{time:50,games:25,diffMin:10,diffMax:20,nf:1,gem:3,ac:43,reward:[150,750,7500,0,15,0],points:5},{time:70,games:25,diffMin:20,diffMax:40,nf:1,gem:3,ac:43,reward:[300,1500,15e3,30,30,-125],points:5}],136:[{time:60,games:30,diffMin:12,diffMax:25,nf:1,gem:3,ac:43,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:30,diffMin:25,diffMax:50,nf:1,gem:3,ac:43,reward:[400,2e3,2e4,40,40,-150],points:6}],137:[{time:75,games:35,diffMin:15,diffMax:30,nf:1,gem:3,ac:43,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:35,diffMin:30,diffMax:60,nf:1,gem:3,ac:43,reward:[600,3e3,3e4,60,60,-200],points:7}],138:[{time:90,games:40,diffMin:17,diffMax:35,nf:1,gem:3,ac:43,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:40,diffMin:35,diffMax:70,nf:1,gem:3,ac:43,reward:[800,4e3,4e4,80,80,-250],points:8}],141:[{time:15,games:5,diffMin:2,diffMax:4,eff:100,gem:1,ac:41,reward:[10,50,500,0,1,0],points:1},{time:20,games:5,diffMin:4,diffMax:8,eff:100,gem:1,ac:41,reward:[20,100,1e3,2,2,-10],points:1}],142:[{time:20,games:10,diffMin:3,diffMax:6,eff:100,gem:1,ac:41,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:6,diffMax:12,eff:100,gem:1,ac:41,reward:[50,250,2500,5,5,-25],points:2}],143:[{time:30,games:15,diffMin:4,diffMax:8,eff:100,gem:1,ac:41,reward:[50,250,2500,0,5,0],points:3},{time:40,games:15,diffMin:8,diffMax:16,eff:100,gem:1,ac:41,reward:[100,500,5e3,10,10,-50],points:3}],144:[{time:40,games:20,diffMin:5,diffMax:10,eff:100,gem:1,ac:41,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:20,diffMin:10,diffMax:20,eff:100,gem:1,ac:41,reward:[200,1e3,1e4,20,20,-100],points:4}],145:[{time:50,games:25,diffMin:6,diffMax:12,eff:100,gem:1,ac:41,reward:[150,750,7500,0,15,0],points:5},{time:70,games:25,diffMin:12,diffMax:25,eff:100,gem:1,ac:41,reward:[300,1500,15e3,30,30,-125],points:5}],146:[{time:60,games:30,diffMin:7,diffMax:15,eff:100,gem:1,ac:41,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:30,diffMin:15,diffMax:30,eff:100,gem:1,ac:41,reward:[400,2e3,2e4,40,40,-150],points:6}],147:[{time:75,games:35,diffMin:8,diffMax:18,eff:100,gem:1,ac:41,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:35,diffMin:17,diffMax:35,eff:100,gem:1,ac:41,reward:[600,3e3,3e4,60,60,-200],points:7}],148:[{time:90,games:40,diffMin:10,diffMax:20,eff:100,gem:1,ac:41,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:40,diffMin:20,diffMax:40,eff:100,gem:1,ac:41,reward:[800,4e3,4e4,80,80,-250],points:8}],151:[{time:15,games:1,diffMin:25,diffMax:50,gem:5,ac:45,reward:[10,50,500,0,1,0],points:1},{time:20,games:1,diffMin:50,diffMax:100,gem:5,ac:45,reward:[20,100,1e3,2,2,-10],points:1}],152:[{time:20,games:1,diffMin:50,diffMax:100,gem:5,ac:45,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:1,diffMin:100,diffMax:200,gem:5,ac:45,reward:[50,250,2500,5,5,-25],points:2}],153:[{time:30,games:1,diffMin:100,diffMax:200,gem:5,ac:45,reward:[50,250,2500,0,5,0],points:3},{time:40,games:1,diffMin:200,diffMax:400,gem:5,ac:45,reward:[100,500,5e3,10,10,-50],points:3}],154:[{time:40,games:1,diffMin:200,diffMax:400,gem:5,ac:45,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:1,diffMin:400,diffMax:800,gem:5,ac:45,reward:[200,1e3,1e4,20,20,-100],points:4}],155:[{time:50,games:1,diffMin:300,diffMax:600,gem:5,ac:45,reward:[150,750,7500,0,15,0],points:5},{time:70,games:1,diffMin:600,diffMax:1200,gem:5,ac:45,reward:[300,1500,15e3,30,30,-125],points:5}],156:[{time:60,games:1,diffMin:500,diffMax:1e3,gem:5,ac:45,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:1,diffMin:1e3,diffMax:2e3,gem:5,ac:45,reward:[400,2e3,2e4,40,40,-150],points:6}],157:[{time:75,games:1,diffMin:800,diffMax:1200,gem:5,ac:45,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:1,diffMin:1500,diffMax:2500,gem:5,ac:45,reward:[600,3e3,3e4,60,60,-200],points:7}],158:[{time:90,games:1,diffMin:1e3,diffMax:1500,gem:5,ac:45,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:1,diffMin:2e3,diffMax:3e3,gem:5,ac:45,reward:[800,4e3,4e4,80,80,-250],points:8}],161:[{time:15,games:10,diffMin:1,diffMax:10,gem:10,ac:50,reward:[10,50,500,0,1,0],points:1},{time:20,games:10,diffMin:1,diffMax:20,gem:10,ac:50,reward:[20,100,1e3,2,2,-10],points:1}],162:[{time:20,games:10,diffMin:1,diffMax:25,gem:10,ac:50,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:1,diffMax:50,gem:10,ac:50,reward:[50,250,2500,5,5,-25],points:2}],163:[{time:30,games:10,diffMin:1,diffMax:50,gem:10,ac:50,reward:[50,250,2500,0,5,0],points:3},{time:40,games:10,diffMin:1,diffMax:100,gem:10,ac:50,reward:[100,500,5e3,10,10,-50],points:3}],164:[{time:40,games:10,diffMin:1,diffMax:75,gem:10,ac:50,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:10,diffMin:1,diffMax:150,gem:10,ac:50,reward:[200,1e3,1e4,20,20,-100],points:4}],165:[{time:50,games:10,diffMin:1,diffMax:100,gem:10,ac:50,reward:[150,750,7500,0,15,0],points:5},{time:70,games:10,diffMin:1,diffMax:200,gem:10,ac:50,reward:[300,1500,15e3,30,30,-125],points:5}],166:[{time:60,games:10,diffMin:1,diffMax:150,gem:10,ac:50,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:10,diffMin:1,diffMax:300,gem:10,ac:50,reward:[400,2e3,2e4,40,40,-150],points:6}],167:[{time:75,games:10,diffMin:1,diffMax:200,gem:10,ac:50,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:10,diffMin:1,diffMax:400,gem:10,ac:50,reward:[600,3e3,3e4,60,60,-200],points:7}],168:[{time:90,games:10,diffMin:1,diffMax:250,gem:10,ac:50,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:10,diffMin:1,diffMax:500,gem:10,ac:50,reward:[800,4e3,4e4,80,80,-250],points:8}],171:[{time:30,games:5,diffMin:4,diffMax:8,penalty:1,wrMin:65,wrMax:85,gem:4,ac:44,reward:[10,50,500,0,1,0],points:1},{time:40,games:5,diffMin:8,diffMax:16,penalty:1,wrMin:40,wrMax:60,gem:4,ac:44,reward:[20,100,1e3,2,2,-10],points:1}],172:[{time:40,games:10,diffMin:5,diffMax:10,penalty:1,wrMin:55,wrMax:75,gem:4,ac:44,reward:[25,125,1250,0,2.5,0],points:2},{time:60,games:10,diffMin:10,diffMax:20,penalty:1,wrMin:35,wrMax:55,gem:4,ac:44,reward:[50,250,2500,5,5,-25],points:2}],173:[{time:60,games:15,diffMin:6,diffMax:12,penalty:1,wrMin:45,wrMax:65,gem:4,ac:44,reward:[50,250,2500,0,5,0],points:3},{time:80,games:15,diffMin:12,diffMax:25,penalty:1,wrMin:35,wrMax:50,gem:4,ac:44,reward:[100,500,5e3,10,10,-50],points:3}],174:[{time:80,games:20,diffMin:7,diffMax:15,penalty:1,wrMin:40,wrMax:65,gem:4,ac:44,reward:[100,500,5e3,0,10,0],points:4},{time:110,games:20,diffMin:15,diffMax:30,penalty:1,wrMin:35,wrMax:45,gem:4,ac:44,reward:[200,1e3,1e4,20,20,-100],points:4}],175:[{time:100,games:25,diffMin:10,diffMax:20,penalty:1,wrMin:40,wrMax:60,gem:4,ac:44,reward:[150,750,7500,0,15,0],points:5},{time:140,games:25,diffMin:20,diffMax:40,penalty:1,wrMin:30,wrMax:45,gem:4,ac:44,reward:[300,1500,15e3,30,30,-125],points:5}],176:[{time:120,games:30,diffMin:12,diffMax:25,penalty:1,wrMin:35,wrMax:60,gem:4,ac:44,reward:[200,1e3,1e4,0,20,0],points:6},{time:170,games:30,diffMin:25,diffMax:50,penalty:1,wrMin:30,wrMax:40,gem:4,ac:44,reward:[400,2e3,2e4,40,40,-150],points:6}],177:[{time:150,games:35,diffMin:15,diffMax:30,penalty:1,wrMin:35,wrMax:55,gem:4,ac:44,reward:[300,1500,15e3,0,30,0],points:7},{time:200,games:35,diffMin:30,diffMax:60,penalty:1,wrMin:25,wrMax:40,gem:4,ac:44,reward:[600,3e3,3e4,60,60,-200],points:7}],178:[{time:180,games:40,diffMin:17,diffMax:35,penalty:1,wrMin:35,wrMax:50,gem:4,ac:44,reward:[400,2e3,2e4,0,40,0],points:8},{time:240,games:40,diffMin:35,diffMax:70,penalty:1,wrMin:25,wrMax:35,gem:4,ac:44,reward:[800,4e3,4e4,80,80,-250],points:8}],181:[{time:15,games:5,diffMin:4,diffMax:8,ng:1,penalty:1,gem:9,ac:49,reward:[10,50,500,0,1,0],points:1},{time:20,games:5,diffMin:8,diffMax:16,ng:1,penalty:1,gem:9,ac:49,reward:[20,100,1e3,2,2,-10],points:1}],182:[{time:20,games:10,diffMin:5,diffMax:10,ng:1,penalty:2,gem:9,ac:49,reward:[25,125,1250,0,2.5,0],points:2},{time:30,games:10,diffMin:10,diffMax:20,ng:1,penalty:2,gem:9,ac:49,reward:[50,250,2500,5,5,-25],points:2}],183:[{time:30,games:15,diffMin:6,diffMax:12,ng:1,penalty:3,gem:9,ac:49,reward:[50,250,2500,0,5,0],points:3},{time:40,games:15,diffMin:12,diffMax:25,ng:1,penalty:3,gem:9,ac:49,reward:[100,500,5e3,10,10,-50],points:3}],184:[{time:40,games:20,diffMin:7,diffMax:15,ng:1,penalty:4,gem:9,ac:49,reward:[100,500,5e3,0,10,0],points:4},{time:55,games:20,diffMin:15,diffMax:30,ng:1,penalty:4,gem:9,ac:49,reward:[200,1e3,1e4,20,20,-100],points:4}],185:[{time:50,games:25,diffMin:8,diffMax:18,ng:1,penalty:5,gem:9,ac:49,reward:[150,750,7500,0,15,0],points:5},{time:70,games:25,diffMin:17,diffMax:35,ng:1,penalty:5,gem:9,ac:49,reward:[300,1500,15e3,30,30,-125],points:5}],186:[{time:60,games:30,diffMin:10,diffMax:20,ng:1,penalty:6,gem:9,ac:49,reward:[200,1e3,1e4,0,20,0],points:6},{time:85,games:30,diffMin:20,diffMax:40,ng:1,penalty:6,gem:9,ac:49,reward:[400,2e3,2e4,40,40,-150],points:6}],187:[{time:75,games:35,diffMin:12,diffMax:25,ng:1,penalty:7,gem:9,ac:49,reward:[300,1500,15e3,0,30,0],points:7},{time:100,games:35,diffMin:25,diffMax:50,ng:1,penalty:7,gem:9,ac:49,reward:[600,3e3,3e4,60,60,-200],points:7}],188:[{time:90,games:40,diffMin:15,diffMax:30,ng:1,penalty:8,gem:9,ac:49,reward:[400,2e3,2e4,0,40,0],points:8},{time:120,games:40,diffMin:30,diffMax:60,ng:1,penalty:8,gem:9,ac:49,reward:[800,4e3,4e4,80,80,-250],points:8}],191:[{time:24*60,games:25,diffMin:1,diffMax:5,gem:7,ac:47,reward:[20,100,1e3,0,2,0],points:1},{time:24*60,games:50,diffMin:1,diffMax:5,gem:7,ac:47,reward:[40,200,2e3,4,4,-20],points:1}],192:[{time:2*24*60,games:50,diffMin:1,diffMax:10,gem:7,ac:47,reward:[50,250,2500,0,5,0],points:2},{time:2*24*60,games:100,diffMin:1,diffMax:10,gem:7,ac:47,reward:[100,500,5e3,10,10,-50],points:2}],193:[{time:3*24*60,games:75,diffMin:5,diffMax:10,gem:7,ac:47,reward:[100,500,5e3,0,10,0],points:3},{time:3*24*60,games:150,diffMin:5,diffMax:10,gem:7,ac:47,reward:[200,1e3,1e4,20,20,-100],points:3}],194:[{time:4*24*60,games:100,diffMin:5,diffMax:15,gem:7,ac:47,reward:[200,1e3,1e4,0,20,0],points:4},{time:4*24*60,games:200,diffMin:5,diffMax:15,gem:7,ac:47,reward:[400,2e3,2e4,40,40,-200],points:4}],195:[{time:5*24*60,games:125,diffMin:5,diffMax:20,gem:7,ac:47,reward:[300,1500,15e3,0,30,0],points:5},{time:5*24*60,games:250,diffMin:5,diffMax:20,gem:7,ac:47,reward:[600,3e3,3e4,60,60,-250],points:5}],196:[{time:6*24*60,games:150,diffMin:10,diffMax:20,gem:7,ac:47,reward:[400,2e3,2e4,0,40,0],points:6},{time:6*24*60,games:300,diffMin:10,diffMax:20,gem:7,ac:47,reward:[800,4e3,4e4,80,80,-300],points:6}],197:[{time:7*24*60,games:175,diffMin:10,diffMax:25,gem:7,ac:47,reward:[600,3e3,3e4,0,60,0],points:7},{time:7*24*60,games:350,diffMin:10,diffMax:25,gem:7,ac:47,reward:[1200,6e3,6e4,120,120,-400],points:7}],198:[{time:8*24*60,games:200,diffMin:10,diffMax:30,gem:7,ac:47,reward:[800,4e3,4e4,0,80,0],points:8},{time:8*24*60,games:400,diffMin:10,diffMax:30,gem:7,ac:47,reward:[1600,8e3,8e4,160,160,-500],points:8}],201:[{time:24*60,games:5,diffMin:50,diffMax:100,penalty:5,wrMin:35,wrMax:60,gem:8,ac:48,reward:[50,250,2500,0,5,0],points:1},{time:24*60,games:10,diffMin:50,diffMax:100,penalty:5,wrMin:30,wrMax:55,gem:8,ac:48,reward:[100,500,5e3,10,10,-50],points:1}],202:[{time:2*24*60,games:10,diffMin:50,diffMax:150,penalty:5,wrMin:35,wrMax:55,gem:8,ac:48,reward:[125,625,6250,0,12.5,0],points:2},{time:2*24*60,games:20,diffMin:50,diffMax:150,penalty:5,wrMin:30,wrMax:50,gem:8,ac:48,reward:[250,1250,12500,25,25,-125],points:2}],203:[{time:3*24*60,games:15,diffMin:100,diffMax:150,penalty:5,wrMin:35,wrMax:50,gem:8,ac:48,reward:[250,1250,12500,0,25,0],points:3},{time:3*24*60,games:30,diffMin:100,diffMax:150,penalty:5,wrMin:30,wrMax:45,gem:8,ac:48,reward:[500,2500,25e3,50,50,-250],points:3}],204:[{time:4*24*60,games:20,diffMin:100,diffMax:200,penalty:5,wrMin:30,wrMax:50,gem:8,ac:48,reward:[500,2500,25e3,0,50,0],points:4},{time:4*24*60,games:40,diffMin:100,diffMax:200,penalty:5,wrMin:25,wrMax:45,gem:8,ac:48,reward:[1e3,5e3,5e4,100,100,-500],points:4}],205:[{time:5*24*60,games:25,diffMin:100,diffMax:250,penalty:5,wrMin:30,wrMax:45,gem:8,ac:48,reward:[750,3750,37500,0,75,0],points:5},{time:5*24*60,games:50,diffMin:100,diffMax:250,penalty:5,wrMin:25,wrMax:40,gem:8,ac:48,reward:[1500,7500,75e3,150,150,-625],points:5}],206:[{time:6*24*60,games:30,diffMin:150,diffMax:250,penalty:5,wrMin:30,wrMax:40,gem:8,ac:48,reward:[1e3,5e3,5e4,0,100,0],points:6},{time:6*24*60,games:60,diffMin:150,diffMax:250,penalty:5,wrMin:25,wrMax:35,gem:8,ac:48,reward:[2e3,1e4,1e5,200,200,-750],points:6}],207:[{time:7*24*60,games:35,diffMin:200,diffMax:300,penalty:5,wrMin:25,wrMax:40,gem:8,ac:48,reward:[1500,7500,75e3,0,150,0],points:7},{time:7*24*60,games:70,diffMin:200,diffMax:300,penalty:5,wrMin:20,wrMax:35,gem:8,ac:48,reward:[3e3,15e3,15e4,300,300,-1e3],points:7}],208:[{time:8*24*60,games:40,diffMin:200,diffMax:400,penalty:5,wrMin:25,wrMax:35,gem:8,ac:48,reward:[2e3,1e4,1e5,0,200,0],points:8},{time:8*24*60,games:80,diffMin:200,diffMax:400,penalty:5,wrMin:20,wrMax:30,gem:8,ac:48,reward:[4e3,2e4,2e5,400,400,-1250],points:8}],211:[{time:15,games:0,diffMin:0,diffMax:0,reward:[0,0,0,10,0,0],points:0},{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,20,0,-10],points:0}],212:[{time:20,games:0,diffMin:0,diffMax:0,reward:[0,0,0,25,0,0],points:0},{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,-25],points:0}],213:[{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,0],points:0},{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,-50],points:0}],214:[{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,0],points:0},{time:80,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,-100],points:0}],215:[{time:50,games:0,diffMin:0,diffMax:0,reward:[0,0,0,150,0,0],points:0},{time:100,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,-150],points:0}],216:[{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,0],points:0},{time:120,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,-200],points:0}],217:[{time:75,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,0],points:0},{time:150,games:0,diffMin:0,diffMax:0,reward:[0,0,0,600,0,-300],points:0}],218:[{time:90,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,0],points:0},{time:180,games:0,diffMin:0,diffMax:0,reward:[0,0,0,800,0,-400],points:0}],231:[{time:15,games:0,diffMin:0,diffMax:0,reward:[0,0,0,10,0,0],points:0},{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,20,0,-10],points:0}],232:[{time:20,games:0,diffMin:0,diffMax:0,reward:[0,0,0,25,0,0],points:0},{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,-25],points:0}],233:[{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,0],points:0},{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,-50],points:0}],234:[{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,0],points:0},{time:80,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,-100],points:0}],235:[{time:50,games:0,diffMin:0,diffMax:0,reward:[0,0,0,150,0,0],points:0},{time:100,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,-150],points:0}],236:[{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,0],points:0},{time:120,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,-200],points:0}],237:[{time:75,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,0],points:0},{time:150,games:0,diffMin:0,diffMax:0,reward:[0,0,0,600,0,-300],points:0}],238:[{time:90,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,0],points:0},{time:180,games:0,diffMin:0,diffMax:0,reward:[0,0,0,800,0,-400],points:0}],251:[{time:15,games:0,diffMin:0,diffMax:0,reward:[0,0,0,10,0,0],points:0},{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,20,0,-10],points:0}],252:[{time:20,games:0,diffMin:0,diffMax:0,reward:[0,0,0,25,0,0],points:0},{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,-25],points:0}],253:[{time:30,games:0,diffMin:0,diffMax:0,reward:[0,0,0,50,0,0],points:0},{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,-50],points:0}],254:[{time:40,games:0,diffMin:0,diffMax:0,reward:[0,0,0,100,0,0],points:0},{time:80,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,-100],points:0}],255:[{time:50,games:0,diffMin:0,diffMax:0,reward:[0,0,0,150,0,0],points:0},{time:100,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,-150],points:0}],256:[{time:60,games:0,diffMin:0,diffMax:0,reward:[0,0,0,200,0,0],points:0},{time:120,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,-200],points:0}],257:[{time:75,games:0,diffMin:0,diffMax:0,reward:[0,0,0,300,0,0],points:0},{time:150,games:0,diffMin:0,diffMax:0,reward:[0,0,0,600,0,-300],points:0}],258:[{time:90,games:0,diffMin:0,diffMax:0,reward:[0,0,0,400,0,0],points:0},{time:180,games:0,diffMin:0,diffMax:0,reward:[0,0,0,800,0,-400],points:0}],261:[{time:15,extraConf:{games:1,diffMin:40,diffMax:40},descrType:5,games:0,diffMin:0,diffMax:0,reward:[0,20,200,0,0,0],points:0}],262:[{time:20,extraConf:{games:10,diffMin:8,diffMax:8,ng:1},descrType:2,games:0,diffMin:0,diffMax:0,reward:[0,50,500,0,0,0],points:0}],263:[{time:30,extraConf:{games:100,diffMin:1,diffMax:1},descrType:9,games:0,diffMin:0,diffMax:0,reward:[0,100,1e3,0,0,0],points:0}],264:[{time:80,extraConf:{games:20,diffMin:12,diffMax:12,penalty:1,wrMin:40,wrMax:65},descrType:7,games:0,diffMin:0,diffMax:0,reward:[0,200,2e3,0,0,0],points:0}],265:[{time:50,extraConf:{games:25,diffMin:15,diffMax:15,nf:1},descrType:3,games:0,diffMin:0,diffMax:0,reward:[0,300,3e3,0,0,0],points:0}],266:[{time:60,extraConf:{games:30,diffMin:15,diffMax:15,ng:1,penalty:6},descrType:8,games:0,diffMin:0,diffMax:0,reward:[0,400,4e3,0,0,0],points:0}],267:[{time:75,extraConf:{games:35,diffMin:15,diffMax:15,eff:100},descrType:4,games:0,diffMin:0,diffMax:0,reward:[0,600,6e3,0,0,0],points:0}],268:[{time:90,extraConf:{games:40,diffMin:30,diffMax:30},descrType:1,games:0,diffMin:0,diffMax:0,reward:[0,800,8e3,0,0,0],points:0}]};static g167(e,s,n){return this.A64[e][s].extraConf&&(n=this.A64[e][s].extraConf),{time:this.A64[e][s].time,games:n?n.games:this.A64[e][s].games,diffMin:n?n.diffMin:this.A64[e][s].diffMin,diffMax:n?n.diffMax:this.A64[e][s].diffMax,ng:n?n.ng:this.A64[e][s].ng,nf:n?n.nf:this.A64[e][s].nf,eff:n?n.eff:this.A64[e][s].eff,penalty:n?n.penalty:this.A64[e][s].penalty,skin:n?n.skin:0,wrMin:n?n.wrMin:this.A64[e][s].wrMin,wrMax:n?n.wrMax:this.A64[e][s].wrMax,gem:this.A64[e][s].gem,ac:this.A64[e][s].ac,reward:this.A64[e][s].reward,points:this.A64[e][s].points,descrType:this.A64[e][s].descrType?this.A64[e][s].descrType:Math.floor((e-100)/10)}}static g246(e){for(let s in this.A64)if(this.A64[s][0].ac==e)return Math.floor((s-i.A66)/10);return null}};var _i=class{static s192(e,s,n,r){return function(){e>>>=0,s>>>=0,n>>>=0,r>>>=0;let l=e+s|0;return e=s^s>>>9,s=n+(n<<3)|0,n=n<<21|n>>>11,r=r+1|0,l=l+r|0,n=n+l|0,(l>>>0)/4294967296}}static M66=4294967296;static c213(e,s,n,r,l){let p=this.s192(l,Math.floor(Math.random()*this.M66),Math.floor(Math.random()*this.M66),Math.floor(Math.random()*this.M66)),o,c=0,f=0,h=0,g={t:new Uint8Array(e*s).fill(0),o:new Uint8Array(e*s).fill(0),f:new Uint8Array(e*s).fill(0),g:new Uint8Array(e*s).fill(0),g2:new Uint8Array(e*s).fill(0)},w=e*s,C=e*s-n;for(;w!=C;){if(w>3||r)for(;f=p()*e|0,h=p()*s|0,!(g.t[f*s+h]!=10&&!(r&&f==0&&h==0)););else for(o=p()*w|0,f=0,c=0;f<e;f++){for(h=0;h<s;h++)if(g.t[f*s+h]!=10){if(c==o)break;c++}if(c==o&&h!=s)break}g.t[f*s+h]=10,w--}return this.u144(g,e,s),this.s193(g,e,s),g}static u144(e,s,n){for(let r=0;r<s;r++)for(let l=0;l<n;l++)if(e.t[r*n+l]!=10){let p=0;r-1>=0&&l-1>=0&&e.t[(r-1)*n+(l-1)]==10&&p++,l-1>=0&&e.t[r*n+(l-1)]==10&&p++,r+1<s&&l-1>=0&&e.t[(r+1)*n+(l-1)]==10&&p++,r-1>=0&&e.t[(r-1)*n+l]==10&&p++,r+1<s&&e.t[(r+1)*n+l]==10&&p++,r-1>=0&&l+1<n&&e.t[(r-1)*n+(l+1)]==10&&p++,l+1<n&&e.t[r*n+(l+1)]==10&&p++,r+1<s&&l+1<n&&e.t[(r+1)*n+(l+1)]==10&&p++,e.t[r*n+l]=p}}static s193(e,s,n){let r=1;for(let l=0;l<s;l++)for(let p=0;p<n;p++)if(e.t[l*n+p]==0&&!e.g[l*n+p]){e.g[l*n+p]=r;let o=[[l,p]];for(let c=0;c<o.length;c++){let f=o[c][0],h=o[c][1];f-1>=0&&h-1>=0&&(e.t[(f-1)*n+(h-1)]==0&&!e.g[(f-1)*n+(h-1)]?(e.g[(f-1)*n+(h-1)]=r,o.push([f-1,h-1])):e.t[(f-1)*n+(h-1)]!=0&&e.g[(f-1)*n+(h-1)]!=r&&(e.g[(f-1)*n+(h-1)]?e.g2[(f-1)*n+h-1]=r:e.g[(f-1)*n+(h-1)]=r)),h-1>=0&&(e.t[f*n+(h-1)]==0&&!e.g[f*n+(h-1)]?(e.g[f*n+(h-1)]=r,o.push([f,h-1])):e.t[f*n+(h-1)]!=0&&e.g[f*n+(h-1)]!=r&&(e.g[f*n+(h-1)]?e.g2[f*n+h-1]=r:e.g[f*n+(h-1)]=r)),f+1<s&&h-1>=0&&(e.t[(f+1)*n+(h-1)]==0&&!e.g[(f+1)*n+(h-1)]?(e.g[(f+1)*n+(h-1)]=r,o.push([f+1,h-1])):e.t[(f+1)*n+(h-1)]!=0&&e.g[(f+1)*n+(h-1)]!=r&&(e.g[(f+1)*n+(h-1)]?e.g2[(f+1)*n+h-1]=r:e.g[(f+1)*n+(h-1)]=r)),f-1>=0&&(e.t[(f-1)*n+h]==0&&!e.g[(f-1)*n+h]?(e.g[(f-1)*n+h]=r,o.push([f-1,h])):e.t[(f-1)*n+h]!=0&&e.g[(f-1)*n+h]!=r&&(e.g[(f-1)*n+h]?e.g2[(f-1)*n+h]=r:e.g[(f-1)*n+h]=r)),f+1<s&&(e.t[(f+1)*n+h]==0&&!e.g[(f+1)*n+h]?(e.g[(f+1)*n+h]=r,o.push([f+1,h])):e.t[(f+1)*n+h]!=0&&e.g[(f+1)*n+h]!=r&&(e.g[(f+1)*n+h]?e.g2[(f+1)*n+h]=r:e.g[(f+1)*n+h]=r)),f-1>=0&&h+1<n&&(e.t[(f-1)*n+(h+1)]==0&&!e.g[(f-1)*n+(h+1)]?(e.g[(f-1)*n+(h+1)]=r,o.push([f-1,h+1])):e.t[(f-1)*n+(h+1)]!=0&&e.g[(f-1)*n+(h+1)]!=r&&(e.g[(f-1)*n+(h+1)]?e.g2[(f-1)*n+h+1]=r:e.g[(f-1)*n+(h+1)]=r)),h+1<n&&(e.t[f*n+(h+1)]==0&&!e.g[f*n+(h+1)]?(e.g[f*n+(h+1)]=r,o.push([f,h+1])):e.t[f*n+(h+1)]!=0&&e.g[f*n+(h+1)]!=r&&(e.g[f*n+(h+1)]?e.g2[f*n+h+1]=r:e.g[f*n+(h+1)]=r)),f+1<s&&h+1<n&&(e.t[(f+1)*n+(h+1)]==0&&!e.g[(f+1)*n+(h+1)]?(e.g[(f+1)*n+(h+1)]=r,o.push([f+1,h+1])):e.t[(f+1)*n+(h+1)]!=0&&e.g[(f+1)*n+(h+1)]!=r&&(e.g[(f+1)*n+(h+1)]?e.g2[(f+1)*n+h+1]=r:e.g[(f+1)*n+(h+1)]=r))}r++,r>1e4&&(r=1e4)}}static c214(e,s,n){let r=0,l=0;for(let p=0;p<s;p++)for(let o=0;o<n;o++)e.t[p*n+o]<=8&&!e.g[p*n+o]&&r++,e.g[p*n+o]>l&&(l=e.g[p*n+o]);return r+l}static g247(e,s,n,r,l,p){if(s===null)return"";let o=this.s192(e%this.M66,e%this.M66,e%this.M66,e%this.M66),c=new Array(n*r);for(let C=0;C<n;C++)for(let A=0;A<r;A++){let M=n*r-(C*r+A+1),P=s.t[C*r+A];c[M]=String.fromCharCode(P+C*A*p(C,A)%p(A,C))}let f=c.join("");c=new Array(2*n*r);for(let C=0;C<n;C++)for(let A=0;A<r;A++)c[2*(C*r+A)]=String.fromCharCode(Math.floor(s.g[C*r+A]/100)+C*A*p(C,A)%137),c[2*(C*r+A)+1]=String.fromCharCode(s.g[C*r+A]%100+C*A*p(C,A)%139);f+=c.join(""),c=new Array(2*n*r);for(let C=0;C<n;C++)for(let A=0;A<r;A++)c[2*(C*r+A)]=String.fromCharCode(Math.floor(s.g2[C*r+A]/100)+C*A*p(C,A)%141),c[2*(C*r+A)+1]=String.fromCharCode(s.g2[C*r+A]%100+C*A*p(C,A)%143);f+=c.join("");let h=e%1e3/300*n*r|0,g=e%2e3/1e3*n*r|0,w="";for(let C=0;C<h;C++)w+=String.fromCharCode(1+(o()*250|0));w+=f;for(let C=0;C<g;C++)w+=String.fromCharCode(1+(o()*250|0));return w}};var Di=class{static g118=null;static s164=null;static s165=null;static m87=null;static c187=null;static l76=null;static p101=null;static i85(e,s,n,r,l,p,o){this.g118=e,this.s164=s,this.s165=n,this.m87=r,this.c187=l,this.l76=p,this.p101=o}static p102(e,s,n,r,l,p){let o=[],c=null,f,h,g,w;if(e==i.C91||e==i.C94){let C=this.s164*this.s165-this.m87;for(let M=0;M<this.s164*this.s165;M++)this.c187.o[M]&&C--;let A={};for(let M=0;M<s.length;M++){if(this.c187.f[s[M][0]*this.s165+s[M][1]]||this.c187.o[s[M][0]*this.s165+s[M][1]]||A[s[M][0]*this.s165+s[M][1]])continue;o.push(s[M][0],s[M][1],this.l76?-1*s[M][0]*s[M][1]*p(s[M][0],s[M][1])%p(s[M][1],s[M][0])+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165-(s[M][0]*this.s165+s[M][1]+1)):this.c187.t[s[M][0]*this.s165+s[M][1]],1,0),A[s[M][0]*this.s165+s[M][1]]=1,C--;let P=o.length-5;if(o[P+2]){if(o[P+2]==i.C75){if(!n&&this.m87!=this.s164*this.s165){if(s.length>1){console.error("TMOC",s);return}let B="t",L="g",mt="g2";for(h=0;h<this.s164;h++)for(g=0;g<this.s165;g++)this.c187[B][h*this.s165+g]=this.l76?-1*h*g*p(h,g)%p(g,h)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165-(h*this.s165+g+1)):this.c187.t[h*this.s165+g],this.c187[L][h*this.s165+g]=0,this.c187[mt][h*this.s165+g]=0;if(l===null){let j=this.s164*this.s165-this.m87;l=Math.random()*j|0}for(h=0,f=0;h<this.s164;h++){for(g=0;g<this.s165;g++)if(this.c187.t[h*this.s165+g]!=i.C75){if(f==l)break;f++}if(f==l&&g!=this.s165)break}if(this.c187[B][h*this.s165+g]=i.C75,this.c187[B][s[M][0]*this.s165+s[M][1]]=0,_i.u144(this.c187,this.s164,this.s165),_i.s193(this.c187,this.s164,this.s165),this.l76)for(this.p101=_i.g247(this.g118,this.c187,this.s164,this.s165,this.m87,p),h=0;h<this.s164;h++)for(g=0;g<this.s165;g++)this.c187[B][h*this.s165+g]=0,this.c187[L][h*this.s165+g]=0,this.c187[mt][h*this.s165+g]=0;return this.p102(i.C91,s,!1,null,l,p)}for(o.push(s[M][0],s[M][1],i.C76,1,0),h=0;h<this.s164;h++)for(g=0;g<this.s165;g++)if(!(h==s[M][0]&&g==s[M][1])){w=this.l76?-1*h*g*p(h,g)%p(g,h)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165-(h*this.s165+g+1)):this.c187.t[h*this.s165+g];let B=this.c187.f[h*this.s165+g]&&w!=i.C75,L=!this.c187.f[h*this.s165+g]&&w==i.C75;B&&(w=i.C77),(B||L)&&o.push(h,g,w,1,0)}c=i.G98;break}}else for(let B=0;B<this.s164;B++)for(let L=0;L<this.s165;L++)!this.c187.o[B*this.s165+L]&&!A[B*this.s165+L]&&((this.l76?100*(this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(B*this.s165+L))-B*L*p(B,L)%137)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(B*this.s165+L)+1)-B*L*p(B,L)%139:this.c187.g[B*this.s165+L])==(this.l76?100*(this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(s[M][0]*this.s165+s[M][1]))-s[M][0]*s[M][1]*p(s[M][0],s[M][1])%137)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(s[M][0]*this.s165+s[M][1])+1)-s[M][0]*s[M][1]*p(s[M][0],s[M][1])%139:this.c187.g[s[M][0]*this.s165+s[M][1]])||(this.l76?100*(this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+3*this.s164*this.s165+2*(B*this.s165+L))-B*L*p(B,L)%141)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+3*this.s164*this.s165+2*(B*this.s165+L)+1)-B*L*p(B,L)%143:this.c187.g2[B*this.s165+L])==(this.l76?100*(this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(s[M][0]*this.s165+s[M][1]))-s[M][0]*s[M][1]*p(s[M][0],s[M][1])%137)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165+2*(s[M][0]*this.s165+s[M][1])+1)-s[M][0]*s[M][1]*p(s[M][0],s[M][1])%139:this.c187.g[s[M][0]*this.s165+s[M][1]]))&&!(B==s[M][0]&&L==s[M][1])&&(o.push(B,L,this.l76?-1*B*L*p(B,L)%p(L,B)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165-(B*this.s165+L+1)):this.c187.t[B*this.s165+L],1,0),A[B*this.s165+L]=1,C--);if(C==0){for(h=0;h<this.s164;h++)for(g=0;g<this.s165;g++)w=this.l76?-1*h*g*p(h,g)%p(g,h)+this.p101.charCodeAt((this.g118%1e3/300*this.s164*this.s165|0)+this.s164*this.s165-(h*this.s165+g+1)):this.c187.t[h*this.s165+g],w==i.C75&&!this.c187.f[h*this.s165+g]&&o.push(h,g,i.C75,0,1);c=i.G99;break}}}else e==i.C92?this.c187.o[s[0][0]*this.s165+s[0][1]]||(o=[s[0][0],s[0][1],i.C74,0,this.c187.f[s[0][0]*this.s165+s[0][1]]?0:1]):e==i.C93;return[o,c,l]}};var et=class{static R111=[["rank_1",1],["rank_2",100],["rank_3",200],["rank_4",300],["rank_5",400],["rank_6",500],["rank_7",600],["rank_8",700],["rank_9",800],["rank_10",900],["rank_11",1e3],["rank_12",1100],["rank_13",1200]];static g279(e){if(!e)return"";for(let s=this.R111.length-1;s>=0;s--)if(e>=this.R111[s][1])return this.R111[s][0];return""}static g280(e){for(let s=0;s<this.R111.length;s++)if(e==this.R111[s][0])return this.R111[s][1];return null}static g281(e,s,n){let r=Math.ceil((e+1)/100)+s;return n&&n>=1&&n<r&&(r=Math.min(r,n)),[Math.ceil(r/2),r]}};var U=class{static s141={};static g172(e,s){return this.s141[e]!==void 0?this.s141[e]:!v.s181&&localStorage["_"+e]?(this.s141[e]=localStorage["_"+e],this.s141[e]):s!==void 0?s:null}static h66(e){return this.s141[e]||localStorage["_"+e]}static s142(e,s){this.s141[e]=s+"",v.s181||(localStorage["_"+e]=s)}};var R=class{static s195=0;static g256(){return i.E104[this.g257()]}static i142(){let e=this.g256();return e==i.E107||e==i.E109||e==i.E111||e==i.E113}static g257(){let e=new Date(Date.now()+this.s195);return e.getFullYear()*12+e.getMonth()}static g258(){let e=this.g257();return this.i142()&&(e-=1),e}static g259(e){return e||(e=this.g257()),i.E105[e]}static g260(){let e=this.g258();return i.E105[e]}static g261(){return new Date(Date.now()+this.s195).getFullYear()}static g262(){let e=new Date(Date.now()+this.s195);return(e.getFullYear()*12+e.getMonth())*100+e.getDate()}static g263(e){return e.setHours(15),e.toISOString().substring(0,10)}};var u=class{static e61=!1;static d61=null;static i61=null;static b61=null;static b62=null;static b63="";static a61=null;static s62=null;static u61=null;static g62=null;static g63=null;static p61=null;static i62=!1;static i63(){return!window.authreq||window.authreq.readyState!=XMLHttpRequest.DONE?!1:window.authreq.status!=200?(this.e61=!0,!0):(this.u61||this.a62(JSON.parse(window.authreq.responseText)),!0)}static a62(e){if(this.d61=e.deleteRequest,this.i61=e.isDeleted,this.b61=e.ban,this.b62=e.banId,this.b63=e.banIp,!this.b61){if(this.a61=e.authKey,this.s62=e.session,this.u61=e.user,this.u61.storage=this.u61.storage?this.u61.storage:{},this.g62=e.geolocation,this.g63=e.geoCountry,this.i62=e.isNewUser,this.u62(),e.serverTime){let s=new Date;R.s195=e.serverTime-s.getTime()+s.getTimezoneOffset()*60*1e3}e.session&&U.s142("session",e.session)}}static u62(){this.p61=this.u61.premiumTo&&new Date(this.u61.premiumTo).getTime()>Date.now()||this.u61.patronState==1||this.u61.patronState==2||this.u61.eliteAt}static f62(e){return this.u61&&(this.u61.country=="CN"||v.l85=="cn")&&["TW","HK","tw","hk"].indexOf(e)!=-1&&(e="CN"),"/img/flags/"+e.toLowerCase()+".png"}};var Ve=class{static $="BrightnessBlock";static re(){t("#"+this.$).empty().append(t("<select>",{id:"brightness_select",class:"form-control input-sm"}).on("change",()=>this.c67()).append(t("<option>",{value:50}).html("\u2600\uFE0F 50%"),t("<option>",{value:55}).html("\u2600\uFE0F 55%"),t("<option>",{value:60}).html("\u2600\uFE0F 60%"),t("<option>",{value:65}).html("\u2600\uFE0F 65%"),t("<option>",{value:70}).html("\u2600\uFE0F 70%"),t("<option>",{value:75}).html("\u2600\uFE0F 75%"),t("<option>",{value:80}).html("\u2600\uFE0F 80%"),t("<option>",{value:85}).html("\u2600\uFE0F 85%"),t("<option>",{value:90}).html("\u2600\uFE0F 90%"),t("<option>",{value:95}).html("\u2600\uFE0F 95%"),t("<option>",{value:100}).html("\u2600\uFE0F 100%")).val(this.g67()))}static c67(){t("#"+this.$).tooltip("hide");let e=t("#brightness_select").val();this.s69(e),this.u67()}static u67(){t("#game").css("filter","brightness("+this.g66()+"%)")}static g66(){return i.i140(navigator.userAgent)||!kt.i135()?100:this.g67()}static s69(e){U.s142("brightness",e)}static g67(){return k.g127()?parseInt(U.g172("brightness"))||90:100}};var Ft=class{static $="LoadingBlock";static re(){t("#"+this.$).html('<img src="/img/loading_big.gif" class="loading-big"/>')}};var gt=class{static g223(){return R.g260()==i.F114?"flower":R.g260()==i.F115?"fruit":"ice"}static r219(){return this.r221(R.g257())}static r220(){return this.r221(R.g258())}static r221(e,s){return t("<span>",{class:"season help "+s,title:a("season")+" "+this.g224(e)}).tooltip({trigger:"hover"}).append("["+this.g224(e)+"]")}static g224(e){return"S"+(e-i.F84+1)}};var F=class{static g202(e,s,n){return this.g203(e,s,!0)+", "+this.g204(e,n)}static g203(e,s,n,r){let l=new Date,p=new Date(e);if(n&&p.getFullYear()==l.getFullYear()&&p.getMonth()==l.getMonth()&&p.getDate()==l.getDate())return a("time_today");if(n&&p.getFullYear()==l.getFullYear()&&p.getMonth()==l.getMonth()&&p.getDate()==l.getDate()+1)return a("time_tomorrow");let o=p.getDate(),c=a("month_"+(p.getMonth()+1)+"_"),f=p.getFullYear();return r&&(c=c.substring(0,3)),v.l85=="de"&&(o=o+"."),s&&f==l.getFullYear()?a("time_extended_year")?("0"+(p.getMonth()+1)).slice(-2)+a("time_extended_month")+" "+("0"+p.getDate()).slice(-2)+a("time_extended_day"):o+" "+c:a("time_extended_year")?p.getFullYear()+a("time_extended_year")+" "+("0"+(p.getMonth()+1)).slice(-2)+a("time_extended_month")+" "+("0"+p.getDate()).slice(-2)+a("time_extended_day"):(a("time_pre_year")&&(f=a("time_pre_year")+" "+f),o+" "+c+" "+f)}static g204(e,s){let n=new Date(e),r=(n.getHours()<10?"0":"")+n.getHours(),l=(n.getMinutes()<10?"0":"")+n.getMinutes();if(s){let p=(n.getSeconds()<10?"0":"")+n.getSeconds();return r+":"+l+":"+p}else return r+":"+l}static g205(e,s){if(e<i.U65)return e;let n=e%12+1,r=Math.floor(e/12),l;return a("time_pre_year")&&(r=a("time_pre_year")+" "+r),a("time_extended_year")?l=r+a("time_extended_year")+" "+("0"+n).slice(-2)+a("time_extended_month"):l=a("month_"+n)+" "+r,l='<span class="season">['+gt.g224(e)+"]</span> "+l,s?"<strong>"+l+"</strong>":l}static s175(){return Date.now()-(new Date().getTimezoneOffset()*60*1e3-R.s195)}};var T=class{static M90=1e6;static E114=.2;static C170=["0","1","2","3","4","5","6","7","8","9","X","A","B","C","D","E","F","G","H","I","P","J","K","L","M","N","O","Q","R","S","T","U","V","W","Y","Z"];static C171=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];static G136=[["T","T","T","T","T"],["R","R","R","R","R"],["S","S","S","S","S"],["A","A","A","A","A"],["O","O","O","O","O"],["Q","Q","Q","Q","Q"],["E","E","E","E","E"],["G","G","G","G","G"],["J","J","J","J","J"],["D","D","D","D","D"],["De","De","De","De","De"],["Dm","Dm","Dm","Dm","Dm"],["Dg","Dg","Dg","Dg","Dg"],["Da","Da","Da","Da","Da"],["Ddq","Dsq","Dap","Dep","Dac"]];static P161=[[["CE","VR"],[0,0,0,884096]],[["CH","RZ"],[0,1,0,1258417]],[["CT","LL"],[0,2,0,733893]],[["CR","ZN"],[0,3,0,863144]],[["CS","GX"],[0,4,0,642285]],[["RE","RC"],[1,0,0,138919]],[["RH","MG"],[1,1,0,451139]],[["RT","ME"],[1,2,0,938259]],[["RR","NB"],[1,3,0,395362]],[["RS","TN"],[1,4,0,672962]],[["UE","UG"],[2,0,0,335961]],[["UH","ID"],[2,1,0,1489507]],[["UT","EX"],[2,2,0,374678]],[["UR","OL"],[2,3,0,1185214]],[["US","RX"],[2,4,0,128369]],[["LE","SA"],[3,0,0,966693]],[["LH","AL"],[3,1,0,825046]],[["LT","BT"],[3,2,0,673763]],[["LR","JL"],[3,3,0,1222263]],[["LS","LE"],[3,4,0,221900]],[["PE","SC"],[4,0,0,401436]],[["PH","AG"],[4,1,0,560103]],[["PT","RM"],[4,2,0,595032]],[["PR","MA"],[4,3,0,705884]],[["PS","EM"],[4,4,0,469156]],[["PE","GN"],[5,0,2,198754]],[["PH","TR"],[5,1,2,1537421]],[["PT","RL"],[5,2,2,2966478]],[["PR","FA"],[5,3,2,2853300]],[["PS","MC"],[5,4,2,2282005]],[["PE","MS"],[5,0,3,567348]],[["PH","DN"],[5,1,3,1325674]],[["PT","PT"],[5,2,3,1783173]],[["PR","PA"],[5,3,3,2677763]],[["PS","IA"],[5,4,3,1571252]],[["PE","RG"],[5,0,4,2146160]],[["PH","GE"],[5,1,4,2691646]],[["PT","ZG"],[5,2,4,3472556]],[["PR","MP"],[5,3,4,1958979]],[["PS","KT"],[5,4,4,4901451]],[["PE","OK"],[5,0,5,2484838]],[["PH","HC"],[5,1,5,2150671]],[["PT","GR"],[5,2,5,3272994]],[["PR","BR"],[5,3,5,1388039]],[["PS","KR"],[5,4,5,3569263]],[["PE","JZ"],[5,0,6,1782682]],[["PH","BB"],[5,1,6,2338458]],[["PT","AR"],[5,2,6,1588995]],[["PR","GZ"],[5,3,6,1417668]],[["PS","RO"],[5,4,6,3020427]],[["PE","KJ"],[5,0,7,5072156]],[["PH","PV"],[5,1,7,770798]],[["PT","JV"],[5,2,7,2651843]],[["PR","BL"],[5,3,7,595202]],[["PS","OB"],[5,4,7,3544203]],[["PE","PG"],[5,0,8,1428880]],[["PH","EG"],[5,1,8,3557199]],[["PT","XI"],[5,2,8,1105798]],[["PR","RD"],[5,3,8,5309760]],[["PS","HZ"],[5,4,8,3468155]],[["PE","MT"],[5,0,9,1881608]],[["PH","DR"],[5,1,9,1782591]],[["PT","PL"],[5,2,9,3039734]],[["PR","KI"],[5,3,9,5116467]],[["PS","IM"],[5,4,9,1874189]],[["PE","YO"],[5,0,10,214151]],[["PH","JS"],[5,1,10,3223654]],[["PT","KO"],[5,2,10,4371351]],[["PR","77"],[5,3,10,5225686]],[["PS","RY"],[5,4,10,4428757]],[["PE","KM"],[5,0,11,4497204]],[["PH","FR"],[5,1,11,4808725]],[["PT","NA"],[5,2,11,1191828]],[["PR","9H"],[5,3,11,883598]],[["PS","MN"],[5,4,11,1822198]],[["PE","JR"],[5,0,12,2685315]],[["PH","ZB"],[5,1,12,1934311]],[["PT","SZ"],[5,2,12,2620977]],[["PR","RI"],[5,3,12,539741]],[["PS","IS"],[5,4,12,48560]],[["PE","KS"],[5,0,13,3499309]],[["PH","ZL"],[5,1,13,1456633]],[["PT","BU"],[5,2,13,5125360]],[["PR","SK"],[5,3,13,4037059]],[["PS","SE"],[5,4,13,3563185]],[["PE"],[5,0,14]],[["PH"],[5,1,14]],[["PT"],[5,2,14]],[["PR"],[5,3,14]],[["PS"],[5,4,14]],[["PE"],[5,0,15]],[["PH"],[5,1,15]],[["PT"],[5,2,15]],[["PR"],[5,3,15]],[["PS"],[5,4,15]],[["PE"],[5,0,16]],[["PH"],[5,1,16]],[["PT"],[5,2,16]],[["PR"],[5,3,16]],[["PS"],[5,4,16]],[["PE"],[5,0,17]],[["PH"],[5,1,17]],[["PT"],[5,2,17]],[["PR"],[5,3,17]],[["PS"],[5,4,17]],[["PE"],[5,0,18]],[["PH"],[5,1,18]],[["PT"],[5,2,18]],[["PR"],[5,3,18]],[["PS"],[5,4,18]],[["PE"],[5,0,19]],[["PH"],[5,1,19]],[["PT"],[5,2,19]],[["PR"],[5,3,19]],[["PS"],[5,4,19]],[["PE"],[5,0,20]],[["PH"],[5,1,20]],[["PT"],[5,2,20]],[["PR"],[5,3,20]],[["PS"],[5,4,20]]];static I88=550;static C172=5*21*21*21*21*21*15*11;static P162=20420500;static P163=5*21*21*21*21*21*15*11;static P164=2;static S143=3369544600;static S144=["AE","AH","AT","AR","AS"];static P165={10:[850,0,0,[[5]]],11:[1e3,0,0,[[6]]],12:[1150,0,0,[[7]]],13:[1300,0,0,[[8]]],14:[1550,0,0,[[10]]],15:[1800,0,0,[[12]]],16:[2100,0,0,[[14]]],17:[2400,0,0,[[16]]],18:[2700,0,0,[[18]]],19:[3e3,0,0,[[20]]],20:[2e3,3,0,[null,[0,5]],[null,[5]]],21:[2e3,4,0,[null,[0,6]],[null,[5]]],22:[2500,4,0,[null,[0,7]],[null,[5]]],23:[2500,5,0,[null,[0,8]],[null,[5]]],24:[3e3,5,0,[null,[0,9]],[null,[5]]],25:[3e3,6,0,[null,[0,10]],[null,[5]]],26:[3500,6,0,[null,[0,11]],[null,[5]]],27:[3500,7,0,[null,[0,12]],[null,[10]]],28:[4e3,8,0,[null,[0,13]],[null,[10]]],29:[4500,9,0,[null,[0,14]],[null,[10]]],30:[5e3,10,0,[null,[0,16]],[null,[15]]],31:[5500,12,0,[null,[0,18]],[null,[15]]],32:[6e3,14,0,[null,[0,20]],[null,[20]]],33:[7e3,16,0,[null,[0,22]],[null,[20]]],34:[8e3,18,0,[null,[0,25]],[null,[20]]],35:[9e3,20,0,[null,[0,27]],[null,[20]]],36:[1e4,22,0,[null,[0,30]],[null,[25]]],37:[11e3,25,0,[null,[0,35]],[null,[25]]],38:[12e3,28,0,[null,[0,40]],[null,[25]]],39:[13e3,32,0,[null,[0,45]],[null,[25]]],40:[14e3,30,60,[null,[0,50],[0,0,5]],[null,[30],[0,10]]],41:[15e3,34,68,[null,[0,55],[0,5,5]],[null,[30],[0,10]]],42:[16e3,38,76,[null,[0,60],[0,0,6]],[null,[30],[0,10]]],43:[17e3,42,84,[null,[0,65],[0,5,6]],[null,[30],[0,10]]],44:[18e3,46,92,[null,[0,70],[0,0,7]],[null,[30],[0,10]]],45:[19e3,50,100,[null,[0,76],[0,5,7]],[null,[30],[0,10]]],46:[2e4,55,110,[null,[0,82],[0,0,8]],[null,[30],[0,10]]],47:[21e3,60,120,[null,[0,88],[0,5,8]],[null,[30],[0,10]]],48:[22e3,65,130,[null,[0,94],[0,0,9]],[null,[30],[0,10]]],49:[23e3,70,140,[null,[0,100],[0,5,9]],[null,[30],[0,10]]],50:[24e3,75,150,[null,[0,106],[0,0,10]],[null,[30],[0,10]]],51:[25e3,80,160,[null,null,[0,0,11]],[null,null,[0,10]]],52:[26e3,85,170,[null,null,[0,0,12]],[null,null,[0,10]]],53:[27e3,90,180,[null,null,[0,0,13]],[null,null,[0,10]]],54:[28e3,95,190,[null,null,[0,0,14]],[null,null,[0,15]]],55:[3e4,100,200,[null,null,[0,0,15]],[null,null,[0,20]]],56:[32e3,110,220,[null,null,[0,0,16]],[null,null,[0,20]]],57:[35e3,120,240,[null,null,[0,0,17]],[null,null,[0,20]]],58:[37e3,130,260,[null,null,[0,0,18]],[null,null,[0,20]]],59:[4e4,140,280,[null,null,[0,0,19]],[null,null,[0,20]]],60:[42e3,150,300,[null,null,[0,0,20]],[null,null,[0,20]]],61:[45e3,160,320,[null,null,[0,0,21]],[null,null,[0,20]]],62:[47e3,170,340,[null,null,[0,0,22]],[null,null,[0,20]]],63:[5e4,180,360,[null,null,[0,0,24]],[null,null,[0,20]]],64:[52e3,190,380,[null,null,[0,0,26]],[null,null,[0,20]]],65:[55e3,200,400,[null,null,[0,0,28]],[null,null,[0,40]]],66:[6e4,220,440,[null,null,[0,0,30]],[null,null,[0,40]]],67:[65e3,240,480,[null,null,[0,0,33]],[null,null,[0,40]]],68:[7e4,260,520,[null,null,[0,0,36]],[null,null,[0,50]]],69:[75e3,280,560,[null,null,[0,0,40]],[null,null,[0,50]]],70:[8e4,300,600,[null,null,[0,0,44],[0,0,0,5]],[null,null,[0,50],[0,0,5]]],71:[85e3,325,650,[null,null,[0,0,48],[0,0,5,5]],[null,null,[0,50],[0,0,5]]],72:[9e4,350,700,[null,null,[0,0,52],[0,0,0,6]],[null,null,[0,70],[0,0,7]]],73:[1e5,375,750,[null,null,[0,0,56],[0,0,5,6]],[null,null,[0,70],[0,0,7]]],74:[11e4,400,800,[null,null,[0,0,60],[0,0,0,7]],[null,null,[0,100],[0,0,10]]],75:[12e4,450,900,[null,null,[0,0,68],[0,0,0,8]],[null,null,[0,100],[0,0,10]]],76:[13e4,500,1e3,[null,null,[0,0,76],[0,0,0,9]],[null,null,[0,100],[0,0,10]]],77:[14e4,550,1100,[null,null,[0,0,84],[0,0,0,10]],[null,null,[0,100],[0,0,10]]],78:[15e4,600,1200,[null,null,[0,0,92],[0,0,0,11]],[null,null,[0,100],[0,0,10]]],79:[16e4,650,1300,[null,null,[0,0,100],[0,0,0,12]],[null,null,[0,100],[0,0,10]]],80:[17e4,700,1400,[null,null,[0,0,108],[0,0,0,13]],[null,null,[0,120],[0,0,12]]],81:[185e3,750,1500,[null,null,null,[0,0,0,14]],[null,null,null,[0,0,12]]],82:[2e5,800,1600,[null,null,null,[0,0,0,15]],[null,null,null,[0,0,12]]],83:[215e3,850,1700,[null,null,null,[0,0,0,16]],[null,null,null,[0,0,12]]],84:[23e4,900,1800,[null,null,null,[0,0,0,17]],[null,null,null,[0,0,20]]],85:[25e4,1e3,2e3,[null,null,null,[0,0,0,18]],[null,null,null,[0,0,20]]],86:[27e4,1100,2200,[null,null,null,[0,0,0,20]],[null,null,null,[0,0,40]]],87:[3e5,1300,2600,[null,null,null,[0,0,0,24]],[null,null,null,[0,0,40]]],88:[35e4,1500,3e3,[null,null,null,[0,0,0,28]],[null,null,null,[0,0,50]]],89:[4e5,1750,3500,[null,null,null,[0,0,0,32]],[null,null,null,[0,0,50]]],90:[45e4,2e3,4e3,[null,null,null,[0,0,0,36]],[null,null,null,[0,0,50]]],91:[5e5,2250,4500,[null,null,null,[0,0,0,40]],[null,null,null,[0,0,50]]],92:[55e4,2500,5e3,[null,null,null,[0,0,0,45]],[null,null,null,[0,0,50]]],93:[6e5,2750,5500,[null,null,null,[0,0,0,50]],[null,null,null,[0,0,50]]],94:[65e4,3e3,6e3,[null,null,null,[0,0,0,55]],[null,null,null,[0,0,50]]],95:[7e5,3250,6500,[null,null,null,[0,0,0,60]],[null,null,null,[0,0,50]]],96:[75e4,3500,7e3,[null,null,null,[0,0,0,65]],[null,null,null,[0,0,50]]],97:[8e5,3750,7500,[null,null,null,[0,0,0,70]],[null,null,null,[0,0,50]]],98:[85e4,4e3,8e3,[null,null,null,[0,0,0,75]],[null,null,null,[0,0,100]]],99:[9e5,4500,9e3,[null,null,null,[0,0,0,85]],[null,null,null,[0,0,100]]],100:[1e6,5e3,1e4,[null,null,null,[0,0,0,95]],[null,null,null,[0,0,100]]],101:[11e5,5500,11e3,[null,null,null,[0,0,0,105]],[null,null,null,[0,0,100]]],102:[12e5,6e3,12e3,[null,null,null,[0,0,0,115]],[null,null,null,[0,0,100]]],103:[13e5,6500,13e3,[null,null,null,[0,0,0,125]],[null,null,null,[0,0,100]]],104:[14e5,7e3,14e3,[null,null,null,[0,0,0,135]],[null,null,null,[0,0,100]]],105:[15e5,7500,15e3,[null,null,null,[0,0,0,145]],[null,null,null,[0,0,100]]],106:[16e5,8e3,16e3,[null,null,null,[0,0,0,155]],[null,null,null,[0,0,100]]],107:[17e5,8500,17e3,[null,null,null,[0,0,0,165]],[null,null,null,[0,0,100]]],108:[18e5,9e3,18e3,[null,null,null,[0,0,0,175]],[null,null,null,[0,0,100]]],109:[19e5,9500,19e3,[null,null,null,[0,0,0,185]],[null,null,null,[0,0,100]]],110:[2e6,1e4,2e4,[null,null,null,[0,0,0,195]],[null,null,null,[0,0,100]]]};static B96={10:10,11:12,12:14,13:16,14:18,15:20,16:22,17:24,18:26,19:28,20:30,21:33,22:36,23:39,24:42,25:45,26:48,27:51,28:54,29:57,30:60,31:63,32:66,33:69,34:72,35:75,36:78,37:81,38:84,39:87,40:90,41:94,42:98,43:102,44:106,45:110,46:114,47:118,48:122,49:126,50:130,51:134,52:138,53:142,54:146,55:150,56:154,57:158,58:162,59:166,60:170,61:174,62:178,63:182,64:186,65:190,66:194,67:198,68:202,69:206,70:210,71:213,72:216,73:219,74:222,75:225,76:228,77:231,78:234,79:237,80:240,81:243,82:246,83:249,84:252,85:255,86:258,87:261,88:264,89:267,90:270,91:273,92:276,93:279,94:282,95:285,96:288,97:291,98:294,99:297,100:300,101:300,102:300,103:300,104:300,105:300,106:300,107:300,108:300,109:300,110:300,111:300,112:300,113:300,114:300,115:300,116:300,117:300,118:300,119:300,120:300,121:300,122:300,123:300,124:300,125:300,126:300,127:300,128:300,129:300,130:300,131:300,132:300,133:300,134:300,135:300,136:300,137:300,138:300,139:300,140:300,141:300,142:300,143:300,144:300,145:300,146:300,147:300,148:300,149:300,150:300,151:300,152:300,153:300,154:300,155:300,156:300,157:300,158:300,159:300,160:300,161:300,162:300,163:300,164:300,165:300,166:300,167:300,168:300,169:300,170:300,171:300,172:300,173:300,174:300,175:300,176:300,177:300,178:300,179:300,180:300,181:300,182:300,183:300,184:300,185:300,186:300,187:300,188:300,189:300,190:300,191:300,192:300,193:300,194:300,195:300,196:300,197:300,198:300,199:300,200:300};static H113={"0_11":[10,6],"0_12":[10,8],"0_13":[10,5],"0_14":[10,7],"0_15":[10,3,2],"1_11":[10,4],"1_12":[10,1],"1_13":[10,9],"1_14":[10,6],"1_15":[10,8,5],"2_11":[10,7],"2_12":[10,3],"2_13":[10,2],"2_14":[10,4],"2_15":[10,1,9],"3_11":[10,2],"3_12":[10,4],"3_13":[10,1],"3_14":[10,9],"3_15":[10,6,8],"4_11":[10,5],"4_12":[10,7],"4_13":[10,3],"4_14":[10,2],"4_15":[10,4,1]};static g266(e){let s=0,n={},r=0,l={},p=0;if(e.perfectLevel>=2){for(let o=0;o<e.gems.length;o++){let c=e.gems[o];if(this.H113[e.type+"_"+c]){let f=this.H113[e.type+"_"+c];for(let h=0;h<f.length;h++){let g=f[h];n[g]===void 0&&(n[g]=0),l[g+i.A104]===void 0&&(l[g+i.A104]=0),n[g]+=5e3,l[g+i.A104]+=1e4,r+=5e3,p+=1e4,s+=1e6}}else n[c]===void 0&&(n[c]=0),l[c+i.A104]===void 0&&(l[c+i.A104]=0),n[c]+=5e3,r+=5e3,l[c+i.A104]+=1e4,p+=1e4,s+=1e6}return{coins:s,gems:n,gemsAll:r,ac:l,acAll:p}}else return n[Math.min(e.gem,10)]=this.P165[e.quality][1],l[Math.min(e.gem,10)+i.A104]=this.P165[e.quality][2],{coins:this.P165[e.quality][0],gems:n,gemsAll:this.P165[e.quality][1],ac:l,acAll:this.P165[e.quality][2]}}static g267(e,s,n){for(let r=0;r<this.P161.length;r++){let l=this.P161[r];if(l[1][0]==e&&l[1][1]==s)if(e==5){if(n===l[1][2])return l[0][0]}else return l[0][0]}return"XX"}static i143(e){let s={itemType:e,type:e%5,props:{},quality:0,perfectLevel:0,gems:[],gem:0,upgrade:0};if(e>=this.P163){s.quality=100;let c=(e-this.P163-s.type)/5;for(let f=0;f<=14;f++)c&1<<f&&(s.gems.push(f+1),f==14?(s.quality+=15,s.perfectLevel+=3):f>=10?(s.quality+=10,s.perfectLevel+=2):(s.quality+=5,s.perfectLevel+=1));return s.props={0:20,1:20,2:20,3:20,4:20},s}else e%(5*21*21*21*21*21)>=this.P162&&(s.perfectLevel=1);let n=Math.floor(e%(5*21)/5),r=Math.floor(e%(5*21*21)/(5*21)),l=Math.floor(e%(5*21*21*21)/(5*21*21)),p=Math.floor(e%(5*21*21*21*21)/(5*21*21*21)),o=Math.floor(e%(5*21*21*21*21*21)/(5*21*21*21*21));return s.gem=Math.floor(e%(5*21*21*21*21*21*15)/(5*21*21*21*21*21))+1,s.upgrade=Math.floor(e%(5*21*21*21*21*21*15*11)/(5*21*21*21*21*21*15)),n&&(s.props[0]=n,s.quality+=n),r&&(s.props[1]=r,s.quality+=r),l&&(s.props[2]=l,s.quality+=l),p&&(s.props[3]=p,s.quality+=p),o&&(s.props[4]=o,s.quality+=o),s.quality+=s.upgrade,s}static i144(e){if(e.perfectLevel>=2){let s=0;for(let n=0;n<=14;n++)n!=9&&e.gems.indexOf(n+1)!=-1&&(s=s|1<<n);return this.P163+s*5+e.type}else return e.type+(e.props[0]?e.props[0]*5:0)+(e.props[1]?e.props[1]*5*21:0)+(e.props[2]?e.props[2]*5*21*21:0)+(e.props[3]?e.props[3]*5*21*21*21:0)+(e.props[4]?e.props[4]*5*21*21*21*21:0)+(e.gem-1)*5*21*21*21*21*21+e.upgrade*5*21*21*21*21*21*15}static i145(e){if(e.itemType>=this.S143)return this.S144[e.itemType-this.S143];if(e.itemType>=this.P163){let p=Math.round((e.quality-100)/5),o="";for(let c=0;c<e.gems.length;c++)o+=this.G136[e.gems[c]-1][e.type];return this.g267(5,e.type,p)+"-"+o}let s=e.itemType%(5*21*21*21*21*21),n=Math.floor(e.itemType%(5*21*21*21*21*21*15)/(5*21*21*21*21*21)),r=Math.floor(e.itemType%(5*21*21*21*21*21*15*11)/(5*21*21*21*21*21*15)),l="";return s<this.P162&&(l=(e.props[0]?this.C170[e.props[0]]:"0")+(e.props[1]?this.C170[e.props[1]]:"0")+(e.props[2]?this.C170[e.props[2]]:"0")+(e.props[3]?this.C170[e.props[3]]:"0")+(e.props[4]?this.C170[e.props[4]]:"0")),this.g267(this.g268(e),e.type,1)+(l?"-"+l:"")+"-"+this.G136[n][e.type]+(r||"")}static i146(e){if(!e)return null;if(this.S144.indexOf(e)!=-1)return this.i143(this.S143+this.S144.indexOf(e));if(e.indexOf("-")==-1)return null;e=e.replace("Der","Dep"),e=e.replace("Dar","Dac");let s=e.split("-"),n,r,l,p;if(s.length==3)n=s[0],r=s[1],p=s[2];else if(s.length==2)n=s[0],r="",p=s[1];else return null;let o,c;if(n=="PE")o=p.length>1?5:4,c=0;else if(n=="PH")o=p.length>1?5:4,c=1;else if(n=="PT")o=p.length>1?5:4,c=2;else if(n=="PR")o=p.length>1?5:4,c=3;else if(n=="PS")o=p.length>1?5:4,c=4;else{let A=null;for(let M=0;M<this.P161.length;M++)if(this.P161[M][0].indexOf(n)!=-1){A=this.P161[M];break}if(!A)return null;o=A[1][0],c=A[1][1]}if(o==5){if(p.length==0)return null;l=0;for(let P=this.G136.length-1;P>=0;P--)P!=9&&p.indexOf(this.G136[P][c])!=-1&&(p=p.replace(this.G136[P][c],""),l=l|1<<P);let A=this.P163+l*5+c,M=this.i143(A);return e!=this.i145(M)?null:M}if(o==4){if(p.length!=1)return null;l=this.P162+c}else{if(n.length!=2||r.length!=5||[1,2,3,4,5].indexOf(p.length)==-1)return null;this.C170.indexOf(r[0])>20||this.C170.indexOf(r[1])>20||this.C170.indexOf(r[2])>20||this.C170.indexOf(r[3])>20||this.C170.indexOf(r[4])>20?l=this.C171.indexOf(r[0])*(36*36*36*36)+this.C171.indexOf(r[1])*(36*36*36)+this.C171.indexOf(r[2])*(36*36)+this.C171.indexOf(r[3])*36+this.C171.indexOf(r[4]):l=c+this.C170.indexOf(r[0])*5+this.C170.indexOf(r[1])*5*21+this.C170.indexOf(r[2])*5*21*21+this.C170.indexOf(r[3])*5*21*21*21+this.C170.indexOf(r[4])*5*21*21*21*21}let f=null,h=null;for(let A=this.G136.length-1;A>=0&&f==null;A--)for(let M=0;M<5;M++)if(p.indexOf(this.G136[A][M])==0){f=A,h=this.G136[A][M];break}if(f===null)return null;let g=parseInt(p.substring(h.length));if(isNaN(g)&&(g=0),g<0||g>10)return null;let w=l+f*5*21*21*21*21*21+g*5*21*21*21*21*21*15;if(w<this.I88||w>this.C172)return null;let C=this.i143(w);return C.quality<10||C.quality>110?null:C}static g268(e){if(e.quality==200)return 6;let s=e.quality-e.upgrade;return s<20?0:s<40?1:s<70?2:s<=99?3:s<=109?4:5}static g269(e,s,n,r,l,p,o,c,f){let h=s==n?s:s+(Math.random()*(n-s+1)|0);if(r&&h!=s&&Math.random()<.5&&(h-=1),h==100){let w={type:e,quality:100,props:{0:20,1:20,2:20,3:20,4:20},gem:f,upgrade:0};return w.itemType=this.i144(w),w}[0,1].indexOf(e)!=-1&&[42,47,52,57,62,67,72,77,82,87,92,97].indexOf(h)!=-1&&(h+=1);for(let g=0;g<this.M90;g++){let w=o==c?o:o+(Math.random()*(c-o+1)|0),C={},A=0,M=!1,P;h>=40?(P=Math.round(h/w),P+=this.a106(e,P,l,p),A+=P,C[4]=P):w==3&&Math.random()<.5&&(P=Math.round(h/w),P+=this.a106(e,P,l,p),A+=P,C[4]=P);for(let B=Object.keys(C).length;B<w;B++){let L=Math.random()*4|0,mt=Object.keys(C);for(let j=0;j<mt.length;j++)mt[j]==L&&(j=-1,L=Math.random()*4|0);if(B==w-1){let j=h-A;j>=l&&j<=p&&(C[L]=j,M=!0)}else{let j=l==p?l:l+(Math.random()*(p-l+1)|0);w==4&&h>=70&&h<=80&&j==5&&(j=20),A+=j,C[L]=j}}if(M){if(Math.random()<this.E114){if(C[0]&&C[1]===void 0&&(C[1]=C[0],delete C[0]),C[0]&&C[2]===void 0&&(C[2]=C[0],delete C[0]),C[0]&&C[3]===void 0&&(C[3]=C[0],delete C[0]),C[0]&&C[2]&&C[0]>C[2]){let L=C[0];C[0]=C[2],C[2]=L}if(C[0]&&C[1]&&C[0]>C[1]){let L=C[0];C[0]=C[1],C[1]=L}if(C[0]&&C[3]&&C[0]>C[3]){let L=C[0];C[0]=C[3],C[3]=L}}let B={type:e,quality:h,props:C,gem:f,upgrade:0};return B.itemType=this.i144(B),B}}return null}static a106(e,s,n,r){if(e==2||e==3||e==4){let l=-2+(Math.random()*6|0);return s+l<n||s+l>r?0:l}return 0}static g270(e){if(e===null)return 0;let s=!0;for(let r=0;r<5;r++)if(e[r]===void 0||this.i143(e[r]).perfectLevel==0){s=!1;break}let n=0;if(s)for(let r=0;r<5;r++)n+=100+5*this.i143(e[r]).perfectLevel;else{for(let r=0;r<5;r++)e[r]!==void 0&&(n+=this.i143(e[r]).quality);if(n>=495)return 99}return Math.round(n/5)}static g271(e){if(!e)return 0;let s=0;for(let n=0;n<5;n++)e[n]!==void 0&&(s+=this.i143(e[n]).perfectLevel);return s}static i147(e){return e>=10}static g272(e){return e>=10?10:5}static g273(e){let s=e.eq?e.eq:[],n=e.boosts?e.boosts:{},r=e.items?e.items:{},l={},p=Date.now();for(let c=0;c<5;c++)if(s[c]!==void 0){let f=this.i143(s[c]),h=this.g274(f,n[f.itemType]&&n[f.itemType]>p,!1);for(let g in h)l[g]===void 0&&(l[g]=0),l[g]+=h[g]}r[i.T84]&&e.exp&&r[i.T84]*1e6>e.exp&&(l[i.B72]===void 0&&(l[i.B72]=0),l[i.B73]===void 0&&(l[i.B73]=0),l[i.B74]===void 0&&(l[i.B74]=0),l[i.B75]===void 0&&(l[i.B75]=0),l[i.B72]+=i.T104,l[i.B73]+=i.T104,l[i.B74]+=i.T104,l[i.B75]+=i.T104);let o=r[i.R108];if(o!==void 0&&o>=10){let c;o<100?c=5:o<1e3?c=10:o<2e3?c=20:o<3e3?c=30:c=40,this.a107(i.B81,c,l,!1),this.a107(i.B82,c,l,!1),this.a107(i.B80,c,l,!1)}return l}static g274(e,s,n){let r={};for(let l in e.props)l==0?this.a107(i.B72,e.props[l],r,s):l==1?this.a107(i.B73,e.props[l],r,s):l==2?this.a107(i.B74,e.props[l],r,s):l==3?this.a107(i.B75,e.props[l],r,s):l==4&&e.type==0?this.a107(i.B77,1,r,s):l==4&&e.type==1?this.a107(i.B78,1,r,s):l==4&&e.type==2?this.a107(i.B81,e.props[l],r,s):l==4&&e.type==3?this.a107(i.B82,e.props[l],r,s):l==4&&e.type==4&&this.a107(i.B80,e.props[l],r,s);if(e.upgrade>0&&(e.gem==1?this.a107(i.B84,4*e.upgrade,r,s):e.gem==2?this.a107(i.B85,4*e.upgrade,r,s):e.gem==3?this.a107(i.B86,4*e.upgrade,r,s):e.gem==4?this.a107(i.B87,4*e.upgrade,r,s):e.gem==5?this.a107(i.B88,4*e.upgrade,r,s):e.gem==6?this.a107(i.B89,4*e.upgrade,r,s):e.gem==7?this.a107(i.B90,4*e.upgrade,r,s):e.gem==8?this.a107(i.B91,4*e.upgrade,r,s):e.gem==9?this.a107(i.B92,4*e.upgrade,r,s):e.gem==11?this.a107(i.B72,e.upgrade,r,s):e.gem==12?this.a107(i.B73,e.upgrade,r,s):e.gem==13?this.a107(i.B74,e.upgrade,r,s):e.gem==14&&this.a107(i.B75,e.upgrade,r,s)),e.perfectLevel>=1){let l=e.perfectLevel==1?[e.gem]:e.gems;for(let p=0;p<l.length;p++){let o=l[p];o==1?this.a107(i.B84,20,r,s):o==2?this.a107(i.B85,20,r,s):o==3?this.a107(i.B86,20,r,s):o==4?this.a107(i.B87,20,r,s):o==5?this.a107(i.B88,20,r,s):o==6?this.a107(i.B89,20,r,s):o==7?this.a107(i.B90,20,r,s):o==8?this.a107(i.B91,20,r,s):o==9?this.a107(i.B92,20,r,s):o==10?n?this.a107(i.B83,1,r,s):(this.a107(i.B72,1,r,s),this.a107(i.B73,1,r,s),this.a107(i.B74,1,r,s),this.a107(i.B75,1,r,s)):o==11?this.a107(i.B72,10,r,s):o==12?this.a107(i.B73,10,r,s):o==13?this.a107(i.B74,10,r,s):o==14?this.a107(i.B75,10,r,s):o==15&&e.type==0?this.a107(i.B77,1,r,s):o==15&&e.type==1?(this.a107(i.B78,1,r,s),this.a107(i.B79,2,r,s)):o==15&&e.type==2?this.a107(i.B81,10,r,s):o==15&&e.type==3?this.a107(i.B82,10,r,s):o==15&&e.type==4&&this.a107(i.B80,10,r,s)}}return e.itemType>=this.S143&&(delete r[i.B84],delete r[i.B85],delete r[i.B86],delete r[i.B87],delete r[i.B88],delete r[i.B89],delete r[i.B90],delete r[i.B91],delete r[i.B92],r[i.B74]+=s?40:20),r}static a107(e,s,n,r){n[e]===void 0&&(n[e]=0),n[e]+=r?2*s:s}static g275(e){return e==i.P126?1:e==i.P127?2:e==i.P128?3:4}static g276(e,s){let n={},r=this.g268(e);if(r<=3){let l=this.P165[e.quality][4][r];l[0]&&(n[i.P126]=l[0]),l[1]&&(n[i.P127]=l[1]),l[2]&&(n[i.P128]=l[2]),l[3]&&(n[i.P129+Math.min(10,e.gem)-1]=l[3])}else if(r==4||r==5){if(s>=i.G118&&s<=i.G126)n[s+i.G132]=100;else if(this.H113[e.type+"_"+s]){let l=this.H113[e.type+"_"+s];for(let p=0;p<l.length;p++)n[l[p]+i.G132]=100}}if(Object.keys(n).length==0)throw new Error("Undefined parts for upgrade: "+e.itemType+", "+e.type+", "+s);return n}static g277(e){let s={},n=this.g268(e);if(n<=3){let r=this.P165[e.quality][3][n];r[0]&&(s[i.P126]=r[0]),r[1]&&(s[i.P127]=r[1]),r[2]&&(s[i.P128]=r[2]),r[3]&&(s[i.P129+Math.min(10,e.gem)-1]=r[3])}else n==4&&e.gem>=i.G118&&e.gem<=i.G127&&(s[e.gem+i.G132]=100);if(Object.keys(s).length==0)throw new Error("Undefined parts for disassemble: "+e.itemType+", "+e.type);return s}static g278(e,s,n){if(!e||e<=Date.now())return 0;for(let l in n)if(l>=20&&l<=29)return 0;let r=this.B96[s+1]-this.B96[s];return Math.ceil(r*((e-Date.now())/(24*60*60*1e3)/i.B67))}};var m=class{static d76(e,s,n){if(n||(n=""),e!==null&&e<i.R110[i.R94])return"";if(s){let r=a("game_high_diff_map")+(e!==null?" ("+b.g227(e)+")":"");return t("<img>",{src:"/img/skull.svg",class:"diff-icon tooltip-extra help "+n,title:r,alt:a("game_map_diff")}).tooltip({trigger:"hover"})}else return'<img src="/img/skull.svg" class="diff-icon '+n+'" alt="\u{1F480}"/>'}static s176(e,s){return s||(s=""),'<i class="fa fa-trophy score-icon '+(e&&e<i.U65?" icon-red":"")+(e&&e>=i.U65?"icon-silver":"")+" "+s+'"></i>'}static e85(e){return e||(e=""),'<img src="/img/other/xp.svg" class="exp-icon '+e+'" alt="\u2B50"/>'}static c199(e){return e||(e=""),'<img src="/img/other/coin.svg" class="coin-icon '+e+'" alt="\u{1F7E1}"/>'}static m103(e){return e||(e=""),'<i class="glyphicon glyphicon-flash mastery-icon '+e+'"></i>'}static w68(e){return e||(e=""),'<i class="fa fa-crosshairs ws-icon '+e+'"></i>'}static e86(e){return e||(e=""),'<i class="fa fa-history end-icon '+e+'"></i>'}static t105(e){return e||(e=""),'<i class="fa fa-clock-o time-icon '+e+'"></i>'}static b94(e){return e||(e=""),'<i class="fa fa-rocket time-icon '+e+'"></i>'}static e87(e){return e||(e=""),'<i class="fa fa-dot-circle-o eff-icon '+e+'"></i>'}static n79(e){return e||(e=""),'<i class="glyphicon glyphicon-record nf-icon '+e+'"></i>'}static w69(e){return e||(e=""),'<i class="fa fa-flag wins-icon '+e+'"></i>'}static e88(e){return e||(e=""),'<img src="/img/eq.svg" class="quality-icon '+e+'" alt="\u{1F4E1}"/>'}static t106(e){return e||(e=""),'<img src="/img/turbo-boost.svg" class="turbo-boost-icon '+e+'" alt="\u{1F51D}"/>'}static r200(e){return e||(e=""),'<img src="/img/reward.svg" class="reward-icon '+e+'" alt="'+a("rewards_column_reward")+'"/>'}static t107(e){return e||(e=""),'<i class="fa fa-ticket ticket '+e+'">'}static q65(e){return e||(e=""),'<img src="/img/other/quest.svg" class="quest-icon '+e+'"/>'}static b95(e){return e||(e=""),'<img src="/img/other/event-items.svg" class="event-item-icon '+e+'"/>'}static h76(e){return e||(e=""),'<img src="/img/other/hp.svg" class="hp-icon '+e+'" alt="\u{1F31F}"/>'}static r201(e){return e||(e=""),'<img src="/img/other/rep.svg?v2" class="rep-icon '+e+'" alt="\u2734\uFE0F"/>'}static a101(e,s){return e||(e=""),s||(s=R.g258()),'<img src="/img/activity/activity-'+s+'.svg" class="activity-icon '+e+'" alt="\u26A1"/>'}static a102(e,s){return s||(s=""),'<img src="/img/arena-coins/'+e+'.svg" class="arena-coin-icon '+s+'" alt="\u{1F4C0}"/>'}static l84(e){return e||(e=""),'<i class="fa fa-tasks list-icon '+e+'"></i>'}static p95(e,s){return s||(s=""),'<img src="/img/item/parts'+e+'.svg" class="equipment-parts-small equipment-item-rarity-'+T.g275(e)+" "+s+'" alt="\u2699\uFE0F"/>'}static t108(e,s){s||(s="");let n=e?e-i.T85:0;return'<span class="token-small token'+n+" "+s+'">'+(n||"?")+"</span>"}static p96(e,s){return s||(s=""),'<img src="/img/item/parts'+e+'.svg" class="parts-icon '+s+'" alt="\u2699\uFE0F"/>'}static a103(e){return e||(e=""),'<img src="/img/arena.svg" class="arena-icon '+e+'" alt="\u2694\uFE0F"/>'}static g212(e,s){let n="\u{1F48E}";return e==i.G118?n="\u{1F7E0}":e==i.G119?n="\u{1F53B}\uFE0F":e==i.G120?n="\u{1F535}\uFE0F":e==i.G121?n="\u{1F7E3}\uFE0F":e==i.G122?n="\u26AB\uFE0F":e==i.G123?n="\u{1F4A0}\uFE0F":e==i.G124?n="\u{1F335}\uFE0F":e==i.G125?n="\u{1F534}\uFE0F":e==i.G126&&(n="\u{1F7E2}\uFE0F"),s||(s=""),e==-1?'<img src="/img/gems/random.svg" class="gem '+s+'" alt="'+n+'"/>':'<img src="/img/gems/'+e+'.svg" class="gem gem'+e+" "+s+'" alt="'+n+'"/>'}static e89(e,s,n){let r=this.g213(e);return s=s?r+"-"+s:"",n||(n=""),'<img src="/img/candies/'+r+"/"+e+'.svg?v4" class="'+r+" "+r+e+" "+s+" "+n+'" alt="'+a("candy_"+r+"_alt")+'"/>'}static g213(e){return e>=i.H99&&e<=i.H111||e==i.H112?"heart":e>=i.C116&&e<=i.C128||e==i.C142?"cake":e>=i.S128&&e<=i.S140||e==i.S142?"shard":e>=i.E87&&e<=i.E99||e==i.E101?"egg":e>=i.C129&&e<=i.C141||e==i.C143?"candy":e>=i.S115&&e<=i.S127||e==i.S141?"snowflake":e>=i.F88&&e<=i.F100||e==i.F114?"flower":e>=i.L67&&e<=i.L79||e==i.L80?"like":e>=i.I74&&e<=i.I86||e==i.I87?"icecream":e>=i.D70&&e<=i.D82||e==i.D83?"drink":e>=i.F101&&e<=i.F113||e==i.F115?"fruit":e>=i.P147&&e<=i.P159||e==i.P160?"pumpkin":""}static t109(e,s){return s||(s=""),'<img src="/img/events/ticket-pack/ticket-pack-'+e+'.svg" class="'+s+'" alt="'+a("arena_tickets_pack_"+e)+'"/>'}};var bi=class{static $="RanksHelpBlock";static re(e){t("#"+this.$).empty().append(e,t("<div>",{id:"help_ranks"})),this.r129()}static r129(){t("#help_ranks").empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("ScoresController.getRanksWsAction",[],this.r61.bind(this))}static r61(e){t("#help_ranks").empty().append(t("<table>",{class:"table table-bordered width-auto help-table"}).append(t("<thead>").append(t("<tr>").append(t("<th>",{class:"text-center"}).append(a("ranks_scores_required").replace(" ","<br/>")),t("<th>",{class:"text-center"}).append(a("ranks_military_rank")),t("<th>",{class:"text-center"}).append(a("arena_title")),t("<th>",{class:"text-center"}).append(a("quests_title")),t("<th>",{class:"text-center"}).append(a("ranking_column_players")))),t("<tbody>",{id:"ranks_table_body"})));let s=[1,100,200,300,400,500,600,700,800,900,1e3,1100,1200];for(let n=0;n<s.length;n++){let r=s[n];t("#ranks_table_body").append(t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline text-nowrap"}).append(r<100?1:et.g280(et.g279(r)),m.s176(0,"icon-small icon-right"))),t("<td>").append(a(et.g279(r))),r<=700?t("<td>",{rowspan:r==700?6:1}).append("L"+(n==0?"1":"1-"+(n>=7?8:n+1))):"",t("<td>").append("L"+this.g109(r)),t("<td>").append(b.g227(parseInt(e["count"+r])))))}x.r226()}static g109(e){return e<100?"1":e<200?"1-2":e<300?"2-3":e<400?"2-4":e<500?"3-5":e<600?"3-6":e<700?"4-7":e<800?"4-8":e<900?"5-9":e<1e3?"5-10":e<1100?"6-11":e<1200?"6-12":"7-13"}};var ei=class{static A62={rc:{types:[1,2,3,4,5,6,7,8],sameColors:[[3,4,5],[2,7],[6,8]]},gsr:{types:[1,2,3,4,5,6,7,8,9,10],sameColors:[[1,2,8],[3,6]]},alr:{types:[1,2,3,4,5,6,7,8,9,10,11,11,12,13,14,15,16,17,18,19,20,21,22],sameColors:[[1,12,10,21],[2,13,5,16],[3,14,7,18],[4,15],[6,17],[8,19],[9,20,11,22]]}};static t98=null;static m89(e){return function(){let s=e+=1831565813;return s=Math.imul(s^s>>>15,s|1),s^=s+Math.imul(s^s>>>7,s|61),((s^s>>>14)>>>0)/4294967296}}static M66=4294967296;static i117(){return this.A62[k.g144()]!==void 0}static i118(e){if(this.i117()){e||(e=Math.floor(Math.random()*4294967296));let s=this.m89(e%this.M66),n=this.A62[k.g144()];this.t98={};for(let r=1,l=[],p=[];r<=8;r++){let o=n.types[s()*n.types.length|0];if(l.indexOf(o)!=-1||r<=4&&p.indexOf(o)!=-1){r--;continue}l.push(o);for(let c=0;c<n.sameColors.length;c++)if(n.sameColors[c].indexOf(o)!=-1){p=p.concat(n.sameColors[c]);break}this.t98[r]=o}}}};var H=class{static u74(e){e.title||(e.title=""),e.description||(e.description=""),e.hiddenSeo||(e.hiddenSeo=!1),e.canonical||(e.canonical=""),e.hiddenSeo?window.xMeta={title:e.title,description:e.description}:window.xMeta={title:"",description:""},this.s178(e.title),this.s179(e.description),this.s180(e.image),this.u138(e.title,e.description,e.image),this.u139(e.canonical)}static s178(e){e+=" - Minesweeper Online",document.title=e,t('meta[property="og:title"]').remove(),t("head").append('<meta property="og:title" content="'+e.replace(/"/g,"")+'">')}static s179(e){t("meta[name=description]").remove(),t('meta[property="og:description"]').remove(),t("head").append('<meta name="description" content="'+e.replace(/"/g,"")+'">').append('<meta property="og:description" content="'+e.replace(/"/g,"")+'">')}static s180(e){e||(e={url:"https://minesweeper.online/img/og_image.png",width:1200,height:630}),t("link[rel=image_src]").remove(),t('meta[property="og:image"]').remove(),t('meta[property="og:image:width"]').remove(),t('meta[property="og:image:height"]').remove(),t("head").append('<link rel="image_src" href="'+e.url.replace(/"/g,"")+'">').append('<meta property="og:image" content="'+e.url.replace(/"/g,"")+'">').append('<meta property="og:image:width" content="'+parseInt(e.width)+'">').append('<meta property="og:image:height" content="'+parseInt(e.height)+'">')}static u138(e,s,n){t('meta[property="twitter:card"]').remove(),t('meta[property="twitter:title"]').remove(),t('meta[property="twitter:description"]').remove(),t('meta[property="twitter:image"]').remove(),n&&t("head").append('<meta property="twitter:card" content="summary_large_image">').append('<meta property="twitter:title" content="'+e.replace(/"/g,"")+'">').append('<meta property="twitter:description" content="'+s.replace(/"/g,"")+'">').append('<meta property="twitter:image" content="'+n.url.replace(/"/g,"")+'">')}static u139(e){t("link[rel=canonical]").remove(),e&&t("head").append('<link rel="canonical" href="https://'+J.g287(V.e97)+v.l86+e.replace(/"/g,"")+'">')}static u140(e){e||(e=location.pathname);let s=e[0]=="/"&&e[3]=="/"?e.substring(3):e;t('meta[property="og:url"]').remove(),t("link[rel=alternate]").remove(),t("head").append('<meta property="og:url" content="https://minesweeper.online'+e.replace(/"/g,"")+'">');for(let n in i.A123){let r=n=="en"?"":"/"+n;t("head").append('<link rel="alternate" hreflang="'+n+'" href="https://minesweeper.online'+r+s.replace(/"/g,"")+'">')}}static u141(e){this.u74({title:"%EXTRA_TITLE%",description:"%EXTRA_DESCRIPTION%",hiddenSeo:!0}),t("meta[name=keywords]").remove(),t("head").append('<meta name="keywords" content="%EXTRA_KEYWORDS%">'),v.l85=e,v.l86="/"+e,this.u140("/"+v.l85+"/"),t("#"+Ft.$).html("")}};var Pe=class{static $="NotFoundBlock";static re(){H.u74({title:"404. "+a("server_page_not_found")}),t("#"+this.$).empty().append(t("<h2>").append("404. "+a("server_page_not_found")))}};var jt=class{static $="ViewsBlock";static R64=250;static re(){}static c157(){t("#"+this.$).html("")}static i95(e,s){let n=location.href;setTimeout(()=>{location.href==n&&y.m109("ViewsController.visitAndShowViewsWsAction",[e,s],this.v62.bind(this))},this.R64)}static v62(e){t("#"+this.$).html("").append(t("<span>",{class:"gray"}).append(e+'<i class="glyphicon glyphicon-eye-open eye-corner"></i>'))}};var $i=class{static $="SaveNftDialog";static n71=!1;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(a("exchange_save_button"))),t("<div>",{class:"modal-body"}).append(this.n71?t("<div>").append(t("<p>",{class:"text-danger bold text-center"}).append(a("emc_no_tokens")),i.i141(navigator.userAgent)?"":t("<p>",{class:"text-center"}).append(t("<a>",{href:v.l86+"/marketplace",target:"_blank"}).append('<i class="fa fa-shopping-bag"></i> '+a("menu_market")))):""),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var be=class{static T110=[[1,10],[2,100],[3,500],[4,1e3],[5,1500],[6,2e3],[7,2500],[8,3e3],[9,5e3]];static T111={1:5,2:10,3:15,4:20,5:25,6:30,7:35,8:40,9:40};static g264(e){if(!e)return 0;for(let s=this.T110.length-1;s>=0;s--)if(e>=this.T110[s][1])return this.T110[s][0];return 0}static g265(e){for(let s=0;s<this.T110.length;s++)if(e==this.T110[s][0])return this.T110[s][1];return null}};var ns=class{static $="EmcJoinDialog";static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(a("emc_new_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"text-center"}).css("margin","20px 0").append(a("emc_new_text"))),t("<div>",{class:"modal-footer"}).css("text-align","center").append(t("<button>",{id:"join_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.j61()).html(a("emc_new_join"))))))}static j61(){t("#join_btn").button("loading"),setTimeout(()=>{x.n82("emc")},500)}};var Gt=class{static R64=200;static g216(e,s,n,r,l){setTimeout(()=>{t(".market_price_"+l).is(":visible")&&y.m109("MarketController.getMarketPriceWsAction",[e,s,n,r,l],this.m105.bind(this))},this.R64)}static g217(e,s){setTimeout(()=>{t(".est_price_"+e).is(":visible")&&y.m109("MarketController.getEstPriceWsAction",[e,s],this.e91.bind(this))},this.R64)}static g218(e,s,n){y.m109("MarketController.getItemsPriceWsAction",[e,s,n],this.i125.bind(this))}static m105(e,s){s===null?t(".market_price_"+e).empty().append("n/a"):t(".market_price_"+e).empty().append(b.g227(s),m.c199("icon-right icon-small"))}static e91(e,s,n){s===null?t(".est_price_"+e).empty().append("n/a"):t(".est_price_"+e).empty().append(b.g227(s),m.c199("icon-right "+n))}static i125(e,s){s===null?t(".items_price_"+e).empty().append("n/a"):t(".items_price_"+e).empty().append(b.g227(s),m.c199("icon-right"))}};var lt=class{static E70=1;static E71=2;static T82=3;static T83=5;static E72=4;static r213={};static r102={};static i85(e,s,n,r){s?this.r213[e]=this.g219(s):this.r213[e]=n,this.r213[e]<Date.now()&&(this.r213[e]=null,t("#"+e+"_wrapper").empty()),this.r213[e]&&(this.u79(e,r),this.r102[e]&&clearInterval(this.r102[e]),this.r102[e]=setInterval(()=>{this.u79(e,r)},1e3))}static g219(e){let s=new Date;if(e==this.T82)return Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),4,0,0,0);if(e==this.T83)return Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),11,0,0,0);if(e==this.E71)return Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()+1,0,0,0);if(e==this.E70)return s.getUTCMonth()==11?Date.UTC(s.getUTCFullYear()+1,0,1,0,0,0):Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1,1,0,0,0);if(e==this.E72)return Date.UTC(s.getUTCFullYear()+1,0,1,0,0,0)}static u79(e,s){if(t("#"+e).length==0){clearInterval(this.r102[e]);return}let n=this.r213[e]-Date.now();if(n<=0){t("#"+e+"_wrapper").html(a("loading")+"..."),clearInterval(this.r102[e]),setTimeout(()=>{s&&s()},2e3);return}t("#"+e).html(this.g220(n))}static g220(e,s){if(e=Math.floor(e/1e3),s){let n=Math.round(e/60/60/24),r=Math.floor(e%(60*60*24)/60/60),l=Math.floor(e%(60*60)/60);return n>0?n+a("time_days_abbr"):(r<10?"0":"")+r+":"+(l<10?"0":"")+l}else{let n=Math.floor(e/60/60/24),r=Math.floor(e%(60*60*24)/60/60),l=Math.floor(e%(60*60)/60),p=Math.round(e%60);return n>0&&r+1==24?a("equipment_boost_period_days",{"%amount%":n+1}):n>0?a("time_long_period",{"%d%":n,"%h%":r+1}):(r<10?"0":"")+r+":"+(l<10?"0":"")+l+":"+(p<10?"0":"")+p}}};var ii=class{static $="QuestSettingsBlock";static u89=null;static b65=null;static re(){t("#"+this.$).empty().append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("quests_settings_max_level")+a(":"))),t("<div>",{class:"col-xs-8"}).append(this.r135())),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("quests_settings_elite_chance")+a(":"))),t("<div>",{class:"col-xs-8"}).append(this.r136()))))}static r135(){let e=this.b65&&this.b65[i.B79]?this.b65[i.B79]:0,s=et.g281(this.u89.score,e,0)[1],n=t("<select>",{id:"quest_settings_"+i.M69,class:"form-control width-auto"}).on("change",()=>this.c125(i.M69));for(let l=1+e;l<=s;l++){let p=Math.ceil(l/2);n.append(t("<option>",{value:l}).append(p==l?"L"+p:"L"+p+"-"+l))}n.append(t("<option>",{value:0}).append(a("quests_settings_no_limit")+" (L"+Math.ceil(s/2)+"-"+s+")"));let r=this.u89.items[i.M69]?this.u89.items[i.M69]:0;return n.val(0),n.val(r),n}static r136(){let e=t("<select>",{id:"quest_settings_"+i.E76,class:"form-control width-auto"}).on("change",()=>this.c125(i.E76)).append(t("<option>",{value:-1}).append("0%"),t("<option>",{value:5}).append("5%"),t("<option>",{value:10}).append("10%")),s=this.u89.items[i.E76]?this.u89.items[i.E76]:i.E77;return e.val(s),e}static c125(e){let s=parseInt(t("#quest_settings_"+e).val());y.m109("QuestSettingsController.updateValueWsAction",[e,s],()=>{})}};var vi=class{static $="WheelBonusDialog";static n70=null;static q64=[];static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=ce.g167()[this.n70],s=t("<div>");for(let r=0;r<this.q64.length;r++)s.append(t("<p>").append(nt.g117(this.q64[r],!1)," (",nt.g116(this.q64[r]),")"));let n=i.W81[this.n70];t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>",{"aria-hidden":"true"}).html("&times;")),t("<h4>",{class:"modal-title"}).html(a("wheel_congrats_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("candy_"+R.g260()))),t("<div>",{class:"col-xs-8 form-text"}).append(m.e89(n,"big")," ",a("candy_"+n))),t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("gem_location"))),t("<div>",{class:"col-xs-8 form-text"}).append(e.location)),e.gameStyle?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("gem_game_style"))),t("<div>",{class:"col-xs-8 form-text"}).append(e.gameStyle)):"",this.q64.length>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(this.q64.length>1?a("wheel_fortune_quests"):a("wheel_fortune_quest"),a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(s)):"")),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var ce=class{static P62=1;static $="WheelBlock";static t76=null;static l67=null;static w65=!1;static a91=null;static n70=null;static q64=null;static i96={};static c158="icecream";static D66=5;static S66=4;static re(){if(window.wheelData={config:this.g167(),images:this.i96},this.P62=(()=>{let e=document.createElement("canvas").getContext("2d"),s=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return s/n>=1.05?2:1})(),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),window.Winwheel===void 0){let e=document.createElement("script");e.setAttribute("src","/img/events/wheel/TweenMax.min.js"),e.onload=()=>{let s=document.createElement("script");s.setAttribute("src","/img/events/wheel/Winwheel.js?v3"),s.onload=()=>{this.l68(()=>{this.u115(!0)})},document.head.appendChild(s)},document.head.appendChild(e)}else this.u115(!0)}static u115(e){y.m109("WheelController.getWheelDataWsAction",[e],this.r61.bind(this))}static r61(e,s,n,r){if(s===null){t("#"+this.$).empty().append(t("<span>").append(a("arena_rank_required")+a(": ")),b.m107(1,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(1)))),"<br/>","<br/>","<hr/>");return}if(e){let p=Math.ceil((n+1)/i.W79)*i.W79;t("#"+this.$).empty().append(p<i.W80*i.W79?t("<p>").append(t("<p>").append(a("wheel_next_attempt",{"%amount%":p}),v.l85=="ru"?"<br/>":" ",a("wheel_progress")+a(": "),n+" / "+p," ",I.a105())):"",t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-4 col-xs-12 wheel-left-column"}).append(t("<div>",{class:"wheel-outer"}).append(t("<div>",{class:"wheel-inner"}).append(t("<canvas>",{id:"canvas",class:"wheel-canvas"}).prop("width",217*this.P62).prop("height",217*this.P62).on("click",()=>this.s136())))),t("<div>",{class:"col-md-8 col-xs-12 wheel-right-column"}).append(t("<div>",{id:"wheel_bonuses",class:"wheel-bonuses"})))),document.getElementById("canvas").getContext("2d").setTransform(this.P62,0,0,this.P62,0,0),this.c159()}t("#wheel_attempts").html(s),s>0?t(".menu_events_new").html('<i class="fa fa-circle new-quest-icon"></i>'):(t(".menu_events_new").empty(),this.w65=!0),v.u142();let l=this.r173(r);l.length>0&&(t("#wheel_bonuses").empty().append(l,"<br/>",t("<div>",{id:"refreshes_in_wheel_bonuses_wrapper"}).append(a("quests_reset_time"),a(": "),t("<span>",{id:"refreshes_in_wheel_bonuses"})),"<br/>"),lt.i85("refreshes_in_wheel_bonuses",lt.E71,null,()=>{this.re()})),x.r226()}static l68(e){this.l69(i.W68,()=>{this.l69(i.W69,()=>{this.l69(i.W70,()=>{this.l69(i.W71,()=>{this.l69(i.W72,()=>{this.l69(i.W73,()=>{this.l69(i.W74,()=>{this.l69(i.W75,()=>{e()})})})})})})})})}static l69(e,s){this.i96[e]=new Image,this.i96[e].onload=()=>s();let n=i.W81[e];this.i96[e].src="/img/candies/"+this.c158+"/"+n+".svg"}static r173(e){let s=[],n=this.g167(),r=Object.keys(n);for(let l=0;l<r.length;l++){let p=r[l];if(e[p]){let o=n[p],c=i.W81[p];if(s.push(t("<h3>",{class:"wheel-bonuses-title"}).append(m.e89(c,"huge","icon-left"),a("candy_"+c)),t("<p>").append(t("<strong>").append(a("gem_location")+a(": ")),o.location," ",o.helpLink?t("<a>",{class:"gray","href-local":"help/events"}).append('<i class="fa fa-question-circle-o"></i>'):""),o.gameStyle?t("<p>").append(t("<strong>").append(a("gem_game_style")+a(": ")),o.gameStyle):"",o.bonus?t("<p>").append(t("<strong>").append(a("wheel_bonus")+a(": ")),o.bonus):""),this.t76&&this.l67===null){let f=360/Object.keys(n).length;this.t76.rotationAngle=360-(l*f+f/2),this.t76.draw()}}}return s}static c159(){let e=this.g167(),s=[];for(let n in e)s.push({fillStyle:e[n].color,text:n});this.t76=new Winwheel({outerRadius:106,innerRadius:37,textFontSize:20,centerX:this.P62==1?null:217/this.P62,centerY:this.P62==1?null:217/this.P62,textOrientation:"vertical",textAlignment:"outer",numSegments:s.length,segments:s,rotationAngle:this.l67===null?0:360-this.l67,animation:{type:"spinToStop",duration:this.D66,spins:this.S66,callbackFinished:()=>this.f73(),callbackSound:()=>this.p80(),soundTrigger:"pin"},pins:{number:s.length,fillStyle:"#fff",outerRadius:4}}),this.w65=!1,this.a91=new Audio("/img/events/wheel/tick.mp3")}static p80(){this.a91.pause(),this.a91.currentTime=0,this.a91.play()}static s136(){this.w65||(this.w65=!0,y.m109("WheelController.spinWheelWsAction",[],(e,s)=>{this.n70=e,this.q64=s;let n=this.g167(),r=Object.keys(n);for(let l=0;l<r.length;l++)if(r[l]==e){this.s137(l);break}}))}static s137(e){this.l67!==null&&(this.t76.rotationAngle=this.l67,this.t76.draw(),this.t76.animation.spins=this.S66,this.a91=new Audio("/img/events/wheel/tick.mp3"));let s=this.g167(),n=360/Object.keys(s).length;this.l67=e*n+1+Math.floor(Math.random()*(n-2)),this.t76.animation.stopAngle=this.l67,this.t76.startAnimation()}static f73(){this.w65=!1,this.u115(!1),vi.n70=this.n70,vi.q64=this.q64,vi.s143()}static g167(){let e={},s=this.c158=="shard-wheel"?32:28;return e[i.W68]={color:"#fda",size:s,location:a("gem_location_full_1"),gameStyle:a("gem_game_style_1"),bonus:null,helpLink:!1},e[i.W69]={color:"#fcd",size:s,location:a("gem_location_full_2"),gameStyle:a("gem_game_style_2_3"),bonus:null,helpLink:!1},e[i.W70]={color:"#f9e9ff",size:s,location:a("gem_location_full_4"),gameStyle:a("ranking_column_ws"),bonus:null,helpLink:!1},e[i.W71]={color:"#ddd",size:s,location:a("gem_location_full_5"),gameStyle:a("gem_game_style_5"),bonus:null,helpLink:!1},e[i.W72]={color:"#bff",size:s,location:a("gem_location_full_6"),gameStyle:null,bonus:null,helpLink:!1},e[i.W73]={color:"#9fd",size:s,location:a("gem_location_all"),gameStyle:a("ranking_column_wins"),bonus:null,helpLink:!1},e[i.W74]={color:"#fdd",size:s,location:a("wheel_fortune_quests"),gameStyle:null,bonus:null},e[i.W75]={color:"#cfc",size:s,location:a("arena_title"),gameStyle:null,bonus:null},e}};var tt=class{static $="ConfirmDialog";static t81="";static c136=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog sure-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-body sure-modal-body"}).append(t("<div>",{class:"text-center"}).append(this.t81)),t("<div>",{class:"modal-footer"}).append(t("<div>",{class:"text-center"}).append(this.c136?t("<button>",{id:this.$+"_cancel_btn",type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("are_you_sure_cancel_btn")):"","&nbsp;&nbsp;",t("<button>",{id:this.$+"_ok_btn",type:"button",class:"btn btn-primary sure-ok-btn"}).on("click",()=>this.o62()).html(a("are_you_sure_ok_btn")))))))}static o62(){this.c136&&this.c136(),t("#"+this.$).modal("hide")}};var Be=class{static $="SearchBlock";static s108="";static r145=null;static re(){let e={items:"all",source:(s,n)=>{this.s108=s,setTimeout(()=>{this.s108==s&&y.m109("SearchController.searchWsAction",[s.trim()],r=>{n(r)})},200)},displayText:s=>typeof s=="object"?'<img src="'+u.f62(s.country)+'" class="player-flag"/>'+(s.username?s.username.replace(/[&<>]/g,n=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[n]||n):a("anonymous")+s.id):s,updater:s=>s.username?s.username.replace(/[&<>]/g,n=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[n]||n):s.id,highlighter:s=>s,matcher:s=>!0,sorter:s=>s};t("#"+this.$).html("").append(t("<div>",{id:this.$+"_error_message",class:"alert alert-danger hide"}),t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("search_select_player")+a(":"))),t("<div>",{class:"col-xs-5"}).append(t("<input>",{id:"user_autocomplete",class:"form-control",autocomplete:"off"}).typeahead(e))),t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-5 control-label"}),t("<div>",{class:"col-xs-5"}).append("<br/>",t("<button>",{class:"btn btn-primary"}).on("click",()=>this.p63()).html('<i class="fa fa-chevron-circle-right"></i> '+a("search_continue_button"))))))}static p63(){t("#"+this.$+"_error_message").addClass("hide");let e=t("#user_autocomplete").val();e&&y.m109("SearchController.searchFinalWsAction",[e.trim()],this.s109.bind(this))}static s109(e,s){e?s?this.r145(e):(t("#"+this.$+"_error_message").empty().append(a("search_player_not_active")," ",i.G133.indexOf(u.u61.id)!=-1?t("<a>",{"href-local":"player/"+e}).append("#"+e):"").removeClass("hide"),x.r226()):t("#"+this.$+"_error_message").html(a("search_player_not_found")).removeClass("hide")}};var yi=class{static $="SendQuestDialog";static f77=null;static f78=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("send_quest_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{id:"send_quest_content"})),t("<div>",{class:"modal-footer"}).append(t("<button>",{id:"send_quest_btn",type:"button",class:"btn btn-primary hide","data-loading-text":a("loading")+"..."}).on("click",()=>this.s107()).html('<i class="fa fa-send"></i> '+a("quests_send_button")),"&nbsp;",t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),this.u81()}static u81(){t("#send_quest_content").empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("FriendQuestsController.getSendQuestDataWsAction",[this.f78],this.c176.bind(this))}static c176(e,s,n,r){if(this.f78==-1||e&&!s&&e.allowFriendQuests)t("#send_quest_content").empty().append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-3 control-label"}).append(t("<strong>").html(a("ranking_column_player")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.f78==-1?t("<span>").append(t("<img>",{src:u.f62("XX"),class:"player-flag"}),a("send_quest_random_player")):b.m106(e.id,e,"right",null,"_blank"))),t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-3 control-label"}).append(t("<strong>").html(a("quests_quest")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(nt.g116(this.f77)+" ",nt.g117(this.f77,!1))),this.f78==-1&&r&&a("send_quest_incognito_warning")?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-3 control-label"}),t("<div>",{class:"col-xs-8 form-text text-info"}).append('<i class="fa fa-info-circle"></i> ',a("send_quest_incognito_warning"))):"")),t("#send_quest_btn").removeClass("hide");else{let l=t("<div>");for(let p=0;p<n.length;p++)l.append(t("<a>",{href:"javascript:void(0)",class:"text-nowrap-inline"}).on("click",()=>this.s153(n[p].userId)).append(t("<img>",{src:u.f62(n[p].country),class:"player-flag",alt:n[p].country}),t("<span>").text(b.g225(n[p].userId,n[p].username))),"&nbsp;&nbsp;&nbsp;");t("#send_quest_content").empty().append(s?t("<div>",{id:this.$+"_error_message",class:"alert alert-danger"}).append(a("send_quest_quest_list_full")):"",e&&!e.allowFriendQuests?t("<div>",{id:this.$+"_error_message",class:"alert alert-danger"}).append(a("search_player_not_active")):"",t("<div>",{class:"text-center"}).append(t("<div>",{class:"send-quest-option"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s151()).append('<img src="/img/events/friend/dice.svg" class="icon-friend-dice"/>',a("send_quest_select_random"))," ",t("<span>",{title:a("send_quest_random_chance_message"),class:"help mediumgray"}).append('<i class="fa fa-question-circle-o">').tooltip({html:!0,trigger:"hover"})),t("<div>",{class:"send-quest-option"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s152()).append('<img src="/img/events/friend/user.svg" class="icon-friend-user"/>',a("send_quest_select_by_id"))),n.length>0?t("<div>",{class:"send-quest-option"}).append(a("chat_contacts_favorite")):"",n.length>0?t("<div>",{class:"send-quest-option"}).append(l):"")),t("#send_quest_btn").addClass("hide")}x.r226()}static s151(){this.f78=-1,this.u81()}static s152(){t("#send_quest_content").empty().append(t("<div>",{id:Be.$})),Be.r145=e=>{this.f78=e,this.u81()},Be.re()}static s153(e){this.f78=e,this.u81()}static s107(){t("#send_quest_btn").button("loading"),y.m109("FriendQuestsController.sendQuestWsAction",[this.f77.id,this.f78],this.s154.bind(this))}static s154(e){t("#"+this.$).modal("hide"),nt.re()}};var ve=class{static u114(e,s){if(s.totalPages<=1){e.addClass("hide");return}else e.removeClass("hide");let n;t(window).width()>=700?(s.visiblePages=s.totalPages<=10?10:7,n=!0):t(window).width()>=550?(s.visiblePages=5,n=!0):(s.visiblePages=5,n=!1),s.first=n?"&lt;&lt;":"",s.last=n&&!s.noLastButton?"&gt;&gt;":"",s.prev="&lt;",s.next="&gt;",s.initiateStartPageClick=!1,e.empty().removeData("twbs-pagination").off("page").twbsPagination(s)}};var dt=class{static n80(e){return v.l85=="de"?e.charAt(0).toUpperCase()+e.slice(1):["ja","cn","tw","ko"].indexOf(v.l85)!=-1?e:e.charAt(0).toLowerCase()+e.slice(1)}static h78(){t(".external-link").each((e,s)=>{s=t(s),s.removeClass("chat-link");let n=s.prop("href");if(n.indexOf("/screen/")==-1){for(let r in i.A123){let l="https://"+J.g287(V.e97)+"/"+r+"/";if(n.indexOf(l)==0){s.attr("href-local",n.substring(l.length));break}}if(!s.attr("href-local")){let r="https://"+J.g287(V.e97)+"/";n.indexOf(r)==0&&s.attr("href-local",n.substring(r.length))}}})}};var rs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("activity_points")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(b.g227(e.activityTotal),m.a101("icon-small icon-right")))}static g160(){return N.g160()}};var ls=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("arena_coins")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){let n={};if(e.extraStat)for(let r=i.A105;r<=i.A117;r++)e.extraStat["arc"+(r-i.A104)]&&(n[r]=e.extraStat["arc"+(r-i.A104)]);return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(q.m97(n,"left",!0)))}static g160(){return N.g160()}};var ps=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=!W.g91()&&!W.g92(),s=[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:W.g91()==0&&W.g92()==0?a("ranking_best_results"):a("ranking_best_result")}];return e&&s.push({title:a("arena_points")},{title:a("ranking_column_score")}),s}static g74(){return"100%"}static g80(e,s){let n=!W.g91()&&!W.g92(),r=[],l=0;if(e.bestArenas)for(let p=0;p<e.bestArenas.length;p++){let o=e.bestArenas[p],c=Math.floor((o.type-i.A66)/10),f=(o.type-i.A66)%10;o.mode===i.A101&&l++,r.push(t("<span>").append(K.m93({userId:o.userId,username:e.username,country:e.country,finishedAt:o.finishedAt,type:o.type,mode:o.mode,duration:o.duration,penaltyTotal:o.penaltyTotal}).append(t("<a>",{"href-local":"arena/"+o.id,class:"ticket"+c}).append('<i class="fa fa-ticket ticket"></i>L'+f,o.mode==i.A101?"E":"")),"&nbsp;&nbsp;"))}else{let p=Math.floor((e.type-i.A66)/10),o=(e.type-i.A66)%10;r.push(t("<span>").append(K.m93({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finishedAt,type:e.type,mode:e.mode,duration:e.duration,penaltyTotal:e.penaltyTotal}).append(t("<a>",{"href-local":"arena/"+e.id,class:"ticket"+p}).append('<i class="fa fa-ticket ticket"></i>L'+o,e.mode==i.A101?"E":"")),"&nbsp;&nbsp;",e.penaltyTotal?t("<span>").append(K.g200(e.duration-e.penaltyTotal,null)," +",K.g200(e.penaltyTotal,null)):t("<span>").append(K.g200(e.duration,null))))}return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(r),n?t("<td>").append(e.points==80&&l==10?t("<span>",{class:"custom-popover"}).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("ranking_column_average_time")+a(": "),K.g200(e.duration/10*this.g161(l),null))}).append(e.points+(l==10?"E":""),m.a103("icon-small icon-right")):t("<span>").append(e.points,m.a103("icon-small icon-right"))):"",n?t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.arenaScore,m.s176(e.season,"icon-small icon-right"))):"")}static g161(e){return 1.2*(10/(30-2*e))}static g160(){return N.g160()}};var Ri=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_coins_earned")},W.g90()=="coinsSeason"?{title:a("ranking_column_score")}:null]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){let n=W.g90()=="coinsSeason"?e.coinsSeason:e.coinsAll;return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(b.g227(n),n>0?m.c199("icon-small icon-right"):""),W.g90()=="coinsSeason"?t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.coinsSeasonScore,m.s176(e.season,"icon-small icon-right"))):"")}static g160(){return N.g160()}};var os=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_column_diff")},{title:a("ranking_column_size")},{title:t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV")},{title:a("ranking_column_score")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(m.d76(1/0)," ",e.diffId?t("<a>",{"href-local":"game/"+e.diffId}).append(b.g227(e.diff)):""),t("<td>").append(e.diffId?e.diffSizeX+"x"+e.diffSizeY+"/"+e.diffMines:""),t("<td>").append(e.diffId?e.diffBbbv:""),t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.diffScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var cs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{class:"stat-best-game-column",title:a("game_eff")},{class:"stat-level-full-column",title:a("ranking_column_level")},{class:"hidden-xs",title:a("ranking_column_date")},{title:a("ranking_column_score")}]}static g74(){return"100%"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(t("<a>",{"href-local":"game/"+e.effId,class:"level"+e.effLevel+"-link"}).append(m.e87("icon-small level"+e.effLevel),e.effEff+"%"),e.effMobile?'<span class="glyphicon glyphicon-phone icon-mobile gray icon-right"></span> ':""),t("<td>").append(a("level_"+e.effLevel)),t("<td>",{class:"hidden-xs"}).html(F.g203(e.effFinishedAt,!1,!0)),t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.effScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var ds=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=W.g94(),s=[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_column_time")},{title:a("ranking_column_wins")}];return e=="endBestPoints"&&s.push({title:a("ranking_column_score")}),s}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){let n=t("<td>"),r=t("<td>"),l=t("<td>");if(W.g94()=="endBestPoints")e["end"+e.endLevel+"Id"]&&(n.append(t("<a>",{"href-local":"endurance/"+e["end"+e.endLevel+"Id"],class:"black-link"}).append(m.e86("icon-small end"+e.endLevel),q.g211(e["end"+e.endLevel],!0))),r.append(i.U73+'<span class="endurance-x">x</span>'+a("level_"+e.endLevel)),l.append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.endScore,m.s176(e.season,"icon-small icon-right"))));else{l=null;let o=W.g84();e["end"+o+"Id"]&&(n.append(t("<a>",{"href-local":"endurance/"+e["end"+o+"Id"],class:"black-link"}).append(m.e86("icon-small end"+o),q.g211(e["end"+o],!0))),r.append(i.U73+'<span class="endurance-x">x</span>'+a("level_"+o)))}return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),n,r,l)}static g160(){return N.g160()}};var ms=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_column_exp")}];return W.i76()&&e.push({title:a("ranking_column_seasons")}),e.push({title:a("ranking_column_score")}),e}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(b.g227(e.exp),e.exp>0?m.e85("icon-small icon-right"):""),W.i76()?t("<td>").append(e.seasons):"",t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.expScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var hs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_gems_found")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){let n={};if(e.extraStat)for(let r=i.G117;r<=i.G128;r++)e.extraStat["g"+r]&&(n[r]=e.extraStat["g"+r]);return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(q.m96(n,"left",!0)))}static g160(){return N.g160()}};var fs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=W.g94(),s=[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:t("<abbr>",{title:a("mastery_description")}).tooltip({trigger:"hover"}).html(a("ranking_column_mastery"))},{title:a("ranking_column_level")},e!="masteryNHPoints"?{title:a("game_hints")}:"",{title:a("ranking_column_average_time")}];return e=="masteryBestPoints"&&s.push({title:a("ranking_column_score")}),s}static g74(){return"100%"}static g80(e,s){let n=t("<td>"),r=t("<td>"),l=t("<td>"),p=t("<td>"),o=t("<td>"),c=W.g94();if(c=="masteryBestPoints")e["mastery"+e.masteryLevel+"Id"]?(n.append(t("<a>",{"href-local":"mastery/"+e["mastery"+e.masteryLevel+"Id"],class:"black-link"}).append(m.m103("icon-small mastery"+e.masteryLevel),e["mastery"+e.masteryLevel])),r.append(a("level_"+e.masteryLevel)),l.append(Math.floor(e["mastery"+e.masteryLevel+"HintsTime"]/i.S80)),p.append(t("<a>",{"href-local":"mastery/"+e["mastery"+e.masteryLevel+"Id"],class:"black-link"}).append(m.l84("level"+e.masteryLevel),e["mastery"+e.masteryLevel+"HintsTime"]%i.S80/1e3)),o.append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.masteryScore,m.s176(e.season,"icon-small icon-right")))):n.append(0);else if(c=="masteryNHPoints")o=null,l=null,n.append(t("<a>",{"href-local":"mastery-nh/"+e.masteryNHId,class:"black-link"}).append(m.m103("icon-small mastery"+e.masteryNHLevel),e.masteryNH)),r.append(a("level_"+e.masteryNHLevel)),p.append(t("<a>",{"href-local":"mastery-nh/"+e.masteryNHId,class:"black-link"}).append(m.l84("level"+e.masteryNHLevel),e.masteryNHTime/1e3));else{o=null;let f=W.g84();e["mastery"+f+"Id"]?(n.append(t("<a>",{"href-local":"mastery/"+e["mastery"+f+"Id"],class:"black-link"}).append(m.m103("icon-small mastery"+f),e["mastery"+f])),r.append(a("level_"+f)),l.append(Math.floor(e["mastery"+f+"HintsTime"]/i.S80)),p.append(t("<a>",{"href-local":"mastery/"+e["mastery"+f+"Id"],class:"black-link"}).append(m.l84("level"+f),e["mastery"+f+"HintsTime"]%i.S80/1e3))):n.append(0)}return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),n,r,l,p,o)}static g160(){return N.g160()}};var us=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("profile_equipment")},{class:"stat-quality-column",title:a("equipment_quality")},{title:a("ranking_column_score")}]}static g74(){return t(window).width()<600?"100%":"600px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap narrow-td"}).append(D.r210(e,!1,!1,!1)),t("<td>",{class:"text-nowrap"}).append(D.r209(e.eq,null,!1,"top",null)),t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.qualityScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var gs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("quests_title")},{title:a("ranking_total_level")}]}static g74(){return t(window).width()<600?"100%":"600px"}static g80(e,s){let n=(e.extraStat.qd?e.extraStat.qd:0)+(e.extraStat.qs?e.extraStat.qs:0)+(e.extraStat.qe?e.extraStat.qe:0),r=t("<span>",{class:"help dotted-underline"}).append(b.g227(n)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("quests_daily_quests")+a(": "),b.g227(e.extraStat.qd?e.extraStat.qd:0),"<br/>",a("quests_season_quests")+a(": "),b.g227(e.extraStat.qs?e.extraStat.qs:0),"<br/>",a("quests_event_quests")+a(": "),b.g227(e.extraStat.qe?e.extraStat.qe:0))});return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(r),t("<td>").append("L "+b.g227(e.questScoreAll)))}static g160(){return N.g160()}};var _s=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-fixed-column",title:a("ranking_column_player")},{title:t("<span>").append(a("ranking_column_rewards")+" ",t("<a>",{"href-local":"help/achievements",title:a("rewards_list_title")}).append('<i class="fa fa-question-circle-o"></i>'))},{title:a("ranking_column_score")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(e.rewards?b.g226(e.rewards,"",e.season):""),t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.rewardsScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var At=class{static l62(e,s){return!s||i.G133.indexOf(u.u61.id)==-1||u.u61.id==s?"":(y.m109("AdminController.getAdminUserInfoWsAction",[s],this.r63.bind(this)),t("<div>").append(t("<h2>").append(e,t("<span>",{id:"admin_user"}).append(' <img src="/img/loading_small.gif" class="loading-small"/>')),'<hr class="shop-hr"/>'))}static r63(e){t("#admin_user").empty().append("&nbsp;&nbsp;",t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country),alt:e.country}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+e.id}).append(t("<span>").text(b.g225(e.id,e.username)))),x.r226()}};var Mt=class{static $="RankingFilterBlock";static i80=!1;static i81=!1;static i82=!1;static re(){let e=z.g111(),s=S.s130==i.S89,n=S.s130==i.S89&&(e==i.G70||e==i.G75);t("#is_all_games_wrapper").empty().append(s?t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"is_all_games",type:"checkbox"}).prop("checked",this.g103()).on("change",()=>this.c116()),t("<span>").append(a("ranking_all_games")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"):"",s&&this.g103()?t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"is_no_replays",type:"checkbox"}).prop("checked",this.g104()).on("change",()=>this.c117()),t("<span>").append(a("ranking_no_replays")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"):""),t("#"+this.$).empty().append(n?t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"is_all_sizes",type:"checkbox"}).prop("checked",this.g105()).on("change",()=>this.c118()),t("<span>").append(a("ranking_all_sizes"))):"",this.g103()?"":t("<label>",{class:"checkbox-fixed"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<input>",{id:"nf_only",type:"checkbox"}).prop("checked",this.g93()).on("change",()=>this.c102()),t("<span>").append(a("ranking_nf_only"))),this.g103()?"":t("<span>",{class:"dropdown"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_sort_by")+a(": "),a("ranking_sort_by_"+this.g90()),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("duration")).html(a("ranking_sort_by_duration"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("bbbvs")).html(a("ranking_sort_by_bbbvs"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("eff")).html(a("ranking_sort_by_eff"))),S.s130==i.S89?t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("finishedAt")).html(a("ranking_sort_by_finishedAt"))):""))),this.g105()&&t("#"+pt.$+"_content").addClass("hide")}static c102(){this.s95(t("#nf_only").prop("checked")),S.re()}static c116(){this.i80=t("#is_all_games").prop("checked"),S.re()}static c117(){this.i81=t("#is_no_replays").prop("checked"),S.re()}static c118(){this.i82=t("#is_all_sizes").prop("checked"),this.i82?t("#"+pt.$+"_content").addClass("hide"):t("#"+pt.$+"_content").removeClass("hide"),S.re()}static c98(e){this.s92(e),S.re()}static s95(e){U.s142("nfOnly",+e)}static s92(e){U.s142("sortBy",e)}static g93(){return U.g172("nfOnly")==1?1:0}static g103(){return this.i80&&S.s130==i.S89}static g104(){return this.i81&&S.s130==i.S89}static g105(){let e=z.g111();return this.i82&&S.s130==i.S89&&(e==i.G70||e==i.G75)}static g90(){let e=U.g172("sortBy","duration");return["duration","bbbvs","eff","finishedAt"].indexOf(e)==-1||S.s130!=i.S89&&e=="finishedAt"?"duration":e}};var bs=class{static C72=159e6;static E73=.15;static g248(e,s,n){let l={excessClicksDefined:e&&e.length>0&&s.id>this.C72,activeLeft:0,activeRight:0,activeChords:0,excessLeft:0,excessRight:0,excessChords:0,activeTotal:0,excessTotal:0},p={},o,c,f;for(let h=0;h<e.length;h++){let g=e[h];if(g.type==0?l.activeLeft++:g.type==1?l.activeRight++:l.activeChords++,l.excessClicksDefined)if(g.type==1){if(g.touchCells.length==0){l.excessRight++;continue}for(let w=0;w<g.touchCells.length/5;w++)o=g.touchCells[w*5],c=g.touchCells[w*5+1],n.t[o*s.sizeY+c]==10?p[o*s.sizeY+c]?l.excessRight++:p[o*s.sizeY+c]=1:l.excessRight++}else{for(let w=0;w<g.touchCells.length/5;w++)o=g.touchCells[w*5],c=g.touchCells[w*5+1],f=g.touchCells[w*5+3],f&&p[o*s.sizeY+c]&&l.excessRight++;g.type==0&&g.touchCells.length==0&&l.excessLeft++,g.type==2&&l.excessChords++}}return l.activeLeft-=l.excessLeft,l.activeRight-=l.excessRight,l.activeChords-=l.excessChords,l.activeTotal=l.activeLeft+l.activeRight+l.activeChords,l.excessTotal=l.excessLeft+l.excessRight+l.excessChords,l}};var He=class{static $="TradeBuyingDialog";static t75=null;static e79=null;static u77=null;static S69=1e3;static s143(){y.m109("MarketController.getTradeInfoWsAction",[this.t75,!1],(e,s)=>{!e||e.state!=i.T98||e.itemPrice!=this.e79||(this.trade=e,this.u77=s,this.re(),t("#"+this.$).modal("show"))})}static re(){let e=this.trade.amount>1&&this.trade.itemPrice*this.trade.amount<=this.u77;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(a("market_trade")+" ",t("<a>",{"href-local":"trade/"+this.t75}).append("#"+this.t75))),t("<div>",{class:"modal-body"}).append(t("<div>",{id:"buy_success",class:"hide alert alert-success text-center"}).append('<i class="fa fa-check-circle-o"></i> '+a("market_payment_success")),t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(it.r123(this.trade.itemType,this.trade.amount,!1,"top"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html((this.trade.amount>1?a("market_price_for_one"):a("market_price"))+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(b.g227(this.trade.itemPrice),m.c199("icon-right"))),this.trade.amount>1?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_quantity")+a(":"))),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"trade_buying_amount",type:"number",class:"form-control buying-amount",min:1,max:this.trade.amount,autocomplete:"off"}).css("display","inline-block").on("input",()=>this.u117()).val(1),"&nbsp;&nbsp;",e?t("<a>",{href:"javascript:void(0)"}).on("click",()=>{t("#trade_buying_amount").val(this.trade.amount),this.u117()}).append('<i class="glyphicon glyphicon-arrow-up"></i>'):"")):"",this.trade.amount>1?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_total")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(t("<span>",{class:"buying_total_price"}),m.c199("icon-right"))):"")),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"buy_trade_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b78()).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),this.u117(),t("#"+this.$).on("shown.bs.modal",()=>{t("#trade_buying_amount").focus()}),x.r226()}static u117(){let e=parseInt(t("#trade_buying_amount").val());isNaN(e)&&(e=1),e*this.trade.itemPrice<=this.u77?(t(".buying_total_price").html(b.g227(e*this.trade.itemPrice)),t("#buy_trade_btn").prop("disabled",!1)):(t(".buying_total_price").html("").append(t("<strong>",{class:"text-danger"}).append(b.g227(e*this.trade.itemPrice))),t("#buy_trade_btn").prop("disabled",!0))}static b78(){let e;if(this.trade.amount==1)e=1;else if(e=parseInt(t("#trade_buying_amount").val()),isNaN(e)||e<=0||e>this.trade.amount){t("#trade_buying_amount").addClass("has-error");return}else t("#trade_buying_amount").removeClass("has-error");t("#buy_trade_btn").button("loading"),y.m109("MarketController.buyTradeWsAction",[this.trade.id,e,this.trade.itemPrice],this.b92.bind(this))}static b92(){t("#buy_success").removeClass("hide"),t("#"+S.$).is(":visible")?S.re():t("#"+Se.$).is(":visible")&&Se.re(),setTimeout(()=>{t("#"+this.$).modal("hide")},this.S69)}};var Se=class{static $="TradeDetailBlock";static t75=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),t("#"+He.$).modal("hide"),jt.i95(this.t75,i.V67),y.m109("MarketController.getTradeInfoWsAction",[this.t75,!0],this.r61.bind(this))}static r61(e,s){if(!e){x.e94("404");return}if(H.u74({title:a("market_trade")+" #"+e.id}),!u.u61.eliteAt&&e.itemType>=i.T86&&e.itemType<=i.T95){t("#"+this.$).html("").append(t("<h2>").append(a("market_trade")+" #"+e.id),'<hr class="shop-hr"/>',t("<div>",{class:"alert alert-danger"}).append(a("exchange_access_denied")));return}t("#"+this.$).html("").append(t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("market_trade")+" #"+e.id),e.state==i.T98?t("<div>",{class:"pull-right"}).append(b.g227(s),m.c199("icon-right")):"",t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("<strong>"+a("market_date")+a(":")+"</strong>"),t("<div>",{class:"col-xs-8 form-text"}).append(F.g202(e.createdAt))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("<strong>"+a("market_seller")+a(":")+"</strong>"),t("<div>",{class:"col-xs-8 form-text"}).append(b.m106(e.userId,e,"right"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("<strong>"+a("market_item")+a(":")+"</strong>"),t("<div>",{class:"col-xs-8 form-text"}).append(it.r123(e.itemType,e.amount,!1,"top"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("<strong>"+(e.amount>1?a("market_price_for_one"):a("market_price"))+a(":")+"</strong>"),t("<div>",{class:"col-xs-8 form-text"}).append(b.g227(e.itemPrice),m.c199("icon-right icon-small"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("<strong>"+a("market_trade_state")+a(":")+"</strong>"),t("<div>",{class:"col-xs-8 form-text"}).append(t("<strong>",{class:this.g166(e.state)}).append(a("market_trade_state_"+e.state)),e.state==i.T101&&e.boughtAt?"&nbsp;&nbsp;&nbsp;("+F.g202(e.boughtAt)+")":"")),e.state==i.T98&&e.sellerId!=u.u61.id?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(),t("<div>",{class:"col-xs-8 form-text"}).append(t("<button>",{class:"btn btn-primary",disabled:s<e.itemPrice}).on("click",()=>it.b78(e.id,s,e.itemPrice)).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))):"")),x.r226()}static m76(e){return t("<a>",{"href-local":"trade/"+e.id,class:"text-nowrap"}).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<div>",{class:"bold"}).css("max-width","180px").append(it.r123(e.itemType,e.amount,!1,"top")),'<hr class="narrow-hr"/>',(e.amount>1?a("market_price_for_one"):a("market_price"))+a(": "),b.g227(e.itemPrice),m.c199("icon-right icon-small"),"<br/>",a("market_trade_state")+a(": "),t("<strong>",{class:this.g166(e.state)}).append(a("market_trade_state_"+e.state)),"<br/>")})}static g166(e){return e==i.T98?"text-success":e==i.T101?"text-danger":"darkgray"}};var wi=class{static $="AchievementsHelpBlock";static re(e){this.g108()&&(t(".help-menu").hide(),e="",Y.s98(this.g108())),t("#"+this.$).empty().append(e,t("<div>",{id:"help_rewards"})),this.r114()}static g108(){return location.hash&&location.hash[1]=="s"?parseInt(location.hash.substring(2))+i.F84-1:null}static r114(){Y.e71=!this.g108();let e=Y.g106();t("#help_rewards").empty().append(t("<div>").append(t("<div>",{class:"pull-right"}).append(t("<span>",{id:Y.$})),t("<div>",{class:"clearfix"})),t("<table>",{class:"table table-bordered help-table"}).append(t("<thead>").append(t("<tr>").append(t("<th>",{class:"reward-column"}).html(a("rewards_column_reward")),t("<th>").html(a("rewards_column_requirements")),t("<th>").html(a("rewards_column_my_progress")),e?"":t("<th>").html(a("rewards_column_awarded")))),t("<tbody>",{id:"rewards_table"}).append(t("<tr>").append(t("<td>",{colspan:e?3:4}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'))))),Y.re(),y.m109("RewardListController.getRewardListWsAction",[e],this.r61.bind(this))}static r61(e){let s=Y.g106(),n=t("#rewards_table").html("");for(let r=0;r<e.length;r++){let l=e[r],p="reward_"+l.type+"_description";l.type==i.R83&&s>i.U65&&(p="reward_"+l.type+"_description_season"),n.append(t("<tr>").append(t("<td>").append(t("<img>",{src:"/img/rewards/"+i.R107[l.type],class:"reward reward-big reward"+l.type,alt:a("reward_"+l.type+"_name")}),"&nbsp;&nbsp;",a("reward_"+l.type+"_name")),t("<td>").append(a(p,{NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'})),t("<td>").append(l.done?t("<span>",{class:"glyphicon glyphicon-ok reward-success"}):l.progress!==null&&l.needed!=1&&l.type!=i.R94?l.progress+" / "+l.needed:l.done?"":"\u2014"),s?"":t("<td>").append(l.awarded!==null?t("<a>",{"href-local":"reward/"+l.type}).append(l.awarded):"\u2014")))}t('[data-toggle="tooltip"]').tooltip(),x.r226()}};var vs=class{static $="ArenaHelpBlock";static t61=1;static l65=1;static m69=0;static re(e){t("#"+this.$).empty().append(e),this.r115(),this.r116()}static r115(){let e=i.A66+this.t61*10+this.l65,s=ut.g167(e,this.m69,null),n=[];for(let l=1;l<=10;l++)n.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c96(l)).append('<i class="fa fa-ticket ticket ticket'+l+'"></i> ',a("arena_type_"+l))));let r=[];for(let l=1;l<=8;l++)r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(l)).append("L"+l+(this.m69==i.A101?"E":""))));t("#help_arena_types").empty().append(t("<table>",{class:"no-margin table table-bordered help-table"}).append(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_type")),t("<td>").append(t("<div>").append(t("<div>",{class:"dropdown pull-left"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(K.m92(e,null,"top",this.m69).append('<i class="fa fa-ticket ticket ticket'+this.t61+'"></i>')," "+a("arena_type_"+this.t61,{NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'})," ",t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(n)),t("<div>",{class:"pull-right gray help"}).append(t("<span>",{title:a("arena_drop_rate")}).tooltip({trigger:"hover"}).append(Math.round(i.T108[this.t61]*100)+"%")),t("<div>",{class:"clearfix"})))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_level")),t("<td>").append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append("L"+this.l65,this.m69==i.A101?"E":"",t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(r)))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_mode")),t("<td>").append(t("<div>").append(t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("arena_mode_"+this.m69)+" ",t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c120(0)).append(a("arena_mode_0"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c120(1)).append(a("arena_mode_1")))))))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_description")),t("<td>").append(K.g198(e,this.m69),s.wrMin?t("<div>",{class:"mediumgray"}).css("margin-top","5px").append(a("arena_winrate")+a(": ")+s.wrMin+"-"+s.wrMax+"%"):"")),this.m69==i.A101?t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("honor_points")),t("<td>").append("\u2013"+-1*s.reward[5],I.h77("icon-small icon-right"))):"",t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_base_reward")),t("<td>").append("+"+s.points,t("<span>",{class:"help",title:a("arena_points")}).tooltip({trigger:"hover"}).append(m.a103("icon-small icon-right")),"&nbsp;&nbsp;",Dt.r216(!0,e,this.m69,null))))),t('[data-toggle="tooltip"]').tooltip()}static c96(e){this.t61=e,this.r115()}static c97(e){this.l65=e,this.r115()}static c120(e){this.m69=e,this.r115()}static r116(){t("#help_arena_probs").empty().append(t("<table>",{class:"no-margin help-table"}).append(t("<tr>").append(t("<td>").append(t("<table>",{class:"table table-bordered width-auto no-margin help-table"}).append(t("<tr>").append(t("<td>").append('<b class="help-num1">1</b>'),t("<td>").append("0.005%")),t("<tr>").append(t("<td>").append('<b class="help-num2">2</b>'),t("<td>").append("0.002%")),t("<tr>").append(t("<td>").append('<b class="help-num3">3</b>'),t("<td>").append("0.002%")),t("<tr>").append(t("<td>").append('<b class="help-num4">4</b>'),t("<td>").append("0.003%")))),t("<td>").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t("<td>").append(t("<table>",{class:"table table-bordered width-auto no-margin help-table"}).append(t("<tr>").append(t("<td>").append('<b class="help-num5">5</b>'),t("<td>").append("0.01%")),t("<tr>").append(t("<td>").append('<b class="help-num6">6</b>'),t("<td>").append("0.05%")),t("<tr>").append(t("<td>").append('<b class="help-num7">7</b>'),t("<td>").append("0.5%")),t("<tr>").append(t("<td>").append('<b class="help-num8">8</b>'),t("<td>").append("100%")))))))}};var ys=class{static $="EfficiencyHelpBlock";static E65=[{arenaId:242017,userId:1537421,username:"trckui11",country:"IL",level:1},{arenaId:262820,userId:595202,username:"Baldi99",country:"IT",level:2},{arenaId:765604,userId:3553962,username:"chc",country:"JP",level:3},{arenaId:684876,userId:1783173,username:"PTY",country:"CN",level:4},{arenaId:658858,userId:3472556,username:"\uC878\uB9B0\uACF0",country:"KR",level:5},{arenaId:594230,userId:770798,username:"pauv",country:"CN",level:6},{arenaId:702792,userId:1783173,username:"PTY",country:"CN",level:7},{arenaId:719214,userId:2677763,username:"PTTACGfans",country:"TW",level:8}];static re(e){t("#"+this.$).empty().append(e,this.r117()),v.l85!="cn"&&t("#"+this.$).append("<br/>",a("help_see_also")+a(": "),t("<a>",{"href-local":"help/guides"}).append('<i class="fa fa-book icon-book"></i>',a("help_guides_title")))}static r117(){let e=t("<table>",{class:"table table-bordered no-margin width-auto help-table"}).append(t("<tr>").append(t("<th>").append(a("ranking_column_player")),t("<th>").append(a("arena_title"))));for(let s=this.E65.length-1;s>=0;s--){let n=this.E65[s];e.append(t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"player/"+n.userId}).append(t("<img>",{src:u.f62(n.country),class:"player-flag",alt:n.country}),t("<span>").text(n.username))),t("<td>").append(t("<a>",{"href-local":"arena/"+n.arenaId}).append(m.a103("icon-left"),a("arena_type_"+i.A86)," L"+n.level))))}return e}};var si=class{static $="UpgradeItemDialog";static i108=null;static p88=1;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=T.g268(this.i108),s=100;for(let h=0;h<5;h++){if(rt.e65===null||rt.e65[h]===void 0){s=0;break}let g=T.i143(rt.e65[h]);s=Math.min(s,g.perfectLevel)}this.c177();let n=T.g276(this.i108,this.p88),r=T.g278(rt.a79[this.i108.itemType],this.i108.quality,n);u.p61&&(r=Math.floor(r*i.P124));let l=rt.u65[i.H97]?rt.u65[i.H97]:0,p=this.i108.upgrade>=T.g272(this.i108.gem),o=!1;for(let h in n)if((rt.u65[h]?rt.u65[h]:0)<n[h]){o=!0;break}l<r&&(o=!0);let c=o,f=t("<div>",{class:"form-horizontal"});if(f.append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(it.r123(this.i108.itemType,1,!1,"top",!0)))),p)f.append(t("<div>",{class:"text-center bold modal-warning equipment-rarity-"+e}).append(a("equipment_fully_upgraded")));else{let h="";if(e==4&&s==0?(c=!0,h=t("<div>",{class:"text-center text-danger bold modal-warning"}).append(a("equipment_upgrade_all_perfect_required"))):e==5&&s<this.i108.perfectLevel-T.P164&&(c=!0,h=t("<div>",{class:"text-center text-danger bold modal-warning"}).append(a("equipment_upgrade_level_required",{"%level%":this.i108.perfectLevel-T.P164}))),e==4&&this.i108.gem==10)c=!0,f.append(t("<div>",{class:"text-center text-danger modal-warning"}).append(a("equipment_upgrade_not_available")));else if(e<=3){let g=Object.keys(n)[0],w=rt.u65[g]?rt.u65[g]:0;f.append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_materials")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<strong>",{class:"equipment-rarity-"+T.g275(g)}).append(n[g])," ",I.p97(g),r?t("<span>").append("&nbsp;&nbsp;",t("<strong>",{class:"text-warning"}).append(r),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right"))):"")),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_available")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<span>",{class:w<n[g]?"text-danger bold":"text-success bold"}).append(w)," ",I.p97(g),r?t("<span>").append("&nbsp;&nbsp;",t("<span>",{class:l<r?"text-danger bold":"text-success bold"}).append(l),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right"))):"")),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_upgrade_number")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.i108.upgrade+1+" / "+T.g272(this.i108.gem))),T.i147(this.i108.gem)&&this.i108.upgrade==0?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_select_property")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.c177())):"",t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_bonus")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.g180(this.p88,this.i108.type,this.i108.gem<10?" +4%":" +1%",!0),a("equipment_quality")+a(":")+" +1%")),o?t("<div>",{class:"text-center bold text-danger modal-warning"}).append(a("equipment_no_materials")):"")}else f.append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_select_property")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.c177())),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_materials")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(D.r212(n),r?t("<span>").append(" ",t("<strong>",{class:"text-warning"}).append(r),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right"))):"")),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_bonus")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(this.g180(this.p88,this.i108.type,this.p88<=10?" +20%":this.p88==15&&[0,1].indexOf(this.i108.type)!=-1?" +1":" +10%",!0),"L"+this.i108.perfectLevel+' <i class="fa fa-long-arrow-right"></i> L'+(this.i108.perfectLevel+Object.keys(n).length))),h,!h&&e==4&&!o?t("<div>",{class:"text-center text-danger modal-warning"}).append(a("equipment_personal_item_message")):"",!h&&o?t("<div>",{class:"text-center bold text-danger modal-warning"}).append(a("equipment_no_materials")):"")}t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("equipment_upgrade_title"))),t("<div>",{class:"modal-body"}).append(f),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),p?"":t("<button>",{id:"dis_btn",type:"button",class:"btn btn-success","data-loading-text":a("loading")+"..."}).prop("disabled",c).on("click",()=>this.u78()).html('<i class="glyphicon glyphicon-arrow-up"></i> '+a("equipment_upgrade_button")))))),x.r226()}static c177(){let e=T.g268(this.i108);if(e<=3&&this.i108.gem!=10)return this.p88=this.i108.gem,null;let s=t("<select>",{id:"upgrade_property",class:"settings-select form-control"}),n=e<=3?11:1,r=e<=3?14:15,l=[];for(let p=n;p<=r;p++)p!=10&&(e<=3&&this.i108.props[p-11]||e>3&&this.i108.gem!=p&&this.i108.gems.indexOf(p)==-1)&&(l.push(p),s.append(t("<option>",{value:p}).append(this.g179(p,this.i108.type))).on("change",()=>{this.p88=+t("#upgrade_property").val(),this.re()}));return l.indexOf(this.p88)==-1&&(this.p88=l[0]),s.val(this.p88),s}static g179(e,s){let n;return s==0?n=a("equipment_bonus_"+i.B77):s==1?n=a("equipment_bonus_"+i.B78)+" / "+a("equipment_bonus_"+i.B79):s==2?n=a("activity_points"):s==3?n=a("equipment_bonus_"+i.B82):s==4&&(n=a("equipment_bonus_"+i.B80)),[null,a("equipment_bonus_"+i.B84),a("equipment_bonus_"+i.B85),a("equipment_bonus_"+i.B86),a("equipment_bonus_"+i.B87),a("equipment_bonus_"+i.B88),a("equipment_bonus_"+i.B89),a("equipment_bonus_"+i.B90),a("equipment_bonus_"+i.B91),a("equipment_bonus_"+i.B92),null,a("equipment_bonus_"+i.B72),a("equipment_bonus_"+i.B73),a("equipment_bonus_"+i.B74),a("equipment_bonus_"+i.B75),n][e]}static g180(e,s,n,r){return s==1&&e==15?t("<div>").append(a("equipment_bonus_"+i.B78)+a(": ")+"+1<br/>",a("equipment_bonus_"+i.B79)+a(": ")+"+2<br/>",r?t("<div>",{class:"hull-bonus text-primary"}).append(a("equipment_hull_bonus")):""):t("<div>").append(this.g179(e,s)+a(": ")+n)}static u78(){t("#dis_btn").button("loading");let e=parseInt(t("#upgrade_property").val());y.m109("UpgradeController.upgradeItemWsAction",[this.i108.itemType,e],this.u122.bind(this))}static u122(){rt.re(),t("#"+this.$).modal("hide")}};var ws=class{static $="EquipmentHelpBlock";static t61=0;static p72=1;static re(e){if(t("#"+this.$).empty().append(e),t("#see_also").empty().append(a("help_see_also")+a(": ")),v.l85=="tw"?t("#see_also").append(t("<ul>").append(t("<li>").append(t("<a>",{href:"https://docs.google.com/document/d/1M289YGd2e4ujo3tYTJRedZoP3aY08b9Du-x12i9-LcU",target:"_blank"}).append('<img src="/img/other/document.svg" style="width: 15px;margin-bottom: 2px;margin-right: 3px;">\u88DD\u5099\u5F37\u5316\u6559\u5B78')),t("<li>").append(t("<a>",{href:"https://docs.google.com/document/d/1ECMYY2J2jL_udiWxhrWwx4ozT90KqYAbLCcpXB0U9_k",target:"_blank"}).append('<img src="/img/other/document.svg" style="width: 15px;margin-bottom: 2px;margin-right: 3px;">\u88DD\u5099\u5347\u7D1A\u6559\u5B78')))):t("#see_also").append(t("<ul>").append(t("<li>").append(t("<a>",{href:"https://docs.google.com/document/d/1E9a3ywbGyD0xELOK61LfC3SxEfkuQJsBhKBXsjwo79c",target:"_blank"}).append('<img src="/img/other/document.svg" style="width: 15px;margin-bottom: 2px;margin-right: 3px;">Equipment Boosting Guide')),t("<li>").append(t("<a>",{href:"https://docs.google.com/document/d/1cK-BR2a7IS4B6blQMVM2G6Of3VD-AIMGYOGPnZ4E3Pc",target:"_blank"}).append('<img src="/img/other/document.svg" style="width: 15px;margin-bottom: 2px;margin-right: 3px;">Equipment Upgrading Guide')))),this.r118(),this.r119(),this.r120(),this.r121(),this.r122(),location.hash){let s=location.hash.substring(1);this.a83(s)}}static r118(){t("#unique_stat_table").append(t("<table>",{class:"table table-bordered no-margin width-auto help-table"}).append(t("<tr>").append(t("<th>").append(a("equipment_item")),t("<th>").append(a("equipment_unique_property"))),t("<tr>").append(t("<td>").append(D.r204({type:0,quality:21,upgrade:0},"small")," "+a("equipment_item_0")),t("<td>").append(a("equipment_bonus_"+i.B77),": +1")),t("<tr>").append(t("<td>").append(D.r204({type:1,quality:21,upgrade:0},"small")," "+a("equipment_item_1")),t("<td>").append(a("equipment_bonus_"+i.B78),": +1")),t("<tr>").append(t("<td>").append(D.r204({type:2,quality:21,upgrade:0},"small")," "+a("equipment_item_2")),t("<td>").append(a("equipment_bonus_"+i.B81)," ("+a("equipment_up_to",{"%to%":"+20%"})+")")),t("<tr>").append(t("<td>").append(D.r204({type:3,quality:21,upgrade:0},"small")," "+a("equipment_item_3")),t("<td>").append(a("equipment_bonus_"+i.B82)," ("+a("equipment_up_to",{"%to%":"+20%"})+")")),t("<tr>").append(t("<td>").append(D.r204({type:4,quality:21,upgrade:0},"small")," "+a("equipment_item_4")),t("<td>").append(a("equipment_bonus_"+i.B80)," ("+a("equipment_up_to",{"%to%":"+20%"})+")"))))}static r119(){let e=[],s={10:10,20:20,40:30,70:30,100:1},n=20;for(let r=10;r<=100;r++){let l=T.g268({quality:r,upgrade:0}),p={},o={};r<=99&&T.P165[r][3][l]&&(T.P165[r][3][l][0]&&(p[17]=T.P165[r][3][l][0]),T.P165[r][3][l][1]&&!T.P165[r][3][l][2]&&(p[18]=T.P165[r][3][l][1]),T.P165[r][3][l][2]&&!T.P165[r][3][l][3]&&(p[19]=T.P165[r][3][l][2]),T.P165[r][3][l][3]&&(p[20]=T.P165[r][3][l][3]),r>=20&&T.P165[r][4][l][0]&&(o[17]=T.P165[r][4][l][0]),r>=20&&T.P165[r][4][l][1]&&(o[18]=T.P165[r][4][l][1]),r>=20&&T.P165[r][4][l][2]&&(o[19]=T.P165[r][4][l][2])),e.push(t("<tr>").append(t("<td>",{rowspan:r==100?n:1}).append(r+"%"),s[r]?t("<td>",{rowspan:s[r]}).append(a("equipment_rarity_"+l)):"",s[r]?t("<td>",{rowspan:s[r],class:"text-nowrap"}).append((()=>{let c=[];for(let f=0;f<5;f++)c.push(t("<div>").css("margin-bottom","4px").append(D.r204({type:f,quality:r,upgrade:0},"small")," ",t("<span>",{class:"equipment-rarity-"+l}).append(T.g267(l,f,1))));return c})()):"",t("<td>",{class:"text-nowrap"}).append(b.g227(T.P165[r][0],!1),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-right")),"&nbsp;&nbsp;",T.P165[r][1]?t("<span>").append(T.P165[r][1],t("<span>",{class:"help",title:a("game_gems")}).tooltip({trigger:"hover"}).append(m.g212(0,"icon-right")),"&nbsp;&nbsp;"):"",T.P165[r][2]?t("<span>").append(T.P165[r][2],t("<span>",{class:"help",title:a("arena_coins")}).tooltip({trigger:"hover"}).append(m.a102(0,"icon-right")),"&nbsp;&nbsp;"):""),t("<td>",{class:"text-nowrap"}).append(r==100?t("<span>").append(t("<img>",{src:"/img/item/plus5.svg",class:"help equipment-plus-help equipment-plus5",title:a("equipment_boost_title")+" ("+a("equipment_boost_period_days",{"%amount%":i.B67})+")"}).tooltip({trigger:"hover"})," ",T.B96[r],I.h77("icon-right"),"<br/>",t("<img>",{src:"/img/item/plus5i.svg",class:"help equipment-plus-help equipment-plus5i",title:a("equipment_boost_unlimited")}).tooltip({trigger:"hover"})," ",i.B70,I.h77("icon-right")):t("<span>").append(T.B96[r],I.h77("icon-right"))),r==100?t("<td>",{class:"text-nowrap"}).append(t("<strong>",{class:"equipment-rarity-4"}).append("100+")," ",t("<span>",{class:"help",title:a("equipment_perfect_parts")}).tooltip({trigger:"hover"}).append(m.p95(i.P130))):"",r==100?t("<td>",{class:"text-nowrap"}).append(t("<strong>",{class:"equipment-rarity-4"}).append("100")," ",t("<span>",{class:"help",title:a("equipment_perfect_parts")}).tooltip({trigger:"hover"}).append(m.p95(i.P130))):"",r!=100?t("<td>",{class:"text-nowrap"}).append(r!=99&&r!=69&&r!=39?D.r212(o):""):"",r!=100?t("<td>",{class:"text-nowrap"}).append(Object.keys(p)[0]==20?t("<span>").append(t("<strong>",{class:"equipment-rarity-4"}).append(p[20])," ",t("<span>",{class:"help",title:a("equipment_perfect_parts")}).tooltip({trigger:"hover"}).append(m.p95(i.P130))):D.r212(p)):""))}t("#equipment_table").append(t("<table>",{class:"table table-bordered no-margin help-table"}).append(t("<tr>").append(t("<th>").append(a("equipment_quality")),t("<th>").append(a("market_rarity")),t("<th>").append(a("equipment_model")),t("<th>").append(a("equipment_materials")),t("<th>").append(a("equipment_boost_title")),t("<th>").append(a("equipment_upgrade_title")),t("<th>").append(a("equipment_disassemble_title"))),e))}static r120(){t("#series_table").append(t("<table>",{class:"table table-bordered no-margin help-table width-auto"}).append(t("<tr>").append(t("<th>").append(a("equipment_series")),t("<th>").append(a("game_gem")),t("<th>").append(a("metal")),t("<th>").append(a("equipment_upgrades")),t("<th>").append(a("equipment_examples"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>T</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(1,"icon-left").append(a("gem_1"))),t("<td>",{class:"text-nowrap"}).append(I.a104(41,"icon-left").append(a("metal_41"))),t("<td>",{class:"text-nowrap"}).append(a("gem_1"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("RE-55550-T"),this.r123("RE-55550-T1"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>R</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(2,"icon-left").append(a("gem_2"))),t("<td>",{class:"text-nowrap"}).append(I.a104(42,"icon-left").append(a("metal_42"))),t("<td>",{class:"text-nowrap"}).append(a("gem_2"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("UH-XXXX0-R"),this.r123("UH-XXXX0-R2"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>S</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(3,"icon-left").append(a("gem_3"))),t("<td>",{class:"text-nowrap"}).append(I.a104(43,"icon-left").append(a("metal_43"))),t("<td>",{class:"text-nowrap"}).append(a("gem_3"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("LT-PPPP0-S"),this.r123("LT-PPPP0-S3"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>A</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(4,"icon-left").append(a("gem_4"))),t("<td>",{class:"text-nowrap"}).append(I.a104(44,"icon-left").append(a("metal_44"))),t("<td>",{class:"text-nowrap"}).append(a("gem_4"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("RR-66666-A"),this.r123("RR-66666-A4"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>O</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(5,"icon-left").append(a("gem_5"))),t("<td>",{class:"text-nowrap"}).append(I.a104(45,"icon-left").append(a("metal_45"))),t("<td>",{class:"text-nowrap"}).append(a("gem_5"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("US-AAAAA-O"),this.r123("US-AAAAA-O5"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>Q</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(6,"icon-left").append(a("gem_6"))),t("<td>",{class:"text-nowrap"}).append(I.a104(46,"icon-left").append(a("metal_46"))),t("<td>",{class:"text-nowrap"}).append(a("gem_6"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("LE-EEEEE-Q"),this.r123("LE-EEEEE-Q1"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>E</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(7,"icon-left").append(a("gem_7"))),t("<td>",{class:"text-nowrap"}).append(I.a104(47,"icon-left").append(a("metal_47"))),t("<td>",{class:"text-nowrap"}).append(a("gem_7"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("RH-77777-E"),this.r123("RH-77777-E3"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>G</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(8,"icon-left").append(a("gem_8"))),t("<td>",{class:"text-nowrap"}).append(I.a104(48,"icon-left").append(a("metal_48"))),t("<td>",{class:"text-nowrap"}).append(a("gem_8"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("UT-BBBBB-G"),this.r123("UT-BBBBB-G5"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append("<strong>J</strong>"),t("<td>",{class:"text-nowrap"}).append(I.g221(9,"icon-left").append(a("gem_9"))),t("<td>",{class:"text-nowrap"}).append(I.a104(49,"icon-left").append(a("metal_49"))),t("<td>",{class:"text-nowrap"}).append(a("gem_9"),a(": "),"+4% ("+a("equipment_up_to",{"%to%":"5x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("LR-HHHHH-J"),this.r123("LR-HHHHH-J5"))),t("<tr>").append(t("<td>",{rowspan:4}).append("<strong>D</strong>"),t("<td>",{rowspan:4}).append(I.g221(10,"icon-left").append(a("gem_10"))),t("<td>",{rowspan:4}).append(I.a104(50,"icon-left").append(a("metal_50"))),t("<td>",{class:"text-nowrap"}).append(a("profile_exp"),a(": "),"+1% ("+a("equipment_up_to",{"%to%":"10x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("RE-55550-D"),this.r123("RE-55550-De1"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("profile_coins"),a(": "),"+1% ("+a("equipment_up_to",{"%to%":"10x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("UH-XXXX0-D"),this.r123("UH-XXXX0-Dm5"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("game_gems"),a(": "),"+1% ("+a("equipment_up_to",{"%to%":"10x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("LT-PPPP0-D"),this.r123("LT-PPPP0-Dg10"))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(a("arena_tickets"),a(": "),"+1% ("+a("equipment_up_to",{"%to%":"10x"})+")"),t("<td>",{class:"text-nowrap"}).append(this.r123("RR-77777-D"),this.r123("RR-77777-Da10")))))}static r121(){let e={};for(let o=0;o<=4;o++)e[o]=D.r202(o)+" "+a("equipment_item_"+o);t("#perfects_filters").empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(e[this.t61],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c in e){let f=e[c];o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c96(+c)).append(f)))}return o})())),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(m.g212(this.p72,"icon-left"),a("equipment_perfect_series",{"%type%":T.G136[this.p72-1][0]}),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c=1;c<=i.G128;c++)o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c121(c)).append(m.g212(c,"icon-left"),a("equipment_perfect_series",{"%type%":T.G136[c-1][0]}))));return o})()))),t("#perfects_table").empty().append(t("<table>",{id:"perfects",class:"table table-bordered no-margin help-table width-auto"}).append(t("<tr>").append(t("<th>").append(a("market_item")),t("<th>").append(a("equipment_upgrades")),t("<th>").append(a("equipment_materials")),t("<th>").append(a("equipment_upgraded_item")))));let s=T.i143(T.P162);s.type=this.t61,s.gem=this.p72;let n=T.i144(s);if(s=T.i143(n),this.p72==10){t("#perfects").append(t("<tr>").append(t("<td>").append(D.m104(s,"right",null,!1).append(D.r204(s,"small")," ",D.r205(s,!1))),t("<td>",{colspan:3}).append(a("equipment_upgrade_not_available"))));return}let r=[],l=1,p=15;for(let o=l;o<=p;o++)o!=10&&s.gem!=o&&s.gems.indexOf(o)==-1&&r.push(o);for(let o=0;o<r.length;o++){let c=r[o],f=T.g276(s,c),h=JSON.parse(JSON.stringify(s));h.gems=[s.gem,c],h.perfectLevel++,n=T.i144(h),h=T.i143(n),t("#perfects").append(t("<tr>").append(o==0?t("<td>",{rowspan:r.length}).append(D.m104(s,"right",null,!0).append(D.r204(s,"small")," ",D.r205(s,!1))):"",t("<td>").append(si.g180(c,s.type,c<=10?" +20%":c==15&&[0,1].indexOf(s.type)!=-1?" +1":" +10%"),t("<span>",{class:"gray"}).append("L"+s.perfectLevel+' <i class="fa fa-long-arrow-right"></i> L'+(s.perfectLevel+Object.keys(f).length))),t("<td>").append(D.r212(f)),t("<td>").append(D.m104(h,"left",null,!0).append(D.r204(h,"small")," ",D.r205(h,!1)))))}}static r122(){t("#codes_table").empty().append(t("<table>",{class:"table table-bordered no-margin help-table width-auto"}).append(t("<tr>").append(t("<th>",{colspan:3}).append(a("equipment_p1_model"))),t("<tr>").append(t("<td>").append("CE"),t("<td>").append(a("equipment_item_0_0")),t("<td>").append(this.r123("CE-55000-T"))),t("<tr>").append(t("<td>").append("CH"),t("<td>").append(a("equipment_item_0_1")),t("<td>").append(this.r123("CH-06600-R"))),t("<tr>").append(t("<td>").append("CT"),t("<td>").append(a("equipment_item_0_2")),t("<td>").append(this.r123("CT-00770-S"))),t("<tr>").append(t("<td>").append("CR"),t("<td>").append(a("equipment_item_0_3")),t("<td>").append(this.r123("CR-80800-A"))),t("<tr>").append(t("<td>").append("CS"),t("<td>").append(a("equipment_item_0_4")),t("<td>").append(this.r123("CS-09090-O"))),t("<tr>").append(t("<td>").append("RE"),t("<td>").append(a("equipment_item_1_0")),t("<td>").append(this.r123("RE-55550-Q"))),t("<tr>").append(t("<td>").append("RH"),t("<td>").append(a("equipment_item_1_1")),t("<td>").append(this.r123("RH-66660-E"))),t("<tr>").append(t("<td>").append("RT"),t("<td>").append(a("equipment_item_1_2")),t("<td>").append(this.r123("RT-77770-G"))),t("<tr>").append(t("<td>").append("RR"),t("<td>").append(a("equipment_item_1_3")),t("<td>").append(this.r123("RR-88880-J"))),t("<tr>").append(t("<td>").append("RS"),t("<td>").append(a("equipment_item_1_4")),t("<td>").append(this.r123("RS-99990-D"))),t("<tr>").append(t("<td>").append("UE"),t("<td>").append(a("equipment_item_2_0")),t("<td>").append(this.r123("UE-99999-T"))),t("<tr>").append(t("<td>").append("UH"),t("<td>").append(a("equipment_item_2_1")),t("<td>").append(this.r123("UH-XXXXX-R"))),t("<tr>").append(t("<td>").append("UT"),t("<td>").append(a("equipment_item_2_2")),t("<td>").append(this.r123("UT-AAAAA-S"))),t("<tr>").append(t("<td>").append("UR"),t("<td>").append(a("equipment_item_2_3")),t("<td>").append(this.r123("UR-BBBBB-A"))),t("<tr>").append(t("<td>").append("US"),t("<td>").append(a("equipment_item_2_4")),t("<td>").append(this.r123("US-CCCCC-O"))),t("<tr>").append(t("<td>").append("LE"),t("<td>").append(a("equipment_item_3_0")),t("<td>").append(this.r123("LE-DDDDD-Q"))),t("<tr>").append(t("<td>").append("LH"),t("<td>").append(a("equipment_item_3_1")),t("<td>").append(this.r123("LH-EEEEE-E"))),t("<tr>").append(t("<td>").append("LT"),t("<td>").append(a("equipment_item_3_2")),t("<td>").append(this.r123("LT-FFFFF-G"))),t("<tr>").append(t("<td>").append("LR"),t("<td>").append(a("equipment_item_3_3")),t("<td>").append(this.r123("LR-GGGGG-J"))),t("<tr>").append(t("<td>").append("LS"),t("<td>").append(a("equipment_item_3_4")),t("<td>").append(this.r123("LS-HHHHH-D"))),t("<tr>").append(t("<td>").append("PE"),t("<td>").append(a("equipment_item_4_0")),t("<td>").append(this.r123("PE-T"))),t("<tr>").append(t("<td>").append("PH"),t("<td>").append(a("equipment_item_4_1")),t("<td>").append(this.r123("PH-R"))),t("<tr>").append(t("<td>").append("PT"),t("<td>").append(a("equipment_item_4_2")),t("<td>").append(this.r123("PT-S"))),t("<tr>").append(t("<td>").append("PR"),t("<td>").append(a("equipment_item_4_3")),t("<td>").append(this.r123("PR-A"))),t("<tr>").append(t("<td>").append("PS"),t("<td>").append(a("equipment_item_4_4")),t("<td>").append(this.r123("PS-O"))),t("<tr>").append(t("<th>",{colspan:3}).append(a("equipment_p2_bonuses"))),t("<tr>").append(t("<td>").append(a("equipment_1c")),t("<td>").append(a("equipment_bonus_"+i.B72)+" (%)"),t("<td>").append(this.r123("CE-50700-D"))),t("<tr>").append(t("<td>").append(a("equipment_2c")),t("<td>").append(a("equipment_bonus_"+i.B73)+" (%)"),t("<td>").append(this.r123("CH-09060-D"))),t("<tr>").append(t("<td>").append(a("equipment_3c")),t("<td>").append(a("equipment_bonus_"+i.B74)+" (%)"),t("<td>").append(this.r123("CT-00X00-D"))),t("<tr>").append(t("<td>").append(a("equipment_4c")),t("<td>").append(a("equipment_bonus_"+i.B75)+" (%)"),t("<td>").append(this.r123("CR-50090-D"))),t("<tr>").append(t("<td>").append(a("equipment_5c")),t("<td>").append(a("equipment_unique_property")),t("<td>").append(this.r123("CS-06008-D"))),t("<tr>").append(t("<td>").append("5"),t("<td>").append("+5%"),t("<td>").append(this.r123("CE-55000-D"))),t("<tr>").append(t("<td>").append("6"),t("<td>").append("+6%"),t("<td>").append(this.r123("CH-06600-D"))),t("<tr>").append(t("<td>").append("7"),t("<td>").append("+7%"),t("<td>").append(this.r123("CT-00770-D"))),t("<tr>").append(t("<td>").append("8"),t("<td>").append("+8%"),t("<td>").append(this.r123("CR-00088-D"))),t("<tr>").append(t("<td>").append("9"),t("<td>").append("+9%"),t("<td>").append(this.r123("CS-09090-D"))),t("<tr>").append(t("<td>").append("X"),t("<td>").append("+10%"),t("<td>").append(this.r123("RE-XXX00-D"))),t("<tr>").append(t("<td>").append("A"),t("<td>").append("+11%"),t("<td>").append(this.r123("RH-0AAA0-D"))),t("<tr>").append(t("<td>").append("B"),t("<td>").append("+12%"),t("<td>").append(this.r123("RT-00BBB-D"))),t("<tr>").append(t("<td>").append("C"),t("<td>").append("+13%"),t("<td>").append(this.r123("RR-0CC00-D"))),t("<tr>").append(t("<td>").append("D"),t("<td>").append("+14%"),t("<td>").append(this.r123("RS-00DD0-D"))),t("<tr>").append(t("<td>").append("E"),t("<td>").append("+15%"),t("<td>").append(this.r123("UE-0EEEE-D"))),t("<tr>").append(t("<td>").append("F"),t("<td>").append("+16%"),t("<td>").append(this.r123("UH-F0FFF-D"))),t("<tr>").append(t("<td>").append("G"),t("<td>").append("+17%"),t("<td>").append(this.r123("UT-GG0GG-D"))),t("<tr>").append(t("<td>").append("H"),t("<td>").append("+18%"),t("<td>").append(this.r123("LS-HHH0H-D"))),t("<tr>").append(t("<td>").append("I"),t("<td>").append("+19%"),t("<td>").append(this.r123("LE-IIII0-D"))),t("<tr>").append(t("<td>").append("P"),t("<td>").append("+20%"),t("<td>").append(this.r123("LH-5PPPP-D"))),t("<tr>").append(t("<th>",{colspan:3}).append(a("equipment_p3_series"))),t("<tr>").append(t("<td>").append("T"),t("<td>").append(a("gem_1")),t("<td>").append(this.r123("CE-07070-T"))),t("<tr>").append(t("<td>").append("R"),t("<td>").append(a("gem_2")),t("<td>").append(this.r123("CH-66600-R"))),t("<tr>").append(t("<td>").append("S"),t("<td>").append(a("gem_3")),t("<td>").append(this.r123("RT-0XXX0-S"))),t("<tr>").append(t("<td>").append("A"),t("<td>").append(a("gem_4")),t("<td>").append(this.r123("RR-05EE0-A"))),t("<tr>").append(t("<td>").append("O"),t("<td>").append(a("gem_5")),t("<td>").append(this.r123("US-P0P00-O"))),t("<tr>").append(t("<td>").append("Q"),t("<td>").append(a("gem_6")),t("<td>").append(this.r123("UE-AAAAA-Q"))),t("<tr>").append(t("<td>").append("E"),t("<td>").append(a("gem_7")),t("<td>").append(this.r123("LH-EPPP0-E"))),t("<tr>").append(t("<td>").append("G"),t("<td>").append(a("gem_8")),t("<td>").append(this.r123("LT-FFFFF-G"))),t("<tr>").append(t("<td>").append("J"),t("<td>").append(a("gem_9")),t("<td>").append(this.r123("PR-J"))),t("<tr>").append(t("<td>").append("D"),t("<td>").append(a("gem_10")),t("<td>").append(this.r123("PS-D")))))}static c96(e){this.t61=e,this.r121()}static c121(e){this.p72=e,this.r121()}static r123(e){let s=T.i146(e);return t("<div>",{class:"help-eq-row"}).append(D.m104(s,"left",null,!0).append(D.r204(s,"small")," ",D.r205(s,!1)))}static a83(e){t('a[name="'+e+'"]')[0].scrollIntoView()}};var xs=class{static $="EventsHelpBlock";static F63={1:'5 x <a href-local="help/c-eff" target="_blank">C<sub>Eff</sub></a> (5K max.)',2:"0.0075 x 3BV/s x [Difficulty]",3:"0.01 x 3BV/s x [Difficulty]",4:'5 x <a href-local="help/c-ws" target="_blank">C<sub>WS</sub></a> (25 x [Difficulty] max.)',5:"0.005 x [Difficulty] (5K max.)<br/>0.00025 x [Solved 3BV]",6:"0.02 x [Difficulty]",7:"0.025",9:"5 x (C<sub>Eff</sub> + C<sub>S</sub>)"};static F64={1:'20 x <a href-local="help/c-eff" target="_blank">C<sub>Eff</sub></a> (10K max.)',2:"0.03 x 3BV/s x [Difficulty]",3:"0.04 x 3BV/s x [Difficulty]",4:'20 x <a href-local="help/c-ws" target="_blank">C<sub>WS</sub></a> (50 x [Difficulty] max.)',5:"0.02 x [Difficulty]  (10K max.)<br/>0.001 x [Solved 3BV]",6:"0.08 x [Difficulty]",7:"0.1",9:"20 x (C<sub>Eff</sub> + C<sub>S</sub>)"};static re(e){t("#"+this.$).empty().append(e),t("#events_season").append(),t("#events_current_event").append(a("event_title_"+R.g258())," ",gt.r221(R.g258()));let s=R.g256();s==i.E112||s==i.E113?t("#events_wheel").show():s==i.E106||s==i.E107?t("#events_global_quests").show():s==i.E108||s==i.E109?t("#events_special_arena").show():(s==i.E110||s==i.E111)&&t("#events_friendship").show(),(s==i.E108||s==i.E109)&&t("#events_special_ticket").html(a("event_"+gt.g223()+"_tickets")),this.r124()}static r124(){let e=[],s=[i.E112,i.E113].includes(R.g256()),n=s?this.F64:this.F63,r=s?[1,2,3,4,5,6,7,8,9]:[1,2,3,4,5,6,7,9];for(let l=0;l<r.length;l++){let p=r[l];if(p==i.G129)continue;let o=i.E75[R.g260()][i.G118+p-1],c=a("gem_probability_"+p)!="gem_probability_"+p?a("gem_probability_"+p):"";e.push(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(m.e89(o,"big","")," "+a("candy_"+o)),p==1||p==5||p==6||p==7||p==9?t("<td>",p==1?{rowspan:4,class:"vertical-align-middle"}:{}).append(a("gem_location_full_"+p)):"",p==8?t("<td>").append(a("wheel_fortune_quests")):"",t("<td>",{class:"vertical-align-middle"}).append(p==2?s?a("gem_game_style_2_3"):a("gem_game_style_"+p):"",p!=2&&a("gem_game_style_"+p)?a("gem_game_style_"+p)+"<br/>":""),t("<td>",{class:"vertical-align-middle"}).append(n[p]?t("<div>",{class:"text-nowrap"}).css("margin-bottom","4px").append(n[p].replace("[Difficulty]",a("game_map_diff")).replace("[Solved 3BV]",a("game_solved_3bv"))):"",t("<span>").css("font-size","12px").append(c))))}t("#resources_table").append(t("<table>",{class:"table table-bordered help-table"}).append(t("<tr>").append(t("<th>").append(a("candy_"+R.g260())),t("<th>").append(a("gem_location")),t("<th>").append(a("gem_game_style")),t("<th>").append(a("gem_probability"))),e)),t('[data-toggle="tooltip"]').tooltip()}};var ks=class{static $="GemsHelpBlock";static F63={1:'<a href-local="help/c-eff" target="_blank">C<sub>Eff</sub></a>',2:"C<sub>S</sub> = 0.0015 x 3BV/s x [Difficulty]",3:"C<sub>S</sub> = 0.002 x 3BV/s x [Difficulty]",4:'<a href-local="help/c-ws" target="_blank">C<sub>WS</sub></a>',5:"C<sub>HD</sub> = 0.003 x [Difficulty]",6:"C<sub>NG</sub> = 0.004 x [Difficulty]",7:"C<sub>W</sub> = 0.005",9:"C<sub>Eff</sub> + C<sub>S</sub>"};static re(e){t("#"+this.$).empty().append(e),this.r125()}static r125(){let e=[];for(let s=1;s<=i.G128;s++){let n=a("gem_probability_"+s)!="gem_probability_"+s?a("gem_probability_"+s):"";e.push(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(m.g212(s)," "+a("gem_"+s)),s==1||s>=5?t("<td>",s==1?{rowspan:4,class:"vertical-align-middle"}:{}).append(a("gem_location_full_"+s)):"",t("<td>").append(a("gem_game_style_"+s)?a("gem_game_style_"+s,{FL:'<abbr data-toggle="tooltip" title="'+a("fl")+'">FL</abbr>',NF:'<abbr data-toggle="tooltip" title="'+a("nf")+'">NF</abbr>'})+"<br/>":""),t("<td>").append(this.F63[s]?t("<div>",{class:"text-nowrap"}).css("margin-bottom","4px").append(this.F63[s].replace("[Difficulty]",a("game_map_diff"))):"",t("<span>").css("font-size","12px").append(n))))}t("#gems_table").append(t("<table>",{class:"table table-bordered help-table"}).append(t("<tr>").append(t("<th>").append(a("game_gem")),t("<th>").append(a("gem_location")),t("<th>").append(a("gem_game_style")),t("<th>").append(a("gem_probability"))),e)),t('[data-toggle="tooltip"]').tooltip()}};var Cs=class{static $="GuidesHelpBlock";static u86=!1;static re(e){t("#"+this.$).empty().append(t("<div>",{id:"guides_table"}),"<br/>",e),this.r82()}static r82(){t("#guides_table").empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("GuidesController.getGuidesWsAction",[],this.r126.bind(this))}static r126(e,s){this.u86=s;let n=[];if(v.l85=="en"){let l=v.g229();l&&l!="en"&&n.push({lang:l,langFull:"",flag:"",rows:[]})}else n.push({lang:v.l85,langFull:"",flag:"",rows:[]});n.push({lang:"en",langFull:"",flag:"",rows:[]}),n.push({lang:null,langFull:null,flag:null,rows:[]});for(let l=0;l<e.length;l++){let p=e[l];if(!p.isActive)continue;let o=p.users.indexOf(u.u61.id)!=-1,c=t("<tr>").append(t("<td>",{class:"guide-column"}).append(t("<a>",{href:p.link,target:"_blank"}).append(p.name)),t("<td>",{class:"text-center"}).append(t("<img>",{src:u.f62(p.flag.substring(0,2)),class:"player-flag help",title:p.langFull}).tooltip({trigger:"hover"})),t("<td>",{class:"username-overflow-column"}).append(t("<a>",{"href-local":"player/"+p.authorId,class:"text-nowrap"}).append(t("<img>",{src:u.f62(p.country),class:"player-flag"}),t("<span>").text(b.g225(p.authorId,p.username)))),this.u86?t("<td>").append(t("<span>",{class:"text-nowrap"}).append(p.ranking," ",t("<i>",{class:"fa fa-heart gray cursor-pointer "+(o?"red":"")}).on("click",()=>this.v61(p.id,!o)))):"");for(let f=0;f<n.length;f++)if(n[f].lang==p.lang||n[f].lang===null){n[f].lang&&(n[f].langFull=p.langFull,n[f].flag=p.flag),n[f].rows.push(c);break}}let r=[];for(let l=0;l<n.length;l++)n[l].rows.length!=0&&(r.push(t("<tr>").append(t("<th>",{colspan:4}).append(t("<img>",{src:u.f62(n[l].flag?n[l].flag:"xx"),class:"player-flag"}),n[l].langFull?n[l].langFull:a("help_guides_other_languages")))),r=r.concat(n[l].rows));t("#guides_table").empty().append(t("<table>",{class:"table table-bordered no-margin width-auto help-table"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("help_guides_guide")),t("<th>").append(t("<span>",{class:"hidden-xs"}).append(a("help_guides_language"))),t("<th>").append(a("help_guides_author")),this.u86?t("<th>"):"")),t("<tbody>").append(r))),x.r226()}static v61(e,s){y.m109("GuidesController.voteWsAction",[e,s],()=>{this.r82()})}};var As=class{static $="HallOfFameHelpBlock";static re(e){t(".help-menu").hide(),t("#"+this.$).empty().append(e),y.m109("HelpController.getHallOfFamePlayersWsAction",[],this.r82.bind(this))}static r82(e){let s=[];for(let n=0;n<e.length;n++)s.push(t("<tr>").append(t("<td>").append(e[n].user?b.m106(e[n].user.userId,e[n].user):""),t("<td>").append(a("equipment_item_"+e[n].prefix[1][0]+"_"+e[n].prefix[1][1]),e[n].prefix[1][0]==5?" L"+e[n].prefix[1][2]:""," ("+e[n].prefix[0][1]+")")));t("#hall_of_fame_table").empty().append(t("<p>").append(a("help_hof_last_update")),t("<table>",{class:"table table-bordered no-margin width-auto help-table"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("ranking_column_player")),t("<th>").append(a("help_hof_item")))),t("<tbody>").append(s))),x.r226()}};var Ms=class{static $="PatternsHelpBlock";static p73={};static re(e,s){if(t("#"+this.$).empty().append(e),this.r82(s),location.hash){let n=location.hash.substring(1);this.a83(n)}}static r82(e){this.p73={};for(let s in e){t("#"+this.$).append(t("<h3>").html(s));let n=t("<table>",{class:"table table-bordered patterns-table help-table"}).appendTo(t("#"+this.$));for(let r=0;r<e[s].length;r++){let l=e[s][r];this.p73[l.code]=l,n.append(t("<tr>").append(t("<td>",{id:"patterns_img_"+l.code,class:"help-pattern-image"}),t("<td>",{id:"patterns_text_"+l.code,class:"help-pattern-text"}).append(t("<h4>").append(t("<div>",{class:"pattern-ng-level"}).append(t("<a>",{id:"pattern_permalink_"+l.code,href:"#"+l.code,class:"pattern-permalink no-underline",title:a("help_pattern_permalink")}).on("click",()=>this.a84(l.code)).tooltip({trigger:"hover",container:"#"+this.$}).append('<i class="fa fa-thumb-tack"></i>'),"&nbsp;&nbsp;",t("<span>",{class:"help",title:"NG "+a("game_level")+a(": ")+a("level_"+l.ng)}).append(a("level_"+l.ng)[0]).tooltip({trigger:"hover",container:"#"+this.$})),t("<a>",{name:l.code,class:"pattern-anchor"}),l.name),l.text?t("<div>",{class:"help-pattern-descr"}).append(l.text):"",t("<ul>",{id:"patterns_steps_"+l.code})))),this.u87(l.code,l.steps.length)}}}static a84(e){if(t("#pattern_permalink_"+e).hasClass("active"))history.pushState(null,null,location.pathname),t("#pattern_permalink_"+e).removeClass("active"),t("#patterns_img_"+e).removeClass("active"),t("#patterns_text_"+e).removeClass("active");else{let s=location.pathname+"#"+e;history.pushState(null,null,s),this.a83(e)}return!1}static a83(e){t('a[name="'+e+'"]')[0].scrollIntoView(),t(".pattern-permalink").removeClass("active"),t(".help-pattern-image").removeClass("active"),t(".help-pattern-text").removeClass("active"),t("#pattern_permalink_"+e).addClass("active"),t("#patterns_img_"+e).addClass("active"),t("#patterns_text_"+e).addClass("active")}static u87(e,s){let n=this.p73[e];t("#patterns_steps_"+e).empty(),t("#patterns_img_"+e).empty().append(t("<img>",{src:"/img/help/"+e+"/"+s+".png",class:"cursor-pointer help-pattern-image-img",alt:e+" ("+s+")"}).on("click",()=>this.u87(e,s==n.steps.length?0:s+1)).css({width:n.imgSize[0]+"px",height:n.imgSize[1]+"px"}),t("<div>",{id:"patterns_dots_"+e,class:"help-patterns-dots"}));for(let r=0;r<n.steps.length+1;r++){let l;r==s?l="help-patterns-dots-active":r<s?l="help-patterns-dots-passed":l="help-patterns-dots-future",t("#patterns_dots_"+e).append(t("<span>",{class:"cursor-pointer"}).on("click",()=>this.u87(e,r)).append('<i class="fa fa-circle '+l+'"></i>'),"&nbsp;&nbsp;"),r!=0&&t("#patterns_steps_"+e).append(t("<li>",{class:"cursor-pointer"}).on("click",()=>this.u87(e,r)).css("opacity",r>s?"0.4":"1").html(n.steps[r-1]))}}};var Ps=class{static $="TrophiesHelpBlock";static l65=3;static s100=10;static re(e){t("#"+this.$).empty().append(e,t("<div>",{id:"scores_filters"}),t("<div>",{id:"scores_table_0"})),this.r130()}static r130(){t("#scores_table").empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("ScoresController.getScoresWsAction",[this.l65,this.s100],this.r61.bind(this))}static r61(e,s){t("#scores_filters").empty().append(t("<div>").append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"step",type:"checkbox"}).prop("checked",this.s100==1).on("change",()=>this.c122()),t("<span>").append(a("ranking_show_all"))),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_level")+a(": "),a("level_"+this.l65),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(i.G67)).append(a("level_"+i.G67))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(i.G68)).append(a("level_"+i.G68))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(i.G69)).append(a("level_"+i.G69))))))),this.r82(0,e)}static r82(e,s){t("#scores_table_"+e).empty().append(t("<table>",{class:"table table-bordered width-auto help-table"}).append(t("<thead>").append(t("<tr>").append(t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_score")}).tooltip({trigger:"hover"}).append(m.s176(e,"icon-title"))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_time")}).tooltip({trigger:"hover"}).append(m.t105("icon-title level"+this.l65))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("game_eff")}).tooltip({trigger:"hover"}).append(m.e87("icon-title level"+this.l65))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_exp")}).tooltip({trigger:"hover"}).append(m.e85("icon-title"))),e==0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("equipment_eq_quality")}).tooltip({trigger:"hover"}).append(m.e88("icon-title"))):"",e>0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("game_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-title"))):"",t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_mastery")}).tooltip({trigger:"hover"}).append(m.m103("icon-title level"+this.l65))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_ws")}).tooltip({trigger:"hover"}).append(m.w68("icon-title level"+this.l65))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("arena_points")}).tooltip({trigger:"hover"}).append(m.a103("icon-title"))),t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_diff")}).tooltip({trigger:"hover"}).append(m.d76(1/0,!1,"icon-title"))),e==0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_end")}).tooltip({trigger:"hover"}).append(m.e86("icon-title end"+this.l65))):"",e>0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_wins")}).tooltip({trigger:"hover"}).append(m.w69("icon-title"))):"",e==0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("ranking_column_rewards")}).tooltip({trigger:"hover"}).append(m.r200("icon-title"))):"",e>0?t("<th>",{class:"text-center"}).append(t("<span>",{class:"help",title:a("event_points")}).tooltip({trigger:"hover"}).append(m.b95("icon-title"))):"")),t("<tbody>",{id:"scores_body_"+e})));for(let n=150;n>=this.s100;n-=this.s100)s.timeScore[n]!==void 0&&(this.l65==i.G69?s.timeScore[n]=Math.round(s.timeScore[n]/1e3):this.l65==i.G68?s.timeScore[n]=(s.timeScore[n]/1e3).toFixed(1):this.l65==i.G67&&(s.timeScore[n]=(s.timeScore[n]/1e3).toFixed(2))),t("#scores_body_"+e).append(t("<tr>").append(t("<td>",{class:"text-center text-nowrap"}).append(n,m.s176(e,"icon-small icon-right")),t("<td>",{class:"text-center"}).append(s.timeScore[n]!==void 0||n==1?t("<nobr>").append(m.t105("icon-small level"+this.l65),n==1?"\u221E":s.timeScore[n]):""),t("<td>",{class:"text-center"}).append(s.effScore[n]!==void 0?t("<nobr>").append(m.e87("icon-small level"+this.l65),s.effScore[n]+"%"):""),t("<td>",{class:"text-center"}).append(s.expScore[n]!==void 0?t("<nobr>").append(m.e85("icon-small icon-left"),s.expScore[n]==1e9?"1B":"",s.expScore[n]<1e9&&s.expScore[n]>=1e6?Math.floor(s.expScore[n]/1e6*10)/10+"M":"",s.expScore[n]<1e6&&s.expScore[n]>=1e4?Math.floor(s.expScore[n]/1e3*10)/10+"K":"",s.expScore[n]<1e4?s.expScore[n]:""):""),e==0?t("<td>",{class:"text-center"}).append(n!=1&&s.qualityScore[n]%1===0?t("<nobr>").append(n<=120?s.qualityScore[n]+"%":"",(n==121,""),n==122?"L6":"",(n==123,""),n==124?"L7":"",(n==125,""),n==126?"L8":"",(n==127,""),n==128?"L9":"",(n==129,""),n>=130?"L"+(s.qualityScore[n]-100):""):""):"",e>0?t("<td>",{class:"text-center"}).append(t("<nobr>").append(s.coinsSeasonScore[n]!==void 0?t("<nobr>").append(m.c199("icon-small icon-left"),s.coinsSeasonScore[n]%1e3==0?b.g228(s.coinsSeasonScore[n],!1):s.coinsSeasonScore[n]):"")):"",t("<td>",{class:"text-center"}).append(s.masteryScore[n]!==void 0?t("<nobr>").append(m.m103("icon-small mastery"+this.l65),s.masteryScore[n]):""),t("<td>",{class:"text-center"}).append(s.wsScore[n]!==void 0?t("<nobr>").append(m.w68("icon-small ws"+this.l65),s.wsScore[n]):""),t("<td>",{class:"text-center"}).append(n>=10&&n<=100&&(s.arenaScore[n]%1===0||s.arenaScore[n]>=50)?t("<nobr>").append(m.a103("icon-small"),Math.ceil(s.arenaScore[n])):""),t("<td>",{class:"text-center"}).append(n>=40&&n<=100?t("<nobr>").append(m.d76(s.diffScore[n])," ",s.diffScore[n]%1e3==0?b.g228(s.diffScore[n],!1):s.diffScore[n]):""),e==0?t("<td>",{class:"text-center"}).append(n>=40&&n<=100?t("<nobr>").append(m.e86("icon-small end"+s.endScore[n].level),q.g211(s.endScore[n].time==1?0:s.endScore[n].time,this.s100==1)):""):"",e>0?t("<td>",{class:"text-center"}).append(n<=100?t("<nobr>").append(m.w69("icon-small"),s.winsScore[n]%1e3==0?b.g228(s.winsScore[n],!1):s.winsScore[n]):""):"",e==0?t("<td>",{class:"text-center"}).append(n<=100&&n%5==0?t("<nobr>").append(m.r200("icon-small"),s.rewardsScore[n]):""):"",e>0?t("<td>",{class:"text-center"}).append(n<=100?t("<nobr>").append(m.b95("icon-small icon-left"),s.eventItemsScore[n]%1e3==0?b.g228(s.eventItemsScore[n],!1):s.eventItemsScore[n]):""):""))}static c97(e){this.l65=e,this.r130()}static c122(){this.s100=t("#step").prop("checked")?1:10,this.r130()}};var ai=class{static $="HelpBlock";static p65=null;static H61=["gameplay","patterns","efficiency","trophies","arena","gems","equipment","events","quests","achievements","ranks","guides","website-rules"];static re(){this.p65.indexOf("#")!=-1&&(this.p65=this.p65.split("#")[0]);let e=null;this.p65=="patterns"&&(e={url:"https://"+J.g287(V.e97)+"/img/help/tp/6.png",width:228,height:228}),H.u74({title:a("help_"+this.p65+"_title"),description:a("help_"+this.p65+"_description")!="help_"+this.p65+"_description"?a("help_"+this.p65+"_description"):"",image:e});let s=a("help_"+this.p65+"_title");s=="C Eff"?s="C<sub>Eff</sub>":s=="C WS"&&(s="C<sub>WS</sub>"),t("#"+this.$).empty().append(t("<h1>").append('<i class="fa fa-book"/> ',s),"<hr/>",t("<div>",{class:"hidden-sm hidden-md hidden-lg help-menu"}).append(this.r128(!0),"<hr/>"),t("<table>",{class:"main-help-table"}).append(t("<tr>").append(t("<td>",{id:"help_menu",class:"help-table-left-column hidden-xs help-menu"}).append(this.r128(!1)),t("<td>",{class:"help-table-middle-column hidden-xs help-menu"}).append(),t("<td>",{id:"help_content",class:"help-table-right-column help-content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')))),x.r226(),y.m109("HelpController.getHelpPageWsAction",[this.p65,v.l85],this.r127.bind(this))}static r127(e,s,n){if(e=="patterns"?(t("#help_content").empty().append(t("<div>",{id:"PatternsHelpBlock"})),Ms.re(s,n)):e=="efficiency"?(t("#help_content").empty().append(t("<div>",{id:"EfficiencyHelpBlock"})),ys.re(s)):e=="trophies"?(t("#help_content").empty().append(t("<div>",{id:"TrophiesHelpBlock"})),Ps.re(s)):e=="arena"?(t("#help_content").empty().append(t("<div>",{id:"ArenaHelpBlock"})),vs.re(s)):e=="gems"?(t("#help_content").empty().append(t("<div>",{id:"GemsHelpBlock"})),ks.re(s)):e=="events"?(t("#help_content").empty().append(t("<div>",{id:"EventsHelpBlock"})),xs.re(s)):e=="hall-of-fame"?(t("#help_content").empty().append(t("<div>",{id:"HallOfFameHelpBlock"})),As.re(s)):e=="equipment"?(t("#help_content").empty().append(t("<div>",{id:"EquipmentHelpBlock"})),ws.re(s)):e=="achievements"?(t("#help_content").empty().append(t("<div>",{id:"AchievementsHelpBlock"})),wi.re(s)):e=="ranks"?(t("#help_content").empty().append(t("<div>",{id:"RanksHelpBlock"})),bi.re(s)):e=="guides"?(t("#help_content").empty().append(t("<div>",{id:"GuidesHelpBlock"})),Cs.re(s)):t("#help_content").html(s),t("#help_3bv").append(t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV")),t("#t_eff").html(a("game_eff")),t("#t_ws").html(a("game_ws")),t("#t_beg").html(a("level_1")),t("#t_int").html(a("level_2")),t("#t_exp").html(a("level_3")),!i.i141(navigator.userAgent)){let r=navigator.userAgent.toLowerCase();r.indexOf("win")!=-1?(t(".desktop-only").removeClass("hide"),t("#system").empty().append("windows")):r.indexOf("mac")!=-1?(t(".desktop-only").removeClass("hide"),t("#system").empty().append("macOS")):(r.indexOf("android")!=-1||navigator.platform&&navigator.platform.indexOf("iPhone")!=-1||navigator.platform&&navigator.platform.indexOf("iPad")!=-1)&&t(".phone-only").removeClass("hide")}["events","trophies","gems","equipment","quests"].indexOf(e)!=-1&&(t(window).width()<600?t("p").width(t(window).width()-30):t(window).width()>800&&t("p").width(t("#page").width()-t("#help_menu").width()-40)),x.r226()}static r128(e){let s=t("<div>");for(let n=0;n<this.H61.length;n++){let r=this.H61[n],l=location.pathname.indexOf(v.l86+"/help/"+r)==0;s.append(t("<div>",{class:"help-menu-item text-nowrap"}).append(e?'<i class="fa fa-angle-double-right sub-nav-angle text-primary"></i>':"",l?t("<strong>").append(a("help_"+r+"_title")):t("<a>",{"href-local":"help/"+r}).append(a("help_"+r+"_title"))))}return s}};var Qt=class{static M62=100;static c76(e,s){let n=t("<td>",{class:"text-nowrap"}),r=t("<td>"),l=t("<table>",{id:"message_"+e.id,class:"chat-message"}).append(t("<tr>").append(n,r)),p=new Date,o=new Date(e.createdAt),c=o.getFullYear()==p.getFullYear()&&o.getMonth()==p.getMonth()&&o.getDate()==p.getDate();(e.channelId==i.C103?r:n).append(t("<span>",{class:"gray"}).append(c?F.g204(e.createdAt,!0):F.g202(e.createdAt,!0,!0)),"&nbsp;"),u.u61.id==e.userId?e.channelId!=G.n61&&(i.A121.indexOf(e.userId)!=-1?r.append(t("<img>",{src:"/img/chat/gm_"+e.userId+".svg?v=18",class:"admin-icon help admin_"+e.userId,title:a("administrator")}).tooltip({trigger:"hover"})):i.G133.indexOf(e.userId)!=-1?r.append(t("<img>",{src:"/img/chat/gm_"+e.userId+".svg?v=18",class:"gm-icon help gm_"+e.userId,title:a("game_master")}).tooltip({trigger:"hover"})):i.S114.indexOf(e.userId)!=-1?r.append(t("<img>",{src:"/img/chat/so_"+e.userId+".svg?v=18",class:"so-icon help so_"+e.userId,title:a("security_officer")}).tooltip({trigger:"hover"})):r.append(t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country)}).tooltip({trigger:"hover"})),r.append(t("<span>").text(b.g225(e.userId,e.username)))):r.append(t("<span>",{class:"dropdown "+(s?"dropup":"")}).append(t("<span>",{class:"dropdown-toggle chat-user","data-toggle":"dropdown"}).append(b.m106(e.userId,e,"right","#chat_messages",!0,!0,i.C99[e.userId]?i.C99[e.userId]:"")),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{"href-local":"player/"+e.userId}).append('<span class="glyphicon glyphicon-user"></span> ',a("chat_user_profile")),t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.m67(e.userId)).append('<span class="fa fa-share"></span> ',a("chat_mention")),t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s79(e.userId)).append('<span class="glyphicon glyphicon-envelope"></span> ',a("chat_user_send_message")),t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.b68(e.userId)).append(G.b67.indexOf(e.userId)==-1?t("<span>").append('<span class="fa fa-ban"></span> '+a("chat_user_block")):t("<span>").append('<span class="fa fa-user-plus"></span> '+a("chat_user_unblock"))),G.a75.indexOf(e.id)==-1?t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.r85(e.id)).append('<span class="fa fa-exclamation-triangle"></span> ',a("chat_user_report_abuse")):"",e.userId!=u.u61.id&&i.G133.indexOf(u.u61.id)!=-1?t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s78({id:e.userId,username:e.username,country:e.country})).append('<span class="glyphicon glyphicon-fire"></span> ',"Chat ban"):"",e.userId!=u.u61.id&&i.G133.indexOf(u.u61.id)!=-1?t("<a>",{"href-local":"admin/"+e.userId}).append('<i class="fa fa-id-card-o"></i> ',"Go to admin"):"")))),e.channelId!=G.n61&&r.append(a(": "));let f=this.p66(e.message);if(f&&i.A121.indexOf(e.userId)!=-1){let g,w=!1;if(!f.coins&&f.items){for(let C in f.items)if(f.items[C]<0){w=!0;break}}if(f.coins<0||w?g=t("<span>",{class:"chat-gift text-danger"}).append('<i class="fa fa-warning"></i>'):g=t("<span>",{class:"chat-gift"}).append('<i class="fa fa-gift"></i>'),f.coins&&g.append("&nbsp;&nbsp;",b.g227(f.coins),m.c199("icon-small icon-right")),f.items){let C=!1;for(let A in f.items)if(A>=i.E86&&A<=i.E100){C=!0;break}for(let A in f.items){let M=f.items[A];if(M!=0){if(g.append("&nbsp;&nbsp;"),A<=i.G128)g.append(M+m.g212(A,"icon-right"));else if(A==i.H97)g.append(M+m.h76("icon-right"));else if(A==i.A103)g.append(M+m.a101("icon-right"));else if(A==i.T84)g.append(I.t111("","top",M));else if(A>=i.A105&&A<=i.A117)g.append(M+m.a102(A,"icon-right"));else if(A>=i.T86&&A<=i.T95)g.append(M+m.t108(A,"icon-right"));else if(A>=i.P125&&A<=i.P139)g.append(M+m.p95(A,"icon-right"));else if(A>=i.E86&&A<=i.E100)g.append(M+m.e89(A,"small"));else if(!C&&A>=i.T106&&A<=i.T107)g.append(M+m.e89(A,"small"));else if(A>=i.R70&&A<=i.R74)g.append(t("<span>",{class:"bold text-danger"}).append("Event bonus"));else if(A>=i.A67&&A<=i.A68){let P=Math.floor((A-i.A66)/10),B=(A-i.A66)%10;g.append(K.m92(A,null,"top",null).append('<i class="fa fa-ticket ticket ticket'+P+' ticket-medium"></i>L'+B,M!=1?" ("+M+")":""))}else if(A>=i.E102){let P=T.i143(A);g.append(D.m104(P,"top").append(D.r204(P,"small")," ",D.r205(P,!1),M>1?" ("+M+")":""))}}}}r.append(g," ",t("<span>").html(f.message))}else G.b67.indexOf(e.userId)!=-1?r.append(t("<span>",{class:"gray"}).html(a("chat_user_blocked"))):e.isDeleted?r.append(t("<span>",{class:"gray"}).html(a("chat_message_removed"))):new Date(e.bannedTo)>new Date&&e.userId!=u.u61.id&&e.channelId<i.C115?r.append(t("<span>",{class:"gray"}).append(a("chat_message_hidden"))):(r.append(this.r83(e)),e.message.indexOf("chat-insert")!=-1&&r.find(".chat-insert").each(function(){let g=t(this),w=g.data();if(w.type=="user")g.append(b.m106(w.id,w,"top",null,null,!0,i.C99[w.id]?i.C99[w.id]:""));else if(w.type=="start")g.append(t("<a>",{href:v.l86+"/start/"+w.size}).html(w.size).on("click",()=>(x.e94("start/"+w.size),!1)));else if(w.type=="game"){w.level>=i.G89&&(w.level-=i.G89);let C=de.g191(w);C==w.bbbv&&(C=0),g.append(q.m95({userId:w.userId,username:w.username,country:w.country,state:w.state,level:w.level,sizeX:w.sizeX,sizeY:w.sizeY,mines:w.mines,realDiff:w.realDiff,duration:w.duration,bbbv:w.bbbv,bbbvs:w.bbbvs,eff:w.eff,finishedAt:w.finishedAt,mobile:w.mobile,bbbvDone:C}).append(t("<a>",{"href-local":"game/"+w.id,class:"text-nowrap"}).append('<span class="fa fa-caret-square-o-right game-play">',a("seo_title_game",{"%id%":w.id}))))}else if(w.type=="screen"){let C=16,A="";if(w.extra&&w.extra!="fb"){let P=parseInt(w.extra),B=P>=36e5?Math.floor(P/36e5)+":":"",L=(P%36e5/6e4<10?"0":"")+Math.floor(P%36e5/6e4)+":",mt=(P%6e4/1e3<10?"0":"")+Math.floor(P%6e4/1e3);A=" ["+B+L+mt+"]"}let M=t("<a>",{href:"https://"+J.g287(V.e97)+w.url,class:"text-nowrap",target:"_blank"}).append('<i class="fa fa-camera screen-icon">',w.gameId+A);g.append(M),k.i90()||M.popover({trigger:"hover",placement:"top",html:!0,content:()=>{let P=X.g192(C,w.sizeX,w.sizeY),B=["xp","hd","hdd","hdn"];for(let L=0;L<B.length;L++){let mt=B[L];w.url=w.url.replace("-"+mt+"-","-"+k.g144()+"-")}return t("<img>",{src:"https://"+J.g287(V.e97)+w.url,class:"screenshot-popover-img",width:P.width,height:P.height})}})}else if(w.type=="exchange")g.append(t("<a>",{"href-local":"exchange/"+w.id,class:"text-nowrap"}).append('<span class="fa fa-exchange">'," "+a("exchange_title")+" #"+w.id));else if(w.type=="trade")g.append(Se.m76(w).append('<span class="fa fa-retweet">'," "+a("market_trade")+" #"+w.id));else if(w.type=="arena")g.append(t("<a>",{"href-local":"arena/"+w.id,class:"text-nowrap"}).append(m.a103("no-margin")," "+a("arena_title")+" #"+w.id));else if(w.type=="session")g.append(t("<a>",{"href-local":"session/"+w.ip,class:"text-nowrap"}).append(w.ip));else if(w.type=="item"){let C=T.i146(w.id);C?g.append(D.m104(C,"top").append(D.r204(C,"small")," ",D.r205(C,!1))):g.append(t("<a>",{"href-local":"item/"+w.id,class:"text-nowrap"}).append(w.id))}else if(w.type=="mastery")g.append(t("<a>",{"href-local":"mastery/"+w.id,class:"text-nowrap"}).append(m.m103("no-margin mastery2")," "+a("ranking_category_mastery")+" #"+w.id));else if(w.type=="winstreak")g.append(t("<a>",{"href-local":"winstreak/"+w.id,class:"text-nowrap"}).append(m.w68("no-margin ws2")," "+a("ranking_category_ws")+" #"+w.id));else if(w.type=="endurance")g.append(t("<a>",{"href-local":"endurance/"+w.id,class:"text-nowrap"}).append(m.e86("no-margin end2")," "+a("ranking_category_end")+" #"+w.id));else if(w.type=="friend-quest")w.options=w.options?JSON.parse(atob(w.options)):null,w.type=w.questType,g.append(t("<span>",{class:"chat-gift"}).append('<i class="fa fa-gift"></i> ',nt.g116(w)," ",nt.g117(w,!0)));else if(w.type=="help"){w.id=w.id+"";let C=w.id.split("#"),A=C[0];if(ai.H61.indexOf(A)!=-1){let M=A=="patterns"&&C.length>1?C[1]:null;g.append(t("<a>",{"href-local":"help/"+w.id,class:"text-nowrap"}).append('<span class="fa fa-book icon-book">',a("help_"+A+"_title")!="help_"+A+"_title"?a("help_"+A+"_title"):A,M?a(": ")+M.toUpperCase():""))}else g.append(t("<a>",{"href-local":"help/"+w.id,class:"text-nowrap"}).append("https://"+J.g287(V.e97)+v.l86+"/help/"+w.id))}}));(e.userId==u.u61.id&&!f&&!e.isDeleted||i.G133.indexOf(u.u61.id)!=-1&&i.G133.indexOf(e.userId)==-1)&&r.append(" ",t("<span>",{class:"glyphicon glyphicon-remove chat-remove-icon",title:a("chat_message_remove")}).tooltip({trigger:"hover"}).on("click",()=>this.r84(e.id))),e.channelId==i.C106&&i.G133.indexOf(u.u61.id)!=-1&&r.append(" ",t("<span>",{id:"chat_mark_"+e.id,class:"glyphicon glyphicon-bullhorn chat-mark-icon "+(e.isMarked?"chat-mark-icon-marked":"")}).on("click",()=>this.m66(e.channelId,e.id)));let h="";return e.channelId<=i.C115&&(e.message.indexOf('data-id="'+u.u61.id+'"')!=-1&&(h="chat-message-mention"),e.userId==u.u61.id&&(h="chat-message-my")),t("<div>",{class:h}).append(l)}static r83(e){if(i.C98.indexOf(e.userId)!=-1&&e.message.indexOf("<")==0)return e.message;let s=e.message.replace(/^\s+|\s+$/g,""),n=t("<span>",{class:"chat-message-text "+(e.userId==u.u61.id&&e.channelId<i.C115?"chat-message-text-my":"")}).html(s);return(s.match(/\n/g)||[]).length>=this.M62?n:n.css({"white-space":"pre-wrap"})}static c77(e,s,n,r,l,p){return"\u27E6"+e+"\u2551"+(n&&s?'{"'+n+'": '+s+"}":"null")+"\u2551"+l+"\u2551"+p+"\u27E7"+r}static p66(e){if(e[0]!="\u27E6")return null;let s=/^(-?)(\d+)(.+?)(\d+)(\d+)/,n=e.match(s);if(n){let l;try{l=JSON.parse(n[3])}catch{l={}}return{coins:(n[1]=="-"?-1:1)*parseInt(n[2]),items:l,transferId:parseInt(n[4]),timestamp:n[5],message:e.replace(s,"")}}if(s=/^(\d+),(\d+),(\d+),(\d+),(\d+)/,n=e.match(s),!n)return null;let r=null;return parseInt(n[2])&&parseInt(n[3])&&(r={},r[parseInt(n[3])]=parseInt(n[2])),{coins:parseInt(n[1]),items:r,transferId:parseInt(n[4]),timestamp:n[5],message:e.replace(s,"")}}static r84(e){tt.t81=a("chat_sure_remove_message"),tt.c136=()=>{y.c203("ChatController.removeMessageWsAction",[e])},tt.s143()}static m66(e,s){let n;for(let r=0;r<G.m62[e].length;r++)if(G.m62[e][r].id==s){n=G.m62[e][r].isMarked?0:1,y.c203("ChatController.markMessageWsAction",[s,e,n]);return}}static s78(e){Xe.u61=e,Xe.s143()}static s79(e){y.c203("ChatController.createChannelWsAction",[e])}static m67(e){G.a76("https://"+J.g287(V.e97)+v.l86+"/player/"+e+" ")}static b68(e){G.b67.indexOf(e)==-1?(tt.t81=a("chat_sure_block_user"),tt.c136=()=>{y.c203("ChatController.blockUserWsAction",[e]),G.b67.push(e),G.re()},tt.s143()):(y.c203("ChatController.unblockUserWsAction",[e]),G.b67.splice(G.b67.indexOf(e),1),G.re())}static r85(e){tt.t81=a("chat_sure_abuse"),tt.c136=()=>{y.c203("ChatController.abuseMessageWsAction",[e]),G.a75.push(e),alert(a("chat_abuse_sent"))},tt.s143()}};var Ze=class{static C61=10;static p65=null;static f67="sort-by-date";static n65=!1;static c73=null;static r81(e){(!this.c73||this.n65||t("#chat_contacts").length==0)&&(this.p65=1,e.empty().append(t("<div>",{id:"chat_contacts",class:"chat-contacts"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')),y.c203("ChatController.getContactsWsAction",[]))}static c74(e){this.c73=e,this.r82()}static r82(){t("#chat_contacts").empty();let e=[],s=0,n=0;for(let l=0;l<this.c73.length;l++){let p=this.c73[l],o=u.u61.id==p.user1Id?p.user2Id:p.user1Id,c={id:p.id,messages:p.messages,lastMessageAt:p.lastMessageAt,isFavorite:u.u61.id==p.user1Id?p.favoriteOfUser1:p.favoriteOfUser2,userId:o,username:u.u61.id==p.user1Id?p.username2:p.username1,country:u.u61.id==p.user1Id?p.country2:p.country1,isActive:G.c71[p.id],isBlocked:G.b67.indexOf(o)!=-1};c.isFavorite&&s++,c.isBlocked&&n++,!(this.f67=="favorite"&&!c.isFavorite)&&(this.f67=="blocked"&&!c.isBlocked||e.push(c))}this.f67=="sort-by-messages"?e.sort((l,p)=>l.messages<p.messages?1:-1):this.f67=="sort-by-username"&&e.sort((l,p)=>l.username===null&&p.username===null?l.userId>p.userId?1:-1:l.username===null?1:p.username===null?-1:l.username.toLowerCase()>p.username.toLowerCase()?1:-1);let r=[];for(let l=(this.p65-1)*this.C61;l<Math.min(this.p65*this.C61,e.length);l++){let p=e[l],o="";p.isActive?o="chat-table-active":p.isBlocked&&(o="chat-table-blocked"),r.push(t("<tr>",{id:"chat_contacts_"+p.id,class:"chat-contact-row cursor-pointer "+o}).append(p.isBlocked?t("<td>",{class:"text-center"}).append(t("<span>",{title:a("chat_user_blocked")}).tooltip({trigger:"hover"}).append('<i class="fa fa-minus-circle chat-blocked text-danger"></i>')):t("<td>",{class:"text-center"}).on("click",()=>this.t64(p.id)).css("width","30px").append(t("<span>",{id:"chat_favorite_"+p.id,class:"chat-favorite "+(p.isFavorite?"active":"")}).append('<i class="fa fa-star"></i>')),t("<td>").on("click",()=>Qt.s79(p.userId)).append(b.m106(p.userId,p,"right",null,!0)),t("<td>",{class:"text-nowrap"}).on("click",()=>Qt.s79(p.userId)).append('<img src="/img/chat/envelope.svg" class="chat-contacts-envelope"/>',p.messages),t("<td>",{class:"text-nowrap"}).on("click",()=>Qt.s79(p.userId)).append(p.lastMessageAt?t("<span>").append('<img src="/img/chat/clock.svg" class="chat-contacts-envelope"/>',F.g203(p.lastMessageAt,!0,!0)):"")))}if(r.length>0){if(r.length<this.C61){let p=r.length;for(let o=0;o<this.C61-p;o++){let c=t("<tr>",{class:"chat-contact-row"});for(let f=0;f<r[0].children().length;f++)c.append(t("<td>").html("&nbsp;"));r.push(c)}}let l={"sort-by-date":a("chat_sort_by")+a(": ")+a("chat_sort_by_date"),"sort-by-messages":a("chat_sort_by")+a(": ")+a("chat_sort_by_messages"),"sort-by-username":a("chat_sort_by")+a(": ")+a("chat_sort_by_username"),favorite:a("chat_contacts_favorite"),blocked:a("chat_contacts_blocked")};t("#chat_contacts").append(this.c73.length>10&&a("chat_sort_by_date")?t("<div>",{class:"dropdown"}).css("margin-top","-5px").append(t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(l[this.f67],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75("sort-by-date")).html(l["sort-by-date"])),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75("sort-by-messages")).html(l["sort-by-messages"])),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75("sort-by-username")).html(l["sort-by-username"])),s>0?t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75("favorite")).html(l.favorite)):"",n>0?t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75("blocked")).html(l.blocked)):"")):"",t("<table>",{class:"table table-bordered width-auto"}).css("margin","10px 0").append(r)),e.length>this.C61&&(t("#chat_contacts").append(t("<ul>",{id:"chat_contacts_pagination",class:"pagination pagination-sm noselect no-margin"})),ve.u114(t("#chat_contacts_pagination"),{totalPages:Math.ceil(e.length/this.C61),startPage:this.p65,onPageClick:(p,o)=>{this.p65=o,this.r82()}}))}x.r226()}static t64(e){let s=this.c73.filter(r=>r.id==e)[0],n=!t("#chat_favorite_"+s.id).hasClass("active");u.u61.id==s.user1Id?s.favoriteOfUser1=n:s.favoriteOfUser2=n,y.c203("ChatController.setFavoriteOfWsAction",[s.id,n]),t("#chat_favorite_"+s.id).toggleClass("active"),t("#chat_contacts_remove_"+s.id).toggleClass("hide")}static c75(e){this.p65=1,this.f67=e,this.r82()}};var ye=class{static g172(e,s){return!u.u61||!u.u61.storage?s||null:u.u61.storage[e]?["boolean","number","string"].indexOf(typeof u.u61.storage[e])!=-1?u.u61.storage[e]:JSON.parse(JSON.stringify(u.u61.storage[e])):s||null}static h66(e){return u.u61&&u.u61.storage&&u.u61.storage[e]}static s142(e,s){u.u61||(u.u61={}),u.u61.storage||(u.u61.storage={}),u.u61.storage[e]=s,v.s181||y.m109("StorageController.updateStorageWsAction",[u.u61.storage],()=>{})}};var Bs=class{static r86(){let e=Object.values(i.C165),s=[];return i.G133.indexOf(u.u61.id)!=-1&&s.push(i.C104,i.C109,i.C105,i.C110,i.C108),u.u61.eliteAt&&s.push(i.C111),R.g256()==i.E110&&s.push(i.C106),s.push(i.C107,i.C103,i.C102,i.C101),t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-4 col-xs-12"}).append(this.r82(e)),t("<div>",{class:"col-md-4 col-xs-12"}).append(this.r82(s)))}static r82(e){let s=[];for(let n=0;n<e.length;n++){let r=e[n],l=ht.g70().indexOf(r)!=-1;s.push(t("<tr>",{class:"cursor-pointer "+(l?"chat-table-active":"darkgray")}).on("click",()=>this.t65(r)).append(t("<td>",{class:"text-center"}).css("width","30px").append(l?'<i class="fa fa-eye"></i>':'<i class="fa fa-eye-slash"></i>'),t("<td>").append(ht.g72(r),"&nbsp;&nbsp;",ht.g71(r))))}return t("<table>",{class:"table table-bordered chat-table"}).append(s)}static t65(e){let s=ht.g70();s.indexOf(e)==-1?s.push(e):s.splice(s.indexOf(e),1),ye.s142("activeChannels",s),t("#"+G.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),G.i68()}};var le=class _{static u72={};static m68={};static c78(e){let s=t("<li>",{id:"chat_tab_"+e,role:"presentation",class:"chat-tab "+(e==G.a74?"active":"")}).append(t("<a>",{href:"javascript:void(0)",class:e<i.C115||e==G.n61?"chat-tab-global":""}).append(ht.g72(e),t("<span>",{id:"chat_tab_count_"+e})).on("click",()=>this.s80(+e))),n=ht.g71(e);return n&&!k.i90()&&s.popover({trigger:"hover",placement:"top",html:!0,content:n}),s}static u73(){this.u72={},this.m68={};let e=0,s=!1,n=0;for(let r in G.c71){let l=u.u61.id==G.c71[r].user1Id?"viewedAtByUser1":"viewedAtByUser2",p=G.c71[r][l]?new Date(G.c71[r][l]):null;this.u72[r]=0;for(let o=G.m62[r].length-1;o>=0;o--){let c=G.m62[r][o];if(!(c.userId==u.u61.id||G.b67.indexOf(c.userId)!=-1))if(p===null)this.u72[r]++,r<=i.C115&&c.message.indexOf('data-id="'+u.u61.id+'"')!=-1&&(this.m68[r]=1,s=!0);else if(new Date(c.createdAt)>p)this.u72[r]++,r<=i.C115&&c.message.indexOf('data-id="'+u.u61.id+'"')!=-1&&(this.m68[r]=1,s=!0);else break}r<=i.C115?[i.C105].indexOf(parseInt(r))==-1&&(e+=this.u72[r]):n+=this.u72[r],t("#chat_tab_count_"+r).empty(),this.u72[r]>0?r>i.C115?t("#chat_tab_count_"+r).append(t("<strong>",{class:"chat-unread"}).append("("+this.u72[r]+")")):t("#chat_tab_count_"+r).append(" (",this.u72[r],")",this.m68[r]?'<i class="fa fa-circle new-mention-icon"></i>':""):r>i.C115&&r!=G.n61&&t("#chat_tab_count_"+r).append(t("<span>").append(t("<button>",{class:"close chat-close"}).on("click",o=>this.c79(r,o)).html("\xD7")))}e>=i.C112&&(e=i.C112+"+"),s?s='<i class="fa fa-circle new-mention-icon"></i>':s="",n==0?t(".menu_chat_count").html("("+e+")"+s):t(".menu_chat_count").html("("+e+")"+s+" +"+n+'<img src="/img/chat/envelope.svg" class="chat-menu-envelope">')}static s80(e){if(G.c71[e]){let s=u.u61.id==G.c71[e].user1Id?"viewedAtByUser1":"viewedAtByUser2",n=G.c71[e][s]?new Date(G.c71[e][s]):null,r=t("#chat_channel_"+e).children(".chat-hr-wrapper");for(let l=0;l<r.length;l++){let p=t(r[l]);new Date(p.data("createdAt"))<n&&p.remove()}}e!=G.a74&&(G.p64=G.a74,G.a74=e,t(".chat-tab").removeClass("active"),t("#chat_tab_"+G.a74).addClass("active"),t(".chat-messages").hide(),ht.r79(G.a74),t("#chat_channel_"+G.a74).show(),ht.s76(G.a74),G.m64(G.a74),_.u73())}static c79(e,s){s.stopPropagation!==void 0&&s.stopPropagation(),y.c203("ChatController.closeChannelWsAction",[e]),delete G.m62[e],delete G.c71[e],t("#chat_tab_"+e).remove(),t("#chat_channel_"+e).remove(),t("#chat_contacts_"+e).removeClass("chat-table-active"),G.a74==e&&(G.p64&&G.p64!=e?this.s80(+G.p64):(ht.r80(),G.re()))}};var ht=class{static r78(){let e=this.g69(),s=this.g70();for(let r=0;r<e.length;r++)s.indexOf(e[r])==-1&&e.splice(r--,1);let n=[];for(let r in G.c71)r<i.C115||+r==G.n61||n.push(+r);n.sort((r,l)=>{let p=G.c71[r],o=G.c71[l],c=u.u61.id==p.user1Id?p.user2Id:p.user1Id,f=u.u61.id==o.user1Id?o.user2Id:o.user1Id,h=u.u61.id==p.user1Id?p.username2:p.username1,g=u.u61.id==o.user1Id?o.username2:o.username1;return h&&g?g.toLowerCase()>h.toLowerCase()?-1:1:h&&!g?-1:!h&&g?1:f-c}),e=e.concat(n);for(let r=0;r<e.length;r++){let l=e[r];l==i.C102&&(l=G.n61),t("#chat_tabs").append(le.c78(l)),t("#chat_messages").append(this.c72(l))}this.r79(G.a74),this.s76(G.a74),G.m64(G.a74),le.u73()}static c72(e){let s=t("<div>",{id:"chat_channel_"+e,class:"chat-messages"});return e!=G.a74&&s.hide(),s}static r79(e){let s=t("#chat_channel_"+e);if(e==i.C100){t("#chat_send_message").hide(),s.empty().append(Bs.r86());return}else if(e==i.C101){t("#chat_send_message").hide(),Ze.r81(s);return}else if([i.C103,i.C109].indexOf(e)!=-1&&i.A121.indexOf(u.u61.id)==-1)t("#chat_send_message").hide();else if(t("#chat_send_message").show(),e>=i.C115&&G.c71[e]){let p=G.c71[e],o=u.u61.id==p.user1Id?p.user2Id:p.user1Id;o==i.W84&&!u.p61?(n=G.m62[e],(!n||n.length==0)&&t("#chat_send_message").hide()):o==i.M89&&t("#chat_send_message").hide()}if(G.i67[e])return;let n=G.m62[e];n.length>=i.C112&&(s.append(t("<div>",{id:"chat_load_more_"+e,class:"chat-load-more"}).append(a("loading")+"...")),s.on("scroll",p=>{p.target.scrollTop<=G.L61&&setTimeout(()=>{G.l63||(G.l63=!0,y.c203("ChatController.loadMoreWsAction",[e,G.m62[e][0].id]))},G.L62)})),s.on("scroll",p=>{p.target.scrollTop+p.target.offsetHeight+25>=p.target.scrollHeight&&(G.m63||(G.m63=!0,G.m64(e),le.u73(),setTimeout(()=>{G.m63=!1},G.M61)))});let r=u.u61.id==G.c71[e].user1Id?"viewedAtByUser1":"viewedAtByUser2",l=G.c71[e][r]?new Date(G.c71[e][r]):null;for(let p=0,o=!1;p<n.length;p++){let c=n[p];!o&&l!==null&&new Date(c.createdAt)>l&&c.userId!=u.u61.id&&(p!=0&&s.append(t("<div>",{class:"chat-hr-wrapper"}).data({createdAt:new Date(c.createdAt).toISOString()}).on("click",()=>t(".chat-hr-wrapper").remove()).append(t("<hr>",{class:"chat-hr"}))),o=!0),s.append(Qt.c76(c,p>10))}G.i67[e]=!0,G.f66()}static s76(e){if(e==i.C100||e==i.C101)return;let s=document.getElementById("chat_channel_"+e);s&&(s.scrollTop=s.scrollHeight-s.clientHeight)}static s77(){if(!G.c71)return;let e=this.g69();for(let s=0;s<e.length;s++)if(G.c71[e[s]]&&le.u72[e[s]]>0){G.a74=e[s];return}for(let s in G.c71)if(s>=i.C115&&le.u72[s]>0){G.a74=s;return}}static r80(){let e=this.g69();for(let s=0;s<e.length;s++)if(G.c71[e[s]]){G.a74=e[s];return}G.a74=i.C100}static g69(){let e=[];for(let s in i.C165)e.push(i.C165[s]);return i.G133.indexOf(u.u61.id)!=-1&&e.push(i.C104,i.C109,i.C105,i.C110,i.C108),u.u61.eliteAt&&(e[0]==i.C165.en?e.splice(1,0,i.C111):e.push(i.C111)),R.g256()==i.E110&&e.push(i.C106),e.push(i.C107,i.C103,i.C102,i.C100,i.C101),e}static g70(e){let s=ye.g172("activeChannels");if(!s){if(s=[i.C165.en],v.l85=="en"){let n=v.g229();n&&n!="en"&&i.C165[n]&&s.push(i.C165[n])}else s.push(i.C165[v.l85]);s.push(i.C111,i.C106,i.C103,i.C107,i.C102,i.C100)}if(s.indexOf(i.C100)==-1&&(s.push(i.C100),ye.s142("activeChannels",s)),e)for(let n=0;n<s.length;n++)s[n]<i.C114&&s.splice(n--,1);return s}static g71(e){if(e){if(e==i.C100)return a("chat_settings");if(e==i.C101)return a("chat_contact_list");if(e==i.C102||e==G.n61)return a("chat_notes");if(e==i.C103)return a("chat_updates");if(e==i.C107)return a("chat_trading");if(e==i.C106)return a("event_title_"+R.g257());if(e==i.C111)return a("emc_title_short");if(e==i.C104)return"GM";if(e==i.C109)return"GM Updates";if(e==i.C105)return"Log";if(e==i.C108)return"Voting";if(e==i.C110)return"Alert";if(Object.values(i.C165).indexOf(e)!=-1){let s=Object.keys(i.C165).filter(n=>i.C165[n]===e)[0];return i.A123[s].text}}else return Q("All chats");return""}static g72(e){if(e){if(e==i.C100)return t("<img>",{src:"/img/chat/settings.svg",height:"16"});if(e==i.C101)return t("<img>",{src:"/img/chat/contact.svg",height:"16"});if(e==i.C102||e==G.n61)return t("<img>",{src:"/img/chat/notes.svg",height:"16"});if(e==i.C103)return t("<img>",{src:"/img/chat/updates.svg",height:"16"});if(e==i.C107)return t("<img>",{src:"/img/chat/trading.svg",height:"16"});if(e==i.C106)return t("<img>",{src:"/img/chat/friends.svg",height:"18"}).css({"margin-top":"-1px","margin-bottom":"-1px"});if(e==i.C111)return t("<img>",{src:"/img/chat/elite.svg",height:"17"}).css({"margin-top":"-1px","margin-bottom":"0px"});if(e==i.C104)return t("<img>",{src:"/img/chat/gm.svg?v2",height:"16"});if(e==i.C109)return t("<img>",{src:"/img/chat/gmupdates.svg",height:"16"});if(e==i.C105)return t("<img>",{src:"/img/chat/log.svg?v2",height:"16"});if(e==i.C108)return t("<img>",{src:"/img/chat/voting.svg",height:"16"});if(e==i.C110)return t("<img>",{src:"/img/chat/alert.png",height:"16"});if(Object.values(i.C165).indexOf(e)!=-1){let s=Object.keys(i.C165).filter(r=>i.C165[r]===e)[0],n=s=="en"?"gb.png":i.A123[s].flag;return t("<img>",{src:u.f62(n.substring(0,2)),class:"player-flag-no-margin"})}else{let s=G.c71[e],n=u.u61.id==s.user1Id?s.user2Id:s.user1Id,r=u.u61.id==s.user1Id?s.username2:s.username1,l=u.u61.id==s.user1Id?s.country2:s.country1;return t("<span>").append(t("<img>",{src:u.f62(l),class:"player-flag"}),t("<span>").text(b.g225(n,r)))}}else return t("<img>",{src:"/img/chat/all-chats.svg",height:"16"})}};var G=class _{static $="ChatBlock";static a74=null;static p64=null;static c71=null;static m62=null;static b67=null;static a75=null;static n61=null;static u70=null;static s70=null;static i67={};static l63=!1;static m63=!1;static d64=null;static n62="";static L61=37;static L62=200;static M61=1e3;static i68(){let e=ht.g70(!0),s=ht.g70(!1).indexOf(i.C102)!=-1,n=ht.g69();for(let r=0;r<e.length;r++)n.indexOf(e[r])==-1&&e.splice(r--,1);y.c203("ChatController.initChatWsAction",[e,s])}static i69(e,s,n,r,l,p,o,c){this.c71=e,this.m62=s,this.b67=n,this.a75=r,this.n61=l,this.u70=p,this.s70=o,this.a74===null&&ht.r80(),t("#"+this.$).is(":visible")&&this.re(),le.u73(),c&&(tt.t81=a("chat_too_many_tabs"),tt.c136=null,tt.s143())}static re(){H.u74({title:a("seo_title_chat"),description:a("seo_description_chat"),hiddenSeo:!0}),this.i67={};let e="";if(this.u70!==null&&(this.u70>=this.s70||i.G133.indexOf(u.u61.id)!=-1?e=t("<form>",{id:"chat_send_message"}).on("submit",()=>!1).append(t("<table>",{class:"chat-send-table"}).append(t("<tr>").append(t("<td>",{id:"chat_new_message_wrapper",class:"chat-send-table-left-column"}).append(t("<input>",{id:"chat_new_message",type:"text",class:"form-control chat-input",maxlength:i.A121.indexOf(u.u61.id)==-1?i.C113:1e6,autocomplete:"off"}).val(this.n62)),t("<td>",{class:"chat-send-table-right-column"}).append(t("<button>",{id:"chat_send_button",class:"btn btn-default chat-button","data-loading-text":a("loading")+"..."}).on("click",()=>this.s72()).html(a("chat_send_button")))))):e=t("<div>",{class:"chat-rank_required"}).append(a("chat_rank_required",{"%rank%":'<span id="chat_rank_required"></span>',"support@minesweeper.online":'<a href="mailto:support@minesweeper.online">support@minesweeper.online</a>'}))),t("#"+this.$).empty().append(t("<ul>",{id:"chat_tabs",class:"nav nav-tabs"}),t("<div>",{id:"chat_messages"}),e),t("#chat_rank_required").append(b.m107(this.s70,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(this.s70))))),e)if(this.n62.indexOf(`
`)!=-1||k.i90())this.s71(this.n62);else{let s=document.getElementById("chat_new_message");s&&(s.addEventListener("paste",n=>{if(n.clipboardData&&n.clipboardData.getData&&n.clipboardData.getData("text/plain")&&n.clipboardData.getData("text/plain").indexOf&&n.clipboardData.getData("text/plain").indexOf(`
`)!=-1){n.stopPropagation(),n.preventDefault();let r=n.clipboardData.getData("text/plain"),l=t("#chat_new_message").val();this.s71(l+r),t("#chat_new_message").focus()}}),t("#chat_new_message").on("change",()=>{this.n62=t("#chat_new_message").val()}),t("#chat_new_message").on("keydown",n=>{if(n.keyCode==13&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)){let r=t("#chat_new_message").val();this.s71(r),t("#chat_new_message").focus()}}))}this.m62===null?t("#chat_messages").append('<img src="/img/loading_big.gif"  class="loading-big"/>'):ht.r78(),this.f66()}static s71(e){t("#chat_new_message_wrapper").empty().append(t("<textarea>",{id:"chat_new_message",type:"text",class:"form-control chat-input chat-textarea",maxlength:i.A121.indexOf(u.u61.id)==-1?i.C113:1e6,autocomplete:"off"}).val(e)),this.n62=e,t("#chat_new_message").on("change",()=>{this.n62=t("#chat_new_message").val()})}static f66(){dt.h78(),x.r226(),v.l85=="ru"&&(t(".chat-en").addClass("hide"),t(".chat-ru").removeClass("hide"))}static s72(e,s){s=s||this.a74;let n=t("#chat_new_message").val();if(n){if(n.indexOf("jspaint.app/#local")!=-1||n.indexOf("minesweeper.online/paint/#local")!=-1){tt.t81=a("game_link_to_editor_message"),tt.c136=null,tt.s143();return}if(n.indexOf("/trade/")!=-1&&s<i.C115&&s!=i.C107){tt.t81=a("chat_trade_not_allowed"),tt.c136=null,tt.s143();return}y.c203("ChatController.sendMessageWsAction",[s,n]),Ze.n65=!0}}static m64(e){if(!this.c71[e])return;y.c203("ChatController.viewChannelWsAction",[e]);let s=u.u61.id==this.c71[e].user1Id?"viewedAtByUser1":"viewedAtByUser2";this.c71[e][s]=new Date(F.s175()+1e3).toISOString()}static l64(e,s,n){this.m62[e]=s.concat(this.m62[e]);let r=t("#chat_load_more_"+e);s=s.reverse();for(let o=0;o<s.length;o++)Qt.c76(s[o],!1).insertAfter(r);s.length<i.C112&&r.remove();let l=document.getElementById("chat_channel_"+e),p=document.getElementById("message_"+n);if(l){let o=window.getComputedStyle(l,null);l.scrollTop=p.offsetTop-l.offsetTop-parseInt(o.paddingTop)-this.L61}this.l63=!1,this.f66()}static r77(e,s,n){if(n){if(this.m62[s]!==void 0){for(let r=0;r<this.m62[s].length;r++)if(this.m62[s][r].id==e){this.m62[s][r].isDeleted=1,t("#message_"+e).replaceWith(Qt.c76(this.m62[s][r],!0));break}}}else this.m62[s]!==void 0&&(this.m62[s]=this.m62[s].filter(r=>r.id!=e)),t("#message_"+e).remove(),le.u73();t("#chat_history_message_"+e).empty().append(t("<span>",{class:"gray"}).html(a("chat_message_removed")))}static m65(e,s,n){if(this.m62[s]!==void 0){for(let r=0;r<this.m62[s].length;r++)if(this.m62[s][r].id==e){this.m62[s][r].isMarked=n,n?t("#chat_mark_"+e).addClass("chat-mark-icon-marked"):t("#chat_mark_"+e).removeClass("chat-mark-icon-marked");break}}}static g68(e,s){for(let n in this.c71)if(n<i.C115)for(let r=0;r<this.m62[n].length;r++){let l=this.m62[n][r];l.userId==e&&(l.bannedTo=Date.now()+24*60*60*1e3,s&&(l.username=null),t("#message_"+l.id).replaceWith(Qt.c76(l,!0)))}}static n63(e){if(this.m62[e.channelId].push(e),e.userId==u.u61.id&&(t("#chat_send_button").button("reset"),t("#chat_new_message").prop("disabled",!1).val(""),this.n62=""),t("#"+this.$).is(":visible")&&this.i67[e.channelId]){let s=t("#chat_channel_"+e.channelId),n=!1;if(!s.is(":visible")&&e.userId!=u.u61.id){n=!0;let r=u.u61.id==_.c71[e.channelId].user1Id?"viewedAtByUser1":"viewedAtByUser2",l=_.c71[e.channelId][r]?new Date(_.c71[e.channelId][r]):null,p=s.children(".chat-hr-wrapper");for(let o=0;o<p.length;o++){let c=t(p[o]);new Date(c.data("createdAt"))<l?c.remove():n=!1}}s.append(n?t("<div>",{class:"chat-hr-wrapper"}).data({createdAt:new Date(e.createdAt).toISOString()}).on("click",()=>t(".chat-hr-wrapper").remove()).append(t("<hr>",{class:"chat-hr"})):"",Qt.c76(e,!0)),s.is(":visible")&&(e.userId==u.u61.id||s[0].scrollTop+s[0].offsetHeight+50>=s[0].scrollHeight||s[0].clientHeight>=s[0].scrollHeight)&&(ht.s76(e.channelId),this.m64(e.channelId)),this.f66()}le.u73()}static n64(e,s,n){this.m62[e.id]=s,this.c71[e.id]=e,n&&!(this.d64&&this.d64.indexOf("/friend-quest/")!=-1)?(this.p64=this.a74,this.a74=e.id,t("#"+this.$).is(":visible")?this.re():x.n81("chat",!0)):t("#chat_tab_"+e.id).length==0&&(t("#chat_tabs").append(le.c78(e.id)),t("#chat_messages").append(ht.c72(e.id)),ht.r79(e.id),le.u73()),this.d64&&(y.c203("ChatController.sendMessageWsAction",[e.id,this.d64]),this.d64=null)}static w61(e,s){t("#chat_send_button").button("loading"),t("#chat_new_message").prop("disabled",!0);let n=setInterval(()=>{s-=1e3,t("#chat_send_button").html(a("chat_wait_message")+" ("+Math.ceil(s/1e3)+")")},1e3);setTimeout(()=>{clearInterval(n),this.s72(null,e)},s)}static i70(){tt.t81=a("server_block_ip"),tt.c136=null,tt.s143()}static u71(e){tt.t81=a("chat_channel_is_blocked",{"%time%":F.g202(e,!0)}),tt.c136=null,tt.s143()}static s73(e,s){this.d64="https://"+J.g287(V.e97)+"/exchange/"+s,y.c203("ChatController.createChannelWsAction",[e])}static s74(e,s,n){this.d64=s+`
https://`+J.g287(V.e97)+"/friend-quest/"+n,y.c203("ChatController.createChannelWsAction",[e])}static s75(e,s,n,r,l,p,o){this.d64=Qt.c77(s,n,r,l,p,o),y.c203("ChatController.createChannelWsAction",[e])}static a76(e){let s=t("#chat_new_message").val();s?s+=" "+e:s+=e,t("#chat_new_message").val(s).focus()}};var Je=class{static $="SessionsBlock";static i64=null;static re(){H.u74({title:this.i64}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("AdminController.getSessionsWsAction",[this.i64],this.r61.bind(this))}static r61(e,s,n){let r=[];for(let l=0;l<e.length;l++){let p=e[l];r.push(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(t("<input>",{type:"checkbox",class:"ban-checkbox"}).prop("disabled",p.exp>=1e5||!p.exp).data("userId",p.userId)),t("<td>",{class:"text-nowrap"}).append(b.m106(p.userId,p,"right")),t("<td>",{class:"text-nowrap"}).append(p.exp?t("<span>",{class:p.exp>=1e5?"bold":""}).append(b.g228(p.exp,!0)):""),t("<td>",{class:"text-nowrap"}).append(F.g203(p.firstVisitAt,!0,!0,!0),"<br/>",F.g204(p.firstVisitAt,!1)),t("<td>",{class:"text-nowrap"}).append(p.firstVisitAt!=p.lastVisitAt?t("<div>").append(F.g203(p.lastVisitAt,!0,!0,!0),"<br/>",F.g204(p.lastVisitAt,!1)):""),t("<td>",{class:"text-nowrap"}).append(p.fingerprint?this.r66(p.fingerprint):""),t("<td>",{class:"text-nowrap"}).append(p.useragents.join("<br/>")),t("<td>",{class:"text-nowrap"}).append(p.bans>0?t("<span>",{class:"label label-danger"}).append(p.bans):""),t("<td>",{class:"text-nowrap"}).append(p.deletedBy?t("<span>",{class:"label label-danger"}).append(p.deletedBy==p.userId?"Self-deleted":"Account deleted"):"")))}if(t("#"+this.$).html("").append(t("<h2>").append(this.i64),'<hr class="shop-hr"/>'),e.length>0){let l=e[0];t("#"+this.$).append(t("<img>",{src:u.f62(l.country),class:"player-flag"}),a(l.country)," / ",t("<a>",{href:"https://www.google.com/maps/search/"+(a(l.country)+" "+l.city).replace(" ","+"),target:"_blank"}).append(l.city))}s||t("#"+this.$).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<button>",{id:"bun_btn",type:"button",class:"btn btn-xs btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.a64()).html('<i class="fa fa-fire"></i> Add chat IP ban (1 day)')),n||t("#"+this.$).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<button>",{id:"website_bun_btn",type:"button",class:"btn btn-xs btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.a65()).html('<i class="fa fa-ban"></i> Add website IP ban (7 days)')),t("#"+this.$).append("<br/>","<br/>"),s&&t("#"+this.$).append("Chat ban until: ",t("<strong>",{class:"text-danger"}).append(F.g202(s)),"<br/>","<br/>"),n&&t("#"+this.$).append("Website ban until: ",t("<strong>",{class:"text-danger"}).append(F.g202(n)),"<br/>","<br/>"),r.length>0&&t("#"+this.$).append(t("<table>",{class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<th>"),t("<th>").append("Player"),t("<th>").append("XP"),t("<th>").append("First visit"),t("<th>").append("Last visit"),t("<th>").append("Fingerprint"),t("<th>").append("Useragent"),t("<th>").append("Chat bans"),t("<th>").append("Account status")),r),t("<button>",{class:"btn btn-default btn-xs"}).on("click",()=>this.s64()).append("Select all players < 100K exp"),"&nbsp;","&nbsp;",t("<button>",{class:"btn btn-danger btn-xs"}).on("click",()=>this.d62()).append("Delete selected")),x.r226()}static r66(e){let s=t("<div>");return s.append(t("<abbr>",{title:"Browser ID (different for incognito mode)"}).tooltip({trigger:"hover"}).text(e.deviceId)," | ",t("<abbr>",{title:"Language"}).tooltip({trigger:"hover"}).text(e.language)," | ",t("<abbr>",{title:"Timezone offset"}).tooltip({trigger:"hover"}).text((e.timezoneOffset<0?"+":"")+-1*Math.round(e.timezoneOffset/60))," | ",t("<abbr>",{title:"Pixel ratio"}).tooltip({trigger:"hover"}).text((e.pixelRatio+"").substring(0,3)),"<br/>",t("<abbr>",{title:"Screen size"}).tooltip({trigger:"hover"}).text(e.screenSize)," | ",t("<abbr>",{title:"Window outer size"}).tooltip({trigger:"hover"}).text(e.windowOuterSize)," | ",t("<abbr>",{title:"Window inner size"}).tooltip({trigger:"hover"}).text(e.windowInnerSize)),s}static s64(){t(".ban-checkbox").each((e,s)=>{s=t(s),s.prop("disabled")||s.prop("checked",!0)})}static d62(){let e=t(".ban-checkbox"),s=[];for(let n=0;n<e.length;n++){let r=t(e[n]);r.prop("checked")&&s.push(r.data("userId"))}if(s.length==0){alert("No players selected");return}Yt.u61=null,Yt.u118=s,Yt.g118=null,Yt.s143()}static a64(){confirm("Are you sure to add chat ban by IP "+this.i64+" ?")&&(t("#bun_btn").button("loading"),y.m109("AdminController.addChatIpBanWsAction",[this.i64],()=>{this.re()}))}static a65(){confirm("Are you sure to add WEBSITE BAN by IP "+this.i64+" ?")&&(t("#website_bun_btn").button("loading"),y.m109("AdminController.addWebsiteIpBanWsAction",[this.i64],()=>{this.re()}))}};var Yt=class{static $="CheatingDialog";static u61=null;static u118=null;static g118=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=!1;(Wt.u63<i.A120||i.A121.indexOf(u.u61.id)!=-1)&&(e=!0),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(this.u61?t("<h4>",{class:"modal-title"}).append(e?"Delete account: ":"Cheating request: ",b.m106(this.u61.id,this.u61,"right")):"",this.u118?t("<h4>",{class:"modal-title"}).append("Delete accounts: "+this.u118.join(", ")):"")),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(this.g118?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Game:"),t("<div>",{class:"col-xs-7 form-text"}).append(this.g118)):"",t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Comment (optional):"),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"cheat_comment",class:"form-control"}))),this.u118?"":t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4"}).append(),t("<div>",{class:"col-xs-7"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"cheat_ip_ban",type:"checkbox"}).prop("checked",!0),t("<span>").append("Ban IP address (recommended for bots)")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}),t("<div>",{class:"col-xs-6"}).append(e?t("<div>").append(this.u61?'<strong class="text-danger">The player will be permanently deleted.</strong>':'<strong class="text-danger">All the players will be permanently deleted.</strong>',"<br/>","<br/>"):"",e?t("<button>",{id:"bun_btn",type:"button",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.r62(e)).html('<i class="fa fa-ban"></i> Delete account'+(this.u118?"s ("+this.u118.length+")":"")):t("<button>",{id:"bun_btn",type:"button",class:"btn btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.r62(e)).html('<i class="fa fa-ban"></i> Report cheating'))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}static r62(e){let s;if(this.u118?s="Are you sure to delete accounts ("+this.u118.length+")?":s=e?"Are you sure to delete account "+this.u61.id+"?":"Are you sure to report cheating for player "+this.u61.id+"?",confirm(s)){t("#bun_btn").button("loading");let n=t("#cheat_comment").val(),r=t("#cheat_ip_ban").prop("checked");y.m109("AdminController.reportCheatingWsAction",[this.u118?this.u118.join(","):this.u61.id,this.g118,n,r],this.r180.bind(this))}}static r180(e){alert(e?"Player was deleted.":"Request was sent."),t("#"+Wt.$).is(":visible")&&Wt.re(),t("#"+Je.$).is(":visible")&&Je.re(),t("#"+this.$).modal("hide"),t("#report_cheating_btn").remove()}};var me=class{static s174=!1;static t104=!1;static w67=!1;static p94(){if(typeof gtag<"u"){let e=location.pathname;e.indexOf(v.l86+"/game")==0&&(e=v.l86+"/game"),gtag("event","page_view",{page_location:"https://minesweeper.online"+e,page_path:e})}}static n78(){typeof gtag<"u"&&gtag("event","register",{event_category:"user"})}static g194(){typeof gtag<"u"&&u.i62&&!this.s174&&(gtag("event","start",{event_category:"user"}),this.s174=!0)}static g195(){typeof gtag<"u"&&u.i62&&!this.t104&&(gtag("event","try",{event_category:"user"}),this.t104=!0)}static g196(){typeof gtag<"u"&&u.i62&&!this.w67&&(gtag("event","win",{event_category:"user"}),this.w67=!0)}};var Te=class{static $="SignUpDialog";static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=u.s62;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<form>").on("submit",s=>{s.preventDefault(),this.s157()}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("profile_sign_up_title"))),t("<div>",{class:"modal-body"}).append(i.i141(navigator.userAgent)?"":t("<div>",{class:"gray text-center"}).append(a("profile_register_message"),"<br/>","<br/>"),t("<div>",{class:"row"}).append(t("<div>",{class:"col-xs-offset-2 col-xs-8"}).append(t("<a>",{href:"https://minesweeper.online/social/google/login/"+e,class:"btn btn-sm btn-block btn-social btn-google"}).append(t("<span>",{class:"fa fa-google"}),a("profile_sign_up_with",{"%app%":"Google"})))),"<hr/>",t("<div>",{class:"text-center"}).css("margin-bottom","25px").append(t("<strong>").append(a("profile_or_sign_up_with_username"))),t("<div>",{class:"form-horizontal"}).append(t("<div>",{id:"sign_up_username_group",class:"form-group"}).append(t("<label>",{for:"sign_up_username",class:"col-xs-4 control-label"}).html(a("profile_username")+'<span class="text-danger">*</span>'),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_up_username",type:"text",class:"form-control",required:"required"}),t("<span>",{id:"sign_up_username_help",class:"help-block"}))),t("<div>",{id:"sign_up_email_group",class:"form-group"}).append(t("<label>",{for:"sign_up_email",class:"col-xs-4 control-label"}).html(a("profile_email")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_up_email",type:"email",class:"form-control"}),t("<span>",{id:"sign_up_email_help",class:"help-block"}))),t("<div>",{id:"sign_up_password_group",class:"form-group"}).append(t("<label>",{for:"sign_up_password",class:"col-xs-4 control-label"}).html(a("profile_password")+'<span class="text-danger">*</span>'),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_up_password",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"sign_up_password_help",class:"help-block"}))),t("<div>",{id:"sign_up_password_repeat_group",class:"form-group"}).append(t("<label>",{for:"sign_up_repeat_password",class:"col-xs-4 control-label"}).html(a("profile_repeat_password")+'<span class="text-danger">*</span>'),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_up_password_repeat",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"sign_up_password_repeat_help",class:"help-block"}))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{type:"submit",class:"btn btn-success"}).html(a("profile_sign_up_button"))))))),t("#"+this.$).on("shown.bs.modal",()=>{t("#sign_up_username").focus()})}static s157(){t(".form-group").removeClass("has-error"),t(".help-block").html("");let e=[{username:t("#sign_up_username").val(),email:t("#sign_up_email").val(),password:t("#sign_up_password").val(),password_repeat:t("#sign_up_password_repeat").val()}];y.m109("ProfileController.updateProfileWsAction",e,this.s158.bind(this))}static s158(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#sign_up_"+s+"_group").addClass("has-error"),t("#sign_up_"+s+"_help").html(Array.isArray(e[s])?a(e[s][0],e[s][1]):a(e[s])))}else x.n82("profile/reg-success")}};var Nt=class{static l87={};static M68=6e3;static h80(e,s,n){let r=new Date().getTime(),l="https://"+J.g286(V.e97,e)+"/ping";jQuery.ajax({url:l,timeout:this.M68,context:this,success:p=>{p=="OK"?this.s182(e,new Date().getTime()-r,s):this.e61(e,n)},error:()=>{this.e61(e,n)}})}static s182(e,s,n){let r=Math.max(1,s);this.l87[e]!==void 0&&r>this.l87[e]&&(r=Math.round((r+this.l87[e])/2)),this.l87[e]=r,t(".ping-"+e).html(r),t(".ping-full-"+e).html(r+" "+a("time_milliseconds_abbr")),n&&n(r)}static e61(e,s){t(".ping-"+e).html("??"),t(".ping-full-"+e).html(a("settings_ping_error")),s&&s()}};var St=class{static s183=null;static r227=null;static o68=null;static s184=null;static C71=5e3;static i85(e){if(i.i140(navigator.userAgent)){this.s183="_best",this.r227="chic2",e();return}if(this.o68=e,this.s183=U.g172("server","_best"),this.s183!="_best"&&(J.a108[V.e97][this.s183]===void 0||!J.a108[V.e97][this.s183].continent)&&(this.s183="_best"),this.s183=="_best"){let s=this.g236();if(s)for(let n=0;n<s.length;n++){let r=s[n].name,l=J.a108[V.e97][r].extraInstances;if(l){let p=l.slice(0);p.push(r),r=p[Math.random()*p.length|0]}setTimeout(this.p87(r),n*this.C71)}else this.s185()}else{let s=this.s183,n=J.a108[V.e97][s].extraInstances;if(n){let r=n.slice(0);r.unshift(s),s=r[Math.random()*r.length|0]}this.p87(s,!0)()}}static p87(e,s){return()=>{if(!this.r227){t("#init_loading").html('<img src="/img/loading_big.gif" class="loading-big"/>&nbsp;&nbsp;'+a("loading_game_server",{"%server%":J.a108[V.e97][e].name})+"...");let n=()=>{this.r227||(this.r227=e,this.o68())},r=()=>{s&&this.s185()};Nt.h80(e,n,r)}}}static s185(){we.e77=!0,we.s143()}static s186(e){U.s142("server",e)}static g235(){let e=this.g236();return e?e[0].name:null}static g236(){if(!u.g62)return null;if(!this.s184){this.s184=[];for(let e in J.a108[V.e97]){let s=J.a108[V.e97][e];s.role=="game"&&s.continent&&this.s184.push({name:e,distance:this.g237(s.ll[0],s.ll[1],u.g62[0],u.g62[1],s.distanceFactor)})}this.s184.sort((e,s)=>e.distance==s.distance?Math.random()<.5?1:-1:e.distance>s.distance?1:-1)}return this.s184}static g237(e,s,n,r,l){let p=6371,o=this.d78(n-e),c=this.d78(r-s),f=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.d78(e))*Math.cos(this.d78(n))*Math.sin(c/2)*Math.sin(c/2),h=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),g=Math.round(p*h);return l&&g<1200&&(g=g*l),g}static d78(e){return e*(Math.PI/180)}};var we=class{static $="ServerSelectDialog";static e77=!1;static S67=100;static S68=2e3;static s143(){this.re(),this.e77?t("#"+this.$).modal({backdrop:"static",keyboard:!0}):t("#"+this.$).modal("show"),this.p86()}static re(){let e=t("<div>",{class:"servers"}),s=St.g235();s&&e.append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-offset-1 col-xs-10"}).append(t("<label>").append(t("<input>",{type:"radio",name:"server",value:"_best"}).prop("checked",St.s183=="_best")," ",a("settings_server_best_for_me")," (",J.a108[V.e97][s].name,")"))));let n=["EU","AS","NA","SA","AU","AF"];for(let c=0;c<n.length;c++){let f=n[c];e.append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-offset-1 col-xs-4"}).append(t("<strong>").append(a("continent_"+f))),t("<div>",{class:"col-xs-3"}).append(f=="EU"?t("<strong>").append(a("settings_ping"),"&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0);",title:a("settings_ping_update_button")}).on("click",()=>this.u120()).html('<span class="glyphicon glyphicon-refresh refresh-icon"></span>')):"")));for(let h in J.a108[V.e97]){let g=J.a108[V.e97][h];if(g.role=="game"&&g.continent==f){let w=g.country;e.append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-offset-1 col-xs-4"}).append(t("<label>").append(t("<input>",{type:"radio",name:"server",value:h,class:"no-margin"}).prop("checked",h==St.s183),"&nbsp;&nbsp;",t("<img>",{src:u.f62(w),class:"player-flag"}),g.name)),t("<div>",{class:"col-xs-3"}).append(t("<span>",{class:"ping ping-full-"+h}).html(a("loading")+"..."))))}}}let r=this.e77&&!St.s183,l="",p=navigator.userAgent.toLowerCase(),o="";p.indexOf("win")!=-1?o="windows":p.indexOf("mac")!=-1&&(o="macOS"),o&&!i.i141(navigator.userAgent)&&a("settings_app_info")&&(l=t("<div>",{class:"alert alert-info"}).append('<i class="fa fa-info-circle"></i> ',a("settings_app_info",{"%system%":o,"<a>":'<a href-local="app" class="level3-link">'}))),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<form>").on("submit",c=>{c.preventDefault(),this.p63()}).append(t("<div>",{class:"modal-header"}).append(this.e77?"":t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("settings_server_prefered"))),t("<div>",{class:"modal-body"}).append(l,e),t("<div>",{class:"modal-footer"}).append(this.e77?"":t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"server_select_submit",type:"submit",class:"btn btn-primary"}).prop("disabled",r).html(a("settings_server_change_button"))))))),r&&t("input:radio[name=server]").change(()=>this.e78()),x.r226()}static u120(){t(".ping").html(a("loading")+"..."),this.p86()}static p86(){let e=St.g236(),s;if(e)for(let n=0;n<e.length;n++)setTimeout(this.p87(e[n].name),n*this.S67);else{s=0;for(let n in J.a108[V.e97])J.a108[V.e97][n].role=="game"&&setTimeout(this.p87(n),s*this.S67),s++}}static p87(e){return()=>{Nt.h80(e,()=>{setTimeout(()=>{},this.S68)})}}static e78(){t("#server_select_submit").prop("disabled",!1)}static p63(){let e=t("input:radio[name=server]:checked").val();St.s186(e),x.n82("/")}};var xi=class{static $="GamePanelBlock";static s99=!1;static re(){t(".popover").popover("hide");let e=Nt.l87[d.s163]?Nt.l87[d.s163]:"??";t("#"+this.$).empty().append(t("<div>",{class:"row"}).append(this.s99&&k.g119()?t("<div>",{class:"game-panel-ping-block pull-left"}).on("click",()=>we.s143()).append('<i class="fa fa-clock-o"></i> ',t("<span>",{class:"ping-"+d.s163}).html(e)).popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>(e=Nt.l87[d.s163]?Nt.l87[d.s163]:"??",t("<span>").append(a("settings_server")+a(": "),t("<img>",{src:u.f62(J.a108[V.e97][d.s163].country),class:"player-flag"}),J.a108[V.e97][d.s163].name,"<br/>",a("settings_ping")+a(": ")+'<span class="ping-'+d.s163+'">'+e+"</span> "+a("time_milliseconds_abbr")))}):"",t("<div>",{id:"ZoomBlock",class:"pull-left game-panel-zoom-block",title:a("settings_zoom")}).tooltip({trigger:"hover"}),k.g127()?t("<div>",{id:"BrightnessBlock",class:"pull-left hidden-xs game-panel-brightness-block",title:a("settings_brightness")}).tooltip({trigger:"hover"}):"",t("<a>",{"href-local":"settings",class:"pull-left btn btn-default btn-sm game-panel-settings-btn",title:a("settings_title")}).tooltip({trigger:"hover"}).append('<i class="fa fa-cog"></i>'))),ot.re(),k.g127()&&Ve.re(),t("body").remove(".popover"),x.r226()}};var Ss=class{static $="ImgPreloadBlock";static re(){if(i.i140(navigator.userAgent))return;let e=k.g144(),s=[];["xp","xpd"].indexOf(e)!=-1?s=[e+"/type0.png?v=14",e+"/type1.png?v=14",e+"/type2.png?v=14",e+"/type3.png?v=14",e+"/type4.png?v=14",e+"/type5.png?v=14",e+"/type6.png?v=14",e+"/type7.png?v=14",e+"/type8.png?v=14",e+"/type1_yellow.png?v=14",e+"/type2_yellow.png?v=14",e+"/type3_yellow.png?v=14",e+"/type4_yellow.png?v=14",e+"/type5_yellow.png?v=14",e+"/type6_yellow.png?v=14",e+"/type7_yellow.png?v=14",e+"/type8_yellow.png?v=14",e+"/mine.png?v=14",e+"/mine_red.png?v=14",e+"/mine_wrong.png?v=14",e+"/face_lose.png?v=14",e+"/face_pressed.png?v=14",e+"/face_unpressed.png?v=14",e+"/d0.png?v=14",e+"/d1.png?v=14",e+"/d2.png?v=14",e+"/d3.png?v=14",e+"/d4.png?v=14",e+"/d5.png?v=14",e+"/d6.png?v=14",e+"/d7.png?v=14",e+"/d8.png?v=14",e+"/d9.png?v=14",e+"/closed.png?v=14",e+"/pressed.png?v=14",e+"/flag.png?v=14"]:["hd","hdd","hdn"].indexOf(e)!=-1?(s=[e+"/type0.svg?v=14",e+"/type1.svg?v=14",e+"/type2.svg?v=14",e+"/type3.svg?v=14",e+"/type4.svg?v=14",e+"/type5.svg?v=14",e+"/type6.svg?v=14",e+"/type7.svg?v=14",e+"/type8.svg?v=14",e+"/type1_yellow.svg?v=14",e+"/type2_yellow.svg?v=14",e+"/type3_yellow.svg?v=14",e+"/type4_yellow.svg?v=14",e+"/type5_yellow.svg?v=14",e+"/type6_yellow.svg?v=14",e+"/type7_yellow.svg?v=14",e+"/type8_yellow.svg?v=14",e+"/mine.svg?v=14",e+"/mine_red.svg?v=14",e+"/mine_wrong.svg?v=14",e+"/face_lose.svg?v=14",e+"/face_pressed.svg?v=14",e+"/face_unpressed.svg?v=14",e+"/d0.svg?v=14",e+"/d1.svg?v=14",e+"/d2.svg?v=14",e+"/d3.svg?v=14",e+"/d4.svg?v=14",e+"/d5.svg?v=14",e+"/d6.svg?v=14",e+"/d7.svg?v=14",e+"/d8.svg?v=14",e+"/d9.svg?v=14",e+"/closed.svg?v=14",e+"/closed_flag.svg?v=14",e+"/pressed.svg?v=14",e+"/flag.svg?v=14"],k.g128()&&s.push(e+"/type0_check.svg?v=14",e+"/type1_check.svg?v=14",e+"/type2_check.svg?v=14",e+"/type3_check.svg?v=14",e+"/type4_check.svg?v=14",e+"/type5_check.svg?v=14",e+"/type6_check.svg?v=14",e+"/type7_check.svg?v=14",e+"/type8_check.svg?v=14")):e=="nnhd"&&(s=["hd/type0.svg?v=14","nnhd/type1.svg?v=14","nnhd/type2.svg?v=14","nnhd/type3.svg?v=14","nnhd/type4.svg?v=14","nnhd/type5.svg?v=14","nnhd/type6.svg?v=14","nnhd/type7.svg?v=14","nnhd/type8.svg?v=14","nnhd/type1_yellow.svg?v=14","nnhd/type2_yellow.svg?v=14","nnhd/type3_yellow.svg?v=14","nnhd/type4_yellow.svg?v=14","nnhd/type5_yellow.svg?v=14","nnhd/type6_yellow.svg?v=14","nnhd/type7_yellow.svg?v=14","nnhd/type8_yellow.svg?v=14","hd/mine.svg?v=14","hd/mine_red.svg?v=14","hd/mine_wrong.svg?v=14","hd/face_lose.svg?v=14","hd/face_pressed.svg?v=14","hd/face_unpressed.svg?v=14","hd/d0.svg?v=14","hd/d1.svg?v=14","hd/d2.svg?v=14","hd/d3.svg?v=14","hd/d4.svg?v=14","hd/d5.svg?v=14","hd/d6.svg?v=14","hd/d7.svg?v=14","hd/d8.svg?v=14","hd/d9.svg?v=14","hd/closed.svg?v=14","hd/closed_flag.svg?v=14","hd/pressed.svg?v=14","hd/flag.svg?v=14"]);let n="";for(let r=0;r<s.length;r++)n+='<img src="/img/skins/'+s[r]+'"/>';t("#"+this.$).html(n)}};var $t=class _{static U61=30*1e3;static s125=!0;static w64=null;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return{title:a("seo_title_players_online"),description:a("seo_description_players_online"),hiddenSeo:!0}}static r167(e,s){s.append(t("<div>").append(t("<div>",{id:"players_online_count",class:"pull-left"}),t("<a>",{class:"pull-right",href:"javascript:void(0)"}).on("click",()=>this.u109()).append('<span class="glyphicon glyphicon-refresh"></span> '+a("watching_update_button"))),"<br/>")}static g159(){return[{title:a("watching_column_military_rank")},{title:a("watching_column_player")},{title:a("watching_column_score")},{title:a("watching_column_level")},{title:""}]}static g74(){return"100%"}static g80(e,s){return e.level>=i.G89&&(e.level-=i.G89),t("<tr>").append(t("<td>").append(e.score?b.m107(e.score,!0).append(a(et.g279(e.score))):""),t("<td>").append(b.m106(e.userId,e,"right"),e.fromMobile?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append(e.score?b.m108(e,e,0,"left").append(e.score,m.s176(0,"icon-small icon-right")):"\u2014"),t("<td>").append(e.arenaData?t("<div>").append(K.m92(e.arenaData.type,null,"right",e.arenaData.mode).append('<i class="fa fa-ticket ticket ticket-left ticket'+Math.floor((e.arenaData.type-i.A66)/10)+'"></i>'),"L"+(e.arenaData.type-i.A66)%10+(e.arenaData.mode==i.A101?"E":"")+" "+a("arena_title")):t("<div>").append(q.g206(e.level,!0)," ",m.d76(e.curDiff,!0),q.g210(e.level,e.sizeX,e.sizeY,e.mines))),t("<td>").append(t("<button>",{id:"spectate_btn_"+e.userId,class:"btn btn-xs btn-warning spectate","data-loading-text":a("loading")+"..."}).on("click",()=>{t("#spectate_btn_"+e.userId).button("loading"),_.s127(e.userId,e)}).append('<span class="glyphicon glyphicon-eye-open"></span> ',a("watching_spectate_button"))))}static g160(){return{}}static u109(){S.re()}static s126(){y.m109("PlayersOnlineController.getPlayersOnlineCountWsAction",[],this.u110.bind(this)),setInterval(()=>{y.m109("PlayersOnlineController.getPlayersOnlineCountWsAction",[],this.u110.bind(this))},this.U61)}static s127(e,s){Rt.c205.watcher1?(y.w70("WatchingController.startWatchWsAction",[e],this.s128.bind(this)),s.userId=e,this.w64=s):Rt.c208("watcher1",()=>{this.s127(e,s)})}static s128(e,s){bt.j62(e,s)}static c156(e){y.w70("WatchingController.cancelWatchWsAction",[],()=>{}),e&&bt.l83&&y.g188(bt.l83,"GameplayController.leaveGameWsAction",[]),this.w64=null,ki.re()}static u110(e){t("#players_online_count").html(a("watching_players_online",{"%count%":"<strong>"+e+"</strong>"})),t(".menu_players_online").html(" ("+e+")"),this.s125?this.s125=!1:t("#homepage_players_online").html(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}};var ki=class{static $="WatchingMessageBlock";static re(){if(t("#"+this.$).empty(),$t.w64){let e=$t.w64;t("#"+this.$).append(t("<div>",{class:"alert alert-warning"}).append(t("<button>",{type:"button",class:"close",title:a("watching_cancel_spectate_button")}).tooltip({trigger:"hover"}).on("click",()=>$t.c156(!1)).append("<span>&times;</span>"),'<span class="glyphicon glyphicon-eye-open"></span> ',t("<strong>").append(a("watching_spectator_mode")),a(": "),t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country)}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+e.userId}).text(b.g225(e.userId,e.username))))}x.r226()}};var yt=class{static a96=null;static h71=!1;static w66=[];static c194=[];static n76=[];static r195(){this.a96&&this.h73(),this.a96=null,this.h71=!1,this.w66=[],this.c194=[],this.n76=[],v.s181||Et.re()}static r196(e,s,n,r){y.g188(d.s163,"GameplayController.hintWsAction",[d.$,e,s,n,r])}static h72(e,s,n){if(!e){console.log("hint not found");return}if(s){ni.p84(e,s);return}setTimeout(()=>{d.h70.push(e),this.d75(e)},n)}static r197(e){this.d75(e)}static d75(e){let s=!0;if(e.type==i.H85){this.h71=!0,this.h73(),v.s181||Et.re();return}else if(e.type==i.H86){if(this.h71=!1,!this.a96)return;e=this.a96,s=!1}else this.h71=!1,this.a96=e,this.h73();if(e.mineProbs){if(i.i139(d.l65)){console.error("NG mode wrong hint");return}t(".cell").html("");let n={},r=101,l=-1,p,o=-1;for(let c in e.mineProbs){let f=c/d.s165|0,h=c%d.s165;if(t("#cell_"+f+"_"+h).hasClass(O("flag")))continue;let g=e.mineProbs[c];n[g]||(n[g]=0),n[g]++,n[g]>o&&(o=n[g],p=g),g<r&&(r=g),g>l&&(l=g)}for(let c in e.mineProbs){let f=c/d.s165|0,h=c%d.s165;if(t("#cell_"+f+"_"+h).hasClass(O("flag"))||t("#cell_"+f+"_"+h).hasClass(O("type"+i.C75))||t("#cell_"+f+"_"+h).hasClass(O("type"+i.C76))||t("#cell_"+f+"_"+h).hasClass(O("type"+i.C77)))continue;let g=e.mineProbs[c],w;g==p?w=O("cell-prob-median")+" cell-prob-median":g==r?w=O("cell-prob-min")+" cell-prob-min hint-to-open":g==l?w=O("cell-prob-max")+" cell-prob-max":g>p?w=O("cell-prob-high")+" cell-prob-high":g<p&&(w=O("cell-prob-low")+" cell-prob-low");let C=e.mineProbs[c];C>0&&C<=.1?C=.1:C>0&&C<1?(C=Math.round(C*10)/10,C=Math.max(.1,C)):C>99&&C<100?C=99:C=Math.round(C),t("#cell_"+f+"_"+h).addClass("cell-prob "+w).append(C)}}else{if(e.wrongFlags&&e.wrongFlags.length>0){for(let n=0;n<e.wrongFlags.length;n++)t("#cell_"+e.wrongFlags[n].x+"_"+e.wrongFlags[n].y).addClass("hint-wrong-flag");s&&(this.w66=JSON.parse(JSON.stringify(e.wrongFlags)))}if(e.cells&&e.cells.length>0){for(let n=0;n<e.cells.length;n++)t("#cell_"+e.cells[n].x+"_"+e.cells[n].y).addClass("hint-to-open");s&&(this.c194=JSON.parse(JSON.stringify(e.cells)))}if(e.flags&&e.flags.length>0){for(let n=0;n<e.flags.length;n++)t("#cell_"+e.flags[n].x+"_"+e.flags[n].y).hasClass(O("flag"))||t("#cell_"+e.flags[n].x+"_"+e.flags[n].y).addClass("hint-flag");s&&(this.n76=JSON.parse(JSON.stringify(e.flags)))}if(e.extra&&e.extra.length>0)for(let n=0;n<e.extra.length;n++)t("#cell_"+e.extra[n].x+"_"+e.extra[n].y).addClass("hint-extra");if(e.deps&&e.deps.length>0)for(let n=0;n<e.deps.length;n++){let r=e.deps[n]/d.s165|0,l=e.deps[n]%d.s165;t("#cell_"+r+"_"+l).addClass("hint-extra")}}v.s181||Et.re()}static c195(e){if(this.a96){if(this.a96.mineProbs){e.length>0&&this.r198();return}for(let s=0;s<e.length/5;s++){let n=e[s*5],r=e[s*5+1];for(let l=this.c194.length-1;l>=0;l--)this.c194[l].x==n&&this.c194[l].y==r&&(t("#cell_"+this.c194[l].x+"_"+this.c194[l].y).removeClass("hint-to-open"),this.c194.splice(l,1));for(let l=this.w66.length-1;l>=0;l--)if(this.w66[l].x==n&&this.w66[l].y==r){this.w66=[];break}for(let l=this.n76.length-1;l>=0;l--)if(this.n76[l].x==n&&this.n76[l].y==r){t("#cell_"+this.n76[l].x+"_"+this.n76[l].y).removeClass("hint-flag"),this.n76.splice(l,1);break}}this.c194.length==0&&this.w66.length==0&&this.n76.length==0&&this.r198()}}static r198(){this.a96=null,this.h71=!1,this.h73(),v.s181||Et.re()}static h73(){t(".cell").removeClass("hint-active").removeClass("hint-extra").removeClass("hint-extra-purple").removeClass("hint-wrong-flag").removeClass("hint-to-open").removeClass("hint-flag").html(""),t(".cell-prob").removeClass("cell-prob-min").removeClass("cell-prob-max").removeClass("cell-prob-median").removeClass("cell-prob-high").removeClass("cell-prob-low").removeClass("cell-prob")}};var Ut=class{static g118=null;static p89=null;static p90=null;static c196=null;static h74=null;static a97=!1;static a98=null;static a99=null;static l81=0;static t63=0;static T81=1e3;static W63=200;static C68=20;static C69=100;static C70=200;static H67=5e3;static H68=2e3;static H69=1e3;static i85(){this.g118=d.$,this.p89=!1,this.p90=0,this.l81=0,this.c196={};for(let e=0;e<d.c188.length;e++){let s=d.c188[e],n=Math.round(s.time/i.C90)*i.C90;n==0&&(n=i.C90),this.c196[n]===void 0&&(this.c196[n]=[]),this.c196[n].push(s),this.l81=Math.max(n,this.l81)}this.h74={};for(let e=0;e<d.h70.length;e++){let s=d.h70[e],n=Math.round(s.time/i.C90)*i.C90;n==0&&(n=i.C90),this.h74[n]=s,this.l81=Math.max(n,this.l81)}}static t99(){this.s170(),t("#replay_play_btn, #replay_pause_btn").toggleClass("hide"),this.t63?this.s169():this.p89?this.s168():(this.p91(),this.p90==0?setTimeout(()=>{this.s168()},this.W63):this.s168())}static t100(e){this.s170();let s=!1;this.t63&&(this.s169(),s=!0);let n=t("#replay_timeline").width();e-=1,e=Math.min(n,Math.max(0,e)),this.p90=Math.round(e/n*this.l81/i.C90)*i.C90,this.u127(),this.o65(),s&&this.s168()}static o65(){if(this.p91(),X.u131(Math.floor(this.p90/1e3)),this.p90>0)for(let e=0;e<=this.l81/i.C90;e++){let s=e*i.C90;s<=this.p90&&(this.c196[s]!==void 0&&this.o66(this.c196[s]),this.h74[s]!==void 0&&yt.r197(this.h74[s]))}}static t101(e){t("#replay_time").removeClass("hide"),this.t102()}static t102(e){let s=t("#replay_timeline").width();e=Math.min(s,Math.max(0,e));let n=Math.round(e/s*this.l81/i.C90)*i.C90,r=n>=36e5?Math.floor(n/36e5)+a(":"):"",l=(n%36e5/6e4<10?"0":"")+Math.floor(n%36e5/6e4)+":",p=(n%6e4/1e3<10?"0":"")+Math.floor(n%6e4/1e3);k.i90()&&(t("#replay_time").hasClass("hide")&&t("#replay_time").removeClass("hide"),setTimeout(()=>{t("#replay_time").addClass("hide")},this.T81)),t("#replay_time").html(r+l+p).css({left:e,"margin-left":"-"+t("#replay_time").outerWidth()/2+"px"})}static t103(e){t("#replay_time").addClass("hide")}static p91(){this.p89=!0,yt.r195(),Z.c178(),d.f80=0,d.t95=0,X.i85()}static s168(){this.t63||(this.t63=setInterval(()=>this.i119(),i.C90))}static s169(){this.t63&&(clearInterval(this.t63),this.t63=0),this.s170()}static i119(){if(d.$!=this.g118){this.s169();return}this.c196[this.p90]!==void 0&&(this.o66(this.c196[this.p90]),this.a97||this.s137(this.p90),this.a100(this.p90)),this.h74[this.p90]!==void 0&&yt.r197(this.h74[this.p90]),this.u127(),this.p90%1e3==0&&X.u131(this.p90/1e3),this.p90==this.l81?(this.t99(),this.p89=!1,this.p90=0,X.u130(),this.s170()):this.p90+=i.C90}static o66(e){for(let s=0;s<e.length;s++){let n=e[s];for(let r=0;r<n.touchCells.length/5;r++){let l=n.touchCells[r*5],p=n.touchCells[r*5+1],o=n.touchCells[r*5+3],c=n.touchCells[r*5+4];c?(t("#cell_"+l+"_"+p).addClass(O("flag")),X.u132(d.m87-X.m90+1)):!c&&!o?(t("#cell_"+l+"_"+p).removeClass(O("opened")).removeClass(O("flag")),X.u132(d.m87-X.m90-1)):(t("#cell_"+l+"_"+p).hasClass(O("flag"))&&X.u132(d.m87-X.m90-1),Z.u123(l,p)),yt.c195(n.touchCells)}}}static s137(e){this.a97=!0;let s=t("#"+Z.$).position().top,n=t("#"+Z.$).position().left,r=ot.g169();t("#"+X.$).append(t("<div>",{id:"click_circle"}).css({width:r+"px",height:r+"px",position:"absolute",left:n+this.c196[e][0].x*r,top:s+this.c196[e][0].y*r,"border-radius":"50%",border:kt.i135()?"1px solid #777":"1px solid #888","background-color":kt.i135()?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.5)"}))}static a100(e){let s=t("#"+Z.$).position().top,n=t("#"+Z.$).position().left,r=ot.g169();for(let l=e+i.C90;l<=this.l81;l+=i.C90)if(this.c196[l]!==void 0){let p=this.c196[l][0],o={left:n+p.x*r,top:s+p.y*r},c=0;p.type==i.C93?c=Math.min(this.C70,.3*(l-e)):p.type==i.C94?c=Math.min(this.C69,.25*(l-e)):c=Math.min(this.C68,.2*(l-e));let f=Math.max(0,l-e-c),h=Math.sqrt(Math.pow(t("#click_circle").position().left-o.left,2)+Math.pow(t("#click_circle").position().top-o.top,2))/r,g=h/f,w=this.g187(h);if(g>=w)t("#click_circle").animate(o,f);else{this.a98=l;let C=h/w,A=f-C,M=A>this.H67;M&&setTimeout(()=>{this.a98==l&&t("#click_circle").animate({opacity:0},this.H69)},this.H68),setTimeout(()=>{M&&(o.opacity=1),this.a98==l&&t("#click_circle").animate(o,C)},A)}this.a99=l,(p.type==i.C93||p.type==i.C94&&c>=50)&&setTimeout(()=>{if(this.a99==l){let C=p.type==i.C93?O("check"):O("pressed");for(let A=p.x-1;A<=p.x+1;A++)for(let M=p.y-1;M<=p.y+1;M++)A>=0&&A<d.s164&&M>=0&&M<d.s165&&t("#cell_"+A+"_"+M).hasClass(O("closed"))&&t("#cell_"+A+"_"+M).addClass(C);setTimeout(()=>{for(let A=p.x-1;A<=p.x+1;A++)for(let M=p.y-1;M<=p.y+1;M++)A>=0&&A<d.s164&&M>=0&&M<d.s165&&t("#cell_"+A+"_"+M).hasClass(C)&&t("#cell_"+A+"_"+M).removeClass(C)},c)}},f);break}}static s170(){this.a97=!1,this.a98=null,this.a99=null,t("#click_circle").remove()}static u127(){let e=this.p90/this.l81*(t("#replay_timeline").width()+1);t("#replay_cursor").css("left",e+"px")}static g187(e){return e<4?.005:e<7?.0075:e<10?.01:.013}};var Le=class{static r228={};static w71={};static U62=300;static U63=1e3;static U64=2e3;static W64=5*1e3;static g242(){return this.w71[d.u64]===void 0?[]:this.w71[d.u64]}static s191(e){this.r228[e]||(setInterval(()=>{d.s163==e&&t("#"+se.$).is(":visible")&&this.g243()},this.W64),this.r228[e]=!0),setTimeout(()=>{this.g243()},this.U62),setTimeout(()=>{this.g243()},this.U63),setTimeout(()=>{this.g243()},this.U64)}static g243(){y.g188(d.s163,"GameplayController.getWatchersWsAction",[d.$])}static g244(e,s){e==d.$&&(this.w71[d.u64]=s,s.length==0?t("#watchers_count").length>0&&Et.re():t("#watchers_count").length==0?Et.re():t("#watchers_count").html(s.length))}static c210(){return t("<span>").popover({trigger:"hover",placement:"top",html:!0,content:()=>t("<span>").append(a("watching_spectators_watching"),"<br/>",(()=>{let e=[],s=this.g242();for(let n=0;n<s.length;n++){let r=s[n];r.hidden?e.push(t("<span>",{class:"gray"}).html(a("watching_hidden_player")),"<br/>"):e.push(t("<img>",{src:u.f62(r.country),class:"player-flag help"}),t("<span>").text(b.g225(r.userId,r.username)),"<br/>")}return e})())})}};var bt=class{static N65=200;static c198=null;static l83=null;static h75=!1;static p93=!1;static n77(e,s,n,r,l){if(i.i141(navigator.userAgent)&&!u.u61.registeredAt){x.n81("auth-required");return}this.c198=e,this.h75=r,this.p93=l;let p=St.r227;p||(p=St.g235());let o=z.g111();if(i.i140(navigator.userAgent)){i.i139(o)?H.u74({title:a("seo_title_ng_new_game"),description:a("seo_description_ng_new_game"),hiddenSeo:!0}):H.u74({title:a("seo_title_new_game"),description:a("seo_description_new_game"),hiddenSeo:!0});return}$t.w64&&$t.c156(!0);let c=null,f=null,h=null;[i.G70,i.G75].indexOf(o)!=-1&&(c=pt.g74(),f=pt.g75(),h=pt.g76());let g=Nt.l87[p]!==void 0?Nt.l87[p]:0,w=null,C=null,A=null,M=null;if(s&&(w=d.$,C=d.c187,A=[],Ut.p90>0?M=Ut.p90+i.C90:d.s88==i.G98||d.s88==i.G111?M=(de.g188?de.g188.duration:d.duration)-i.C90:M=0,M>0))for(let mt=0;mt<d.c188.length;mt++){let j=d.c188[mt];l&&d.c187.t[j.x*d.s165+j.y]==i.C77||j.time<M&&A.push(j)}let P=n&&d.u64==u.u61.id&&d.a93?d.a93.id:null,B=[o,c,f,h,P,g,k.g133(),u.u61.username,u.u61.country,w,C,A,M],L=d.c192()&&o==d.l65?this.N65:0;setTimeout(()=>{y.g188(p,"GameplayController.newGameWsAction",B)},L)}static i122(e,s,n,r,l,p,o,c,f,h){if(H.u74({title:a("seo_title_game",{"%id%":e.id}),hiddenSeo:!0}),location.pathname!=x.g231("game/"+e.id)){let C="game/"+e.id,A=!0;x.i131()&&(A=!1,location.href.indexOf("?")!=-1&&(C+="?"+location.href.slice(location.href.indexOf("?")+1))),x.c164(C,A)}if(U.h66("D"+e.id)&&(e.state==i.G96||e.state==i.G97)){y.g188(e.server,"GameplayController.reportWsAction",[e.id],()=>{});return}[i.G70,i.G75,i.G83,i.G88].indexOf(e.level)!=-1&&(e.sizeX!=pt.g74()||e.sizeY!=pt.g75()||e.mines!=pt.g76())&&pt.u75(e.sizeX,e.sizeY,e.mines),e.level!=z.g111()&&z.u88(e.level),d.u64==u.u61.id&&e.arenaInfo&&e.arenaInfo.remainTime<=0&&(d.a93=e.arenaInfo,Pt.f63(!1),e.arenaInfo=null,d.a93=null);let g=d.l65==e.level||d.l65==e.level-i.G89||d.l65-i.G89==e.level,w=t("#"+se.$).is(":visible")&&!d.a93&&!e.arenaInfo&&e.state!=i.G101&&d.$&&d.u64==e.userId&&d.t61==e.type&&g&&d.s164==e.sizeX&&d.s165==e.sizeY&&d.m87==e.mines&&d.o64==e.originalId;if(d.i85(e,s,n,r,l,p,o,c,f,h),yt.r195(),w?(jt.c157(),t("#result_absolute_right_block, #result_bottom_block").empty(),t("#game").removeClass("waiting"),xt.re()):v.r223([ki,xe,z,pt,se,xt]),t("#init_loading").remove(),Ss.re(),d.s88==i.G96||d.s88==i.G97?(xi.s99=!0,Le.s191(d.s163)):xi.s99=!1,xi.re(),e.state!=i.G101&&(w?(Z.u124(),X.u129(!0)):(X.re(),Z.re()),X.i85(),e.run&&X.s172(),Et.re()),this.c198){let C=this.c198.clickType,A=this.c198.x,M=this.c198.y;d.g185(C,A,M,[[A,M]]),this.c198=null}this.h75&&(yt.r196(d.t95+1,null,null,!1),this.h75=!1),this.p93&&(yt.r196(d.t95+1,null,null,!0),this.p93=!1),d.u64==u.u61.id&&me.g194()}static e84(e){v.r223([Ft]),y.m109("EnterGameController.enterGameWsAction",[e],()=>{})}static j62(e,s){Rt.c205[s]?this.j63(e,s):Rt.c208(s,()=>{this.j63(e,s)})}static j63(e,s){if(i.i140(navigator.userAgent)){H.u74({title:a("seo_title_game",{"%id%":e}),hiddenSeo:!0}),t("#"+Ft.$).remove();return}this.l83=s,y.g188(s,"GameplayController.joinGameWsAction",[e,u.u61.username,u.u61.country,u.u61.hidden])}};var Hi=class{static $="AnalyserBlock";static R65=1e3;static re(){t("#"+this.$).empty().append('<img src="/img/loading_small.gif" class="loading-small"/> '+a("analyzer_analysing"));let e=d.$;setTimeout(()=>{let s=/game\/(\d+)$/,n=location.pathname.match(s);n&&n[1]==e&&y.h81("AnalyserController.analyseBoardWsAction",[d.$],this.r61.bind(this))},this.R65)}static r61(e,s,n){if(d.$!=e||(t("#"+this.$).empty().css("max-width","200px"),!s))return;s.potential5050&&t("#"+this.$).append(t("<div>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("analyzer_potential_50_50")));let r=!1,l=!1;if([i.H72,i.H73,i.H74,i.H76,i.H75,i.H77,i.H78,i.H82].indexOf(s.type)!=-1){let p=!1;[i.H73,i.H72].indexOf(s.type)!=-1&&s.deps.length>2&&(p=!0),t("#"+this.$).append(t("<div>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("analyzer_solution")),p?"":t("<div>").append(a("analyzer_pattern"),a(": "),s.type==i.H73?t("<a>",{"href-local":"help/patterns#b1"}).append(a("analyzer_pattern_basic_logic")):"",s.type==i.H72?t("<a>",{"href-local":"help/patterns#"+(s.flags.length>0?"b1":"b2")}).append(a("analyzer_pattern_basic_logic")):"",s.type==i.H74||s.type==i.H76?t("<a>",{"href-local":"help/patterns#1-2c"}).append("1\u20132"):"",s.type==i.H75||s.type==i.H77?t("<a>",{"href-local":"help/patterns#1-1"}).append("1\u20131"):"",s.type==i.H78?t("<a>",{"href-local":"help/patterns#h1"}).append(a("analyzer_pattern_hole")):"",s.type==i.H82?t("<a>",{"href-local":"help/patterns#mc1"}).append(a("analyzer_pattern_mine_counting")):"")),r=!0,l=!0}else if(s.type==i.H70||s.type==i.H71)t("#"+this.$).append(t("<div>",{class:"text-warning"}).append('<i class="fa fa-exclamation-circle"></i> ',s.wrongFlags.length>1?a("analyzer_incorrect_flags"):a("analyzer_incorrect_flag"))),r=!0,l=!0;else if(s.type==i.H83){let p=100;for(let c=0;c<d.s164*d.s165;c++)s.mineProbs[c]!==void 0&&s.mineProbs[c]<p&&(p=s.mineProbs[c]);let o;if(n.type==i.C91)o=s.mineProbs[n.x*d.s165+n.y];else{console.error("Unknown last click");return}p<o?t("#"+this.$).append(t("<div>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("analyzer_safer_move")),t("<div>").append(a("analyzer_mine_probability"),a(": "),Math.round(o)==Math.round(p)?(Math.round(o*100)/100).toFixed(2)+"% \u2192 "+(Math.round(p*100)/100).toFixed(2)+"%":Math.round(o)+"% \u2192 "+Math.round(p)+"%")):t("#"+this.$).append(t("<div>",{class:"text-success"}).append('<i class="fa fa-check-circle"></i> ',a("analyzer_safest_move")),t("<div>").append(a("analyzer_mine_probability"),a(": "),Math.round(p)==0?(Math.round(p*100)/100).toFixed(2)+"%":Math.round(p)+"%")),l=!0}else s.type==i.H84?(t("#"+this.$).append(t("<div>",{class:"text-success"}).append('<i class="fa fa-check-circle"></i> ',a("analyzer_50_50")," ",t("<span>",{title:a("analyzer_50_50_descr")}).tooltip({trigger:"hover"}).append('<i class="fa fa-question-circle-o gray help"></i>'))),l=!0):(t("#"+this.$).append(t("<div>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("analyzer_solution"))),r=!0,l=!0);r&&t("#"+this.$).append(t("<button>",{class:"btn btn-default btn-xs analyse-hint-btn"}).on("click",()=>bt.n77(!1,!0,!1,!0,!1)).append('<i class="fa fa-magic"></i>&nbsp;'+a("game_hint_use_hint"))),l&&!i.i139(d.l65)&&t("#"+this.$).append(r?"&nbsp;&nbsp;":"",t("<button>",{class:"btn btn-default btn-xs analyse-hint-btn"}).on("click",()=>bt.n77(!1,!0,!1,!1,!0)).append('<i class="fa fa-percent"></i>&nbsp;'+a("analyzer_probabilities"))),x.r226()}static g181(e){t("#win_prob").empty().append('<img src="/img/loading_small.gif" class="loading-small"/>'),y.h81("AnalyserController.getWinProbabilityWsAction",[e],this.g182.bind(this))}static g182(e,s){t("#win_prob").empty().append(s===null?"n/a":this.e80(pt.r90(s*100))+"%")}static e80(e){let s="";(e+="").charAt(0)=="-"&&(e=e.substring(1),s="-");let n=e.split(/[e]/ig);if(n.length<2)return s+e;let r=.1.toLocaleString().substr(1,1),l=n[0],p=+n[1],o=(l=l.replace(/^0+/,"")).replace(r,""),c=l.split(r)[1]?l.indexOf(r)+p:o.length+p,f=c-o.length,h=""+BigInt(o);return o=p>=0?f>=0?h+"0".repeat(f):g():c<=0?"0"+r+"0".repeat(Math.abs(c))+h:g(),f=o.split(r),(f[0]==0&&f[1]==0||+o==0&&+h==0)&&(o=0),s+o;function g(){return o.replace(new RegExp("^(.{${pos}})(.)"),"$1${dot}$2")}}};var Ts=class{static r199(){t(".fa-step-backward").length>0}static o67(){let e=document.querySelectorAll(".cell"),s=e.length,n=-1,r=-1;for(let h=0;h<s;h++){let g=e[h].getAttribute("data-x")*1,w=e[h].getAttribute("data-y")*1;g>n&&(n=g),w>r&&(r=w)}let l=r*1+1,p=n*1+1,o="https://pttacgfans.github.io/Minesweeper-ZiNi-Calculator/?b=";p<10&&(o=o+"0"),o=o+p,l<10&&(o=o+"0"),o=o+l+"&m=";let c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v"],f=Math.ceil(s/5);for(let h=0;h<f;h++){let g="";for(let w=0;w<5;w++){let C=h*5+w;if(C<s){let A=Math.floor(C/p),P="cell_"+(C%p+p)%p+"_"+A,B=!1;document.getElementById(P).classList.forEach(function(L){(L.endsWith("flag")||L.endsWith("type10")||L.endsWith("type11")&&!L.includes("closed_flag"))&&(B=!0)}),B?g=g+"1":g=g+"0"}else g=g+"0"}o=o+c[parseInt(g,2)]}window.open(o,"_blank").focus()}};var vt=class{static $="PayBlock";static r155=null;static p76=null;static c143(){return t("#"+this.$).remove(),t("<div>",{id:this.$})}static re(){t("#"+this.$).empty();let e=this.g148();this.g150();let s=[];for(let n=0;n<e.length;n++)s.push(t("<option>",{value:e[n]}).append(a("payment_method_"+e[n])));if(e.length>1&&(this.r155=="default"||this.r155=="coffee"?t("#"+this.$).append(t("<div>",{class:this.r155=="coffee"?"payment-method-coffee":"payment-method"}).append(a("shop_payment_method")+a(":"),t("<select>",{id:"payment_method",class:"form-control payment-method-select"}).append(s).on("change",()=>this.c144()).val(this.p76))):this.r155=="shop"&&t("#"+this.$).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").append(a("shop_payment_method")+a(":"))),t("<div>",{class:"col-xs-5"}).append(t("<select>",{id:"payment_method",class:"form-control"}).append(s).on("change",()=>this.c144()).val(this.p76))))),this.r155=="default"&&(t("#"+this.$).append(t("<button>",{type:"submit",class:"btn btn-primary shop-buy-btn","data-loading-text":a("loading")+"..."}).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy"))),this.p76==i.P75&&t("#"+this.$).append(t("<div>",{class:"payment-info"}).append(t("<img>",{class:"pay-card help",src:"/img/payment/Visa_128.png",title:"Visa"}).css("height","14px").tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/MasterCard_128.png",title:"MasterCard"}).tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/AmericanExpress_128.png",title:"American Express"}).css("height","16px").tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/Discover_128.png",title:"Discover"}).css("height","10px").tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/UnionPay_128.png",title:"UnionPay"}).tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/JCB_128.png",title:"JCB"}).tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/Apple_128.png",title:"Apple Pay"}).tooltip({trigger:"hover"}),t("<img>",{class:"pay-card help",src:"/img/payment/GPay.jpeg",title:"Google Pay"}).tooltip({trigger:"hover"}),"<br/>")),this.p76==i.P67)){let n=["ru","de","it","fr","es","pt"].indexOf(v.l85)!=-1?v.l85:"uk";t("#"+this.$).append(t("<div>",{class:"payment-info paypal-info"}).append('<img class="paypal-trademark" src="https://www.paypalobjects.com/webstatic/ru_RU/mktg/business/pages/logo-center/AM_mc_vs_dc_ae.jpg" border="0" alt="PayPal Acceptance Mark" /><br/>','<a href="https://www.paypal.com/'+n+`/webapps/mpp/paypal-popup" onclick="javascript:window.open('https://www.paypal.com/`+n+`/webapps/mpp/paypal-popup','WIPaypal','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700'); return false;">`+a("premium_paypal_how")+"</a>"))}}static g148(){return u.u61.country=="RU"?[i.P77,i.P76]:[i.P75,i.P67,i.P76]}static g149(e){return e=="paypal"?'<i class="fa fa-paypal"></i>':e=="cd"||e==i.P74||e==i.P75?'<i class="fa fa-credit-card"></i>':e=="ap"?'<i class="fa fa-apple"></i>':e=="sp"?'<i class="fa fa-android"></i>':e=="bt"||e==i.P76?'<i class="fa fa-bitcoin"></i>':""}static c144(){this.p76=t("#payment_method").val(),this.re()}static r156(){this.p76=null}static g150(){let e=this.g148();return(!this.p76||e.indexOf(this.p76)==-1)&&(this.p76=e[0]),this.p76}};var wt=class{static m71=!1;static u64=null;static p78=null;static f71=null;static t72=null;static $="RatesBlock";static re(){if(this.m71){if(H.u74({title:a("economy_worth")}),!u.p61){t("#"+this.$).empty().append(t("<h2>").append('<i class="fa fa-lock"></i> '+a("settings_premium_only")));return}}else H.u74({title:a("rates_title")});let e={y:a("rates_last_year"),a:a("rates_all_time")};if(e[this.p78]===void 0){x.e94("404");return}t("#"+this.$).empty().append(At.l62("Net worth",this.u64),t("<div>").append(t("<h3>",{class:"pull-left"}).append(this.m71?t("<span>").append(a("economy_worth"),'&nbsp;&nbsp;<i class="fa fa-angle-double-right darkgray"></i>&nbsp;&nbsp;'):"",this.m71?"":t("<span>").append(t("<span>",{id:"rates_item_dropdown_wrapper"}),'&nbsp;&nbsp;<i class="fa fa-exchange gray"></i>&nbsp;&nbsp;'),t("<span>",{id:E.$,class:"shop-currency"})),t("<div>",{class:"pull-right"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"period_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(e[this.p78],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c147("y")).append(e.y)),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c147("a")).append(e.a))))),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{id:"rates_content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')),this.m71||(this.r158(),E.f69=this.t72),E.i92(()=>{this.m71?y.m109("GraphController.getMyWorthGraphDataWsAction",[this.g156().getTime(),E.u104,this.u64],this.g155.bind(this)):y.m109("GraphController.getRatesGraphDataWsAction",[this.g156().getTime(),this.f71,this.t72],this.g155.bind(this))})}static r158(){t("#rates_item_dropdown_wrapper").empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.r159(this.f71),t("<span>",{class:"caret"})),t("<ul>",{id:"categories_dropdown_list",class:"dropdown-menu"})));let e=["M","G","A","T101","S17","P"];for(let s=0;s<e.length;s++)t("#categories_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146(e[s])).append(this.r159(e[s]))));if(this.f71[0]=="G"){t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.r160(this.f71=="G"?0:this.f71.substring(1)),t("<span>",{class:"caret"})),t("<ul>",{id:"gem_dropdown_list",class:"dropdown-menu"}))),t("#gem_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("G")).append(this.r160(0))));for(let s=i.G117;s<=i.G128;s++)t("#gem_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("G"+s)).append(this.r160(s))))}else if(this.f71[0]=="A"){t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.r161(this.f71=="A"?0:this.f71.substring(1)),t("<span>",{class:"caret"})),t("<ul>",{id:"ac_dropdown_list",class:"dropdown-menu"}))),t("#ac_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("A")).append(this.r161(0))));for(let s=i.A107;s<=i.A116;s++)t("#ac_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("A"+s)).append(this.r161(s))))}else if(this.f71[0]=="T"){let s={};for(let r=1;r<=8;r++)s[r]="L"+r;t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(s[this.f71[3]],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let r=[];for(let l=1;l<=8;l++)r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("T"+this.f71[1]+this.f71[2]+l)).append(s[l])));return r})())));let n={0:a("rates_avg")};for(let r=1;r<=10;r++)n[r]='<i class="fa fa-ticket ticket ticket'+r+'"></i> '+a("arena_type_"+r);t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(n[this.f71[2]=="0"?this.f71[1]=="1"?0:10:this.f71[2]],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let r=[t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("T10"+this.f71[3])).append(a("rates_avg")))];for(let l=1;l<=10;l++){let p=n[l];r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("T"+(l==10?"20":"1"+l)+this.f71[3])).append(p)))}return r})())))}else if(this.f71[0]=="S"){t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.r162(this.f71.substring(1)),t("<span>",{class:"caret"})),t("<ul>",{id:"parts_dropdown_list",class:"dropdown-menu"})));for(let s=i.P126;s<=i.P128;s++)t("#parts_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("S"+s)).append(this.r162(s))))}else if(this.f71[0]=="P"){t("#rates_item_dropdown_wrapper").append('&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i>&nbsp;&nbsp;',t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.r163(this.f71=="P"?0:this.f71.substring(1)),t("<span>",{class:"caret"})),t("<ul>",{id:"perfect_dropdown_list",class:"dropdown-menu"}))),t("#perfect_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("P")).append(this.r163(0))));for(let s=i.G117;s<=i.G128;s++)t("#perfect_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c146("P"+s)).append(this.r163(s))))}}static r159(e){return e=="M"?a("game_coins")+" (1K)":e[0]=="G"?a("game_gems"):e[0]=="A"?a("arena_coins"):e[0]=="T"?a("arena_tickets"):e[0]=="S"?a("equipment_parts"):e[0]=="P"?a("market_items"):""}static r160(e){return e?t("<span>").append(m.g212(e)," ",a("gem_"+e)):t("<span>").append(m.g212(0)," ",a("game_gem")+" ("+a("rates_avg")+")")}static r161(e){return e?t("<span>").append(m.a102(e)," ",a("arena_coins_"+e)):t("<span>").append(m.a102(0)," ",a("arena_coins")+" ("+a("rates_avg")+")")}static r162(e){return t("<span>").append(m.p96(e)," ",a("equipment_parts_"+e))}static r163(e){return e?t("<span>").append('<img src="/img/eq.svg" class="eq-icon icon-left"/>',a("rates_perfect")," ("+a("equipment_perfect_series",{"%type%":T.G136[e-1][0]})+")"):t("<span>").append('<img src="/img/eq.svg" class="eq-icon icon-left"/>',a("rates_perfect")," ("+a("rates_avg")+")")}static c146(e){x.n81("rates/"+this.p78+"/"+e+"/"+this.t72,!0)}static g155(e){if(window.ApexCharts===void 0){let s=document.createElement("script");s.setAttribute("src","https://cdn.jsdelivr.net/npm/apexcharts"),s.onload=()=>{this.d72(e)},document.head.appendChild(s)}else setTimeout(()=>{this.d72(e)},500)}static d72(e){this.chartTop&&this.chartTop.destroy(),this.chartBottom&&this.chartBottom.destroy(),t("#rates_content").empty().append(t("<div>",{class:"rates-content"}).append(t("<div>",{id:"rates_chart_top"}),t("<div>",{id:"rates_chart_bottom"})));let s=[{name:v.l85,options:{months:[a("month_1"),a("month_2"),a("month_3"),a("month_4"),a("month_5"),a("month_6"),a("month_7"),a("month_8"),a("month_9"),a("month_10"),a("month_11"),a("month_12")],shortMonths:[a("month_1_short"),a("month_2_short"),a("month_3_short"),a("month_4_short"),a("month_5_short"),a("month_6_short"),a("month_7_short"),a("month_8_short"),a("month_9_short"),a("month_10_short"),a("month_11_short"),a("month_12_short")]}}],n={chart:{id:"chart_top",type:"line",height:300,toolbar:{show:!1},locales:s,defaultLocale:v.l85},stroke:{width:2},dataLabels:{enabled:!1},fill:{opacity:1},markers:{size:0},colors:["#337ab7"],series:[{data:e}],xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{labels:{formatter:r=>{if(E.u104=="M")return b.g227(r)+" M";{let l=i.C167[E.u104]?i.C167[E.u104]:E.u104;return Math.round(r*100)/100+" "+l}}},forceNiceScale:!0},tooltip:{marker:{show:!1},x:{formatter:r=>F.g203(r,!1,!1)},y:{formatter:r=>{if(E.u104=="M")return b.g227(r)+" M";{let l=i.C167[E.u104]?i.C167[E.u104]:E.u104;return Math.round(r*1e4)/1e4+" "+l}},title:{formatter:()=>""}}}};if(this.chartTop=new ApexCharts(document.querySelector("#rates_chart_top"),n),this.chartTop.render(),!this.m71){let r={chart:{id:"chart_bottom",height:130,type:"area",brush:{target:"chart_top",enabled:!0},selection:{enabled:!0,xaxis:{min:this.g156().getTime(),max:new Date().getTime()}},locales:s,defaultLocale:v.l85},colors:["#008FFB"],series:[{data:e}],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{tickAmount:2,labels:{formatter:l=>{let p=i.C167[E.u104]?i.C167[E.u104]:E.u104;return Math.round(l*100)/100+" "+p}}}};this.chartBottom=new ApexCharts(document.querySelector("#rates_chart_bottom"),r),this.chartBottom.render()}}static c147(e){this.m71?x.n81("net-worth/"+e+(this.u64?"/"+this.u64:""),!0):x.n81("rates/"+e+"/"+this.f71+"/"+this.t72,!0)}static g156(){let e;return this.p78=="y"?(e=new Date,e.setFullYear(e.getFullYear()-1)):e=new Date(2020,0,1),e}};var E=class{static $="CurrencyBlock";static r148=null;static r149=null;static u70=null;static u77=null;static u63=null;static u65=null;static h63=null;static p75=null;static r150=null;static u104=null;static c136=null;static f69=null;static re(){t("#"+this.$).empty()}static i92(e){y.m109("BillingController.initWsAction",[],(s,n,r,l,p,o,c,f,h)=>{this.r148=s,this.r149=n,this.u70=i.i140(navigator.userAgent)?1:r,this.u77=l,this.u63=p,this.h63=c,this.r150=[],this.p75=h,this.c136=e,this.u65=o,u.u61.premiumTo=f,u.u61.patronState=h,u.u62();let g=i.C166[u.u61.country];g&&this.r148[g]===void 0&&(g=null),t("#"+wt.$).is(":visible")&&this.r150.push(["M",0]),g&&["USD","EUR"].indexOf(g)==-1&&this.r150.push([g,s[g]]),this.r150.push(["USD",s.USD]),this.r150.push(["EUR",s.EUR]);let w=Object.keys(s).sort();for(let C=0;C<w.length;C++){let A=w[C];[g,"USD","EUR"].indexOf(A)==-1&&this.r150.push([A,s[A]])}this.u104=g||"USD",this.f69&&(this.u104=this.f69,this.f69=null),this.r151()})}static r151(){t("#"+this.$).empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"currency_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.u104=="M"?a("profile_coins"):this.u104,t("<span>",{class:"caret"})),t("<ul>",{id:"currency_dropdown_list",class:"dropdown-menu"})));let e=!0;for(let s=0;s<this.r150.length;s++){let n=this.r150[s][0];t("#currency_dropdown_list").append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c137(n)).append(n=="M"?a("profile_coins"):n," ",e&&i.C167[n]?t("<span>",{class:"gray"}).append(i.C167[n]," "):""))),n=="EUR"&&(t("#currency_dropdown_list").append('<li role="separator" class="divider"></li>'),e=!1)}this.c136()}static c137(e){if(t("#"+wt.$).is(":visible")&&!wt.m71){x.n81("rates/"+wt.p78+"/"+wt.f71+"/"+e,!0);return}this.u104=e,vt.r156(),this.r151()}static g146(e,s,n){n||(n=0);let r=i.g251(e)[0];return s?b.g227(r/(1-n)):r}static g147(e,s,n){if(i.P123[e]===void 0)throw new Error("Undefined product price: "+e);let r;if(i.P123[e][this.u104])r=i.P123[e][this.u104];else{let l=i.P123[e].md;r=i.B95*this.r148[this.u104]*l}return n&&i.P123[e].fakeMod&&(r*=i.P123[e].fakeMod),this.r152(r,this.u104,!0,s)}static r152(e,s,n,r,l){e=i.r229(e,s,n,l);let p=i.C167[this.u104]?i.C167[this.u104]:this.u104;return(r?'<span class="currency">'+p+"</span>":p+" ")+b.g227(e)}};var Ct=class _{static $="ProductsBlock";static p77=[];static re(){if(this.p77.length==0)return;let e=t("<table>",{class:"width-auto"});for(let s=0;s<this.p77.length;s++){let n=this.p77[s];e.append(t("<tr>").append(t("<td>",{class:"premium-products-1-col"}).html("&nbsp;"),t("<td>",{class:"radio premium-products-2-col"}).append(t("<label>").append(t("<input>",{id:"product_"+(n.id?n.id:"0"),type:"radio",name:"product",value:n.id?n.id:0}).prop("checked",s==0).prop("disabled",!!n.disabled).on("click",()=>_.c145()),this.g153(n.id))),t("<td>",{class:"vertical-align-top"}).append(t("<div>",{class:"text-nowrap"}).append(t("<label>",{id:"price_"+n.id,for:"product_"+n.id,class:"price"+(s==0?" bold":"")}).append(i.P123[n.id].fakeMod?t("<div>").append(t("<span>",{class:"shop-strike-danger no-bold-important"}).append(E.g147(n.id,!0,!0),"<br/>"),t("<span>",{class:"text-danger"}).append(E.g147(n.id,!0))):E.g147(n.id,!0))))))}t("#"+this.$).empty().append(t("<form>").on("submit",s=>{s.preventDefault(),this.b75()}).append(t("<div>").append(e,t("<div>",{id:vt.$})))),vt.r155="default",vt.re()}static b75(){let e=parseInt(t('input[name="product"]:checked').val());e==0&&(e=parseInt(t("#price_0").val())),this.b76(e,"products_pay_buttons")}static g153(e){let s;e==i.P109||e==i.P112?s="shop_product_premium_1_month_short":e==i.P113?s="shop_product_premium_3_months_short":e==i.P114?s="shop_product_premium_6_months_short":e==i.P108?s="shop_product_coffee_donation":e==i.P110||e==i.P115?s="shop_product_premium_1_year_short":e==i.P111?s="shop_product_premium_unlimited":e==i.P78||e==i.P79?s="shop_product_small_donation":e==i.P80?s="shop_product_medium_donation":e==i.P81||e==i.P82?s="shop_product_big_donation":e==i.P88?s="shop_product_huge_donation":e==i.P116?s="shop_product_resources":e==i.P117?s="shop_product_item":e==i.P118?s="shop_special_bf":e==i.P119?s="shop_special_s100":s="shop_product_generous_donation";let n=t("<div>",{class:"premium-product-descr"});return e==i.P83||e==i.P84?n.append(a("shop_donate_description_includes"),t("<ul>",{class:"no-margin"}).append(t("<li>",{class:"generous-item bold"}).append(a("shop_donate_description_premium")),e==i.P83?t("<li>",{class:"generous-item bold"}).append(I.t111("dotted-underline","top",1)):"",t("<li>",{class:"generous-item bold"}).append(t("<span>",{id:"generous_coins_amount"}).append(E.g146(e,!0)),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-small icon-right"))),e==i.P84?t("<li>",{class:"generous-item bold"}).append(t("<strong>",{id:"generous_candies_amount"}).append(i.g251(e)[4]),t("<span>",{class:"help",title:a("candy_"+R.g260())}).tooltip({trigger:"hover"}).append(m.e89(R.g260(),"micro","icon-right"))):""),t("<div>").css("margin-top","2px").append(a("event_purchase_limit"),a(": "),t("<strong>").append(1))):(e==i.P79||e==i.P80||e==i.P81||e==i.P88)&&n.append(a("shop_donate_description_includes"),t("<ul>",{class:"no-margin"}).append(t("<li>",{class:"generous-item"}).append(E.g146(e,!0),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-small icon-right")),"&nbsp;&nbsp;",i.g251(e)[1],t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("hp-shop icon-right")),"&nbsp;&nbsp;",i.g251(e)[3],t("<span>",{class:"help",title:a("gem_"+i.G127)}).tooltip({trigger:"hover"}).append(m.g212(i.G127,"gem-shop")),"&nbsp;&nbsp;",i.g251(e)[4],t("<span>",{class:"help",title:a("candy_"+R.g260())}).tooltip({trigger:"hover"}).append(m.e89(R.g260(),"small"))))),t("<div>").append(t("<span>",{class:"premium-product-title"}).append(a(s)),n)}static c145(){let e=parseInt(t('input[name="product"]:checked').val());t(".price, #price_0").removeClass("bold"),t("#price_"+e).addClass("bold")}static b76(e,s){t(".shop-buy-btn").button("loading");let n=this.g154(e);y.m109("BillingController.buyProductWsAction",[e,n,vt.g150(),E.u104,v.l85,null,null,null],(r,l)=>{window.location=l})}static g154(e){return e==i.P78||e==i.P79?a("shop_product_small_donation"):e==i.P80?a("shop_product_medium_donation"):e==i.P81||e==i.P82?a("shop_product_big_donation"):e==i.P88?a("shop_product_huge_donation"):e==i.P109||e==i.P112?a("shop_product_premium_1_month"):e==i.P113?a("shop_product_premium_3_months"):e==i.P114?a("shop_product_premium_6_months"):e==i.P108?a("shop_product_coffee_donation"):e==i.P110||e==i.P115?a("shop_product_premium_1_year"):e==i.P111?a("shop_product_premium_unlimited"):e==i.P116?a("shop_product_resources"):e==i.P117?a("shop_product_item"):e==i.P118?a("shop_special_bf"):e==i.P119?a("shop_special_s100"):[i.P96,i.P97,i.P98,i.P99,i.P100,i.P101,i.P102,i.P103,i.P104,i.P105,i.P106,i.P107].indexOf(parseInt(e))!=-1?a("special_premium_gift"):a("shop_product_generous_donation")}};var ze=class{static $="PremiumBlock";static E67=5e5;static re(){H.u74({title:a("premium_title")}),t("#"+this.$).empty().append(t("<a>",{name:"benefits"}),t("<div>").append(t("<h2>",{class:"pull-left"}).append('<i class="fa fa-diamond"></i> ',a("premium_title")),t("<div>",{id:E.$,class:"pull-right shop-currency"}),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{id:"premium_content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')),E.i92(()=>{this.r61()})}static r61(){t("#premium_content").empty(),u.u61.premiumTo&&new Date(u.u61.premiumTo)-Date.now()>i.U70*365*24*60*60*1e3?t("#premium_content").append(t("<p>",{class:"text-success bold"}).append(a("premium_active_unlimited"))):u.u61.patronState==i.P140||u.u61.patronState==i.P141?t("#premium_content").append(t("<p>",{class:"text-success bold"}).append(a("premium_active"))):u.u61.premiumTo&&new Date(u.u61.premiumTo).getTime()>Date.now()&&t("#premium_content").append(t("<p>",{class:"text-success"}).append(a("premium_active_date",{"%date%":"<strong>"+F.g203(u.u61.premiumTo,!1,!1)+"</strong>"}))),E.u65&&E.u65[i.T84]&&E.u65[i.T84]*1e6>E.u63&&t("#premium_content").append(t("<p>",{class:"text-success bold"}).append(I.t111("dotted-underline","top",E.u65[i.T84]))),t("#premium_content").append(a("premium_main_text"),t("<ul>").append(t("<li>").css("margin-top","4px").append(a("premium_bonus_1")),t("<li>").append(a("analyzer_title"),' (<span class="text-danger">beta</span>)',"&nbsp;",t("<span>",{title:a("analyzer_descr")}).tooltip({trigger:"hover"}).append('<i class="fa fa-question-circle-o gray help help-icon-big"></i>')),t("<li>").append(a("premium_bonus_4")),t("<li>").append(a("shop_donate_description_vip")),t("<li>").append(this.r157()),t("<li>").append(a("equipment_bonus_"+i.B77)+a(": ")+"+1"),t("<li>").append(a("equipment_bonus_"+i.B78)+a(": ")+"+1"),t("<li>").append(a("extra_bonus_quest_reroll")+a(": ")+"+1"),t("<li>").append(a("equipment_boost_discount"),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right hp-shop")),"&nbsp;&nbsp;",t("<span>",{title:a("equipment_boost_discount_description")}).tooltip({trigger:"hover"}).append('<i class="fa fa-question-circle-o gray help help-icon-big"></i>'))),"<br/>","<hr/>"),t('[data-toggle="tooltip"]').tooltip(),!u.p61||!u.u61.premiumTo||new Date(u.u61.premiumTo)-Date.now()<i.U70*365*24*60*60*1e3?(t("#premium_content").append(t("<h2>",{class:"no-margin"}).append('<i class="fa fa-shopping-cart"></i> ',a("premium_buy_title")),"<br/>"),t("#premium_content").append(t("<div>",{id:Ct.$})),Ct.p77=[{id:i.P112},{id:i.P113},{id:i.P114},{id:i.P115},{id:E.u63>=this.E67?i.P84:i.P83}],Ct.re()):(t("#premium_content").append(t("<h2>",{class:"no-margin"}).append('<i class="fa fa-gift"></i> ',a("premium_donate_title")),"<br/>",t("<div>",{id:Ct.$})),Ct.p77=[{id:i.P79},{id:i.P80},{id:i.P81},{id:i.P88}],Ct.re()),t("#premium_content").append("<br/>","<hr/>",t("<h2>",{class:"no-margin"}).append('<i class="fa fa-heart-o"></i> ',a("patreon_title",{$3:this.g151()})),t("<br/>")),E.p75==i.P140||E.p75==i.P141?t("#premium_content").append(t("<p>",{class:"text-success bold"}).append(a("patreon_subscription_active")),"<br/>"):E.p75==i.P142?t("#premium_content").append(t("<p>",{class:"text-danger bold"}).append(a("patreon_subscription_cancelled")),"<br/>"):E.p75==i.P143?t("#premium_content").append(t("<p>",{class:"text-danger bold"}).append(a("patreon_subscription_error")),"<br/>"):E.p75==i.P144&&t("#premium_content").append(t("<p>",{class:"text-danger bold"}).append(a("patreon_subscription_another_player")),"<br/>"),t("#premium_content").append(t("<p>").append(a("patreon_text_1",{"<a>":'<a href="'+this.g152()+'" target="_blank">'})),t("<p>").append(a("patreon_text_2",{$3:this.g151()})),t("<p>").append(a("patreon_bonuses",{"<a>":'<a href="#benefits">'," (%rewards%)":"","(%rewards%)":""}))),E.p75!=i.P140&&E.p75!=i.P141&&t("#premium_content").append("<br/>",t("<p>").append(t("<a>",{href:this.g152(),class:"btn btn-danger",target:"_blank"}).append('<i class="fa fa-heart"></i> '+a("patreon_become_patron_button"))),"<br/>",v.l85!="ru"?t("<p>").append(a("patreon_after_subscription")):"",v.l85!="ru"?t("<p>").append(t("<a>",{href:"/patreon/authorize?userId="+u.u61.id+"&lang="+v.l85,class:"btn btn-default btn-sm"}).append(a("patreon_link_account_button"))):""),x.r226()}static r157(){let e=[];for(let n=0;n<=1200;n+=100){let r=E.u70>=n&&E.u70<n+100;e.push(t("<tr>").append(t("<td>",{class:"narrow-td "+(r?"bold":"")}).append(a(et.g279(n+1))),t("<td>",{class:"narrow-td "+(r?"bold":"")}).append("+"+i.g249(n)[0],t("<span>",{class:"help",title:a("gem_"+i.G127)}).tooltip({trigger:"hover"}).append(m.g212(i.G127,"icon-small icon-left")),t("<span>").append("&nbsp;","+"+i.g249(n)[1],m.h76("icon-right hp-shop")))))}let s=t("<table>",{class:"table table-bordered no-margin"}).append(e);return t("<span>").append(a("premium_daily_reward"),a(": "),"+"+i.g249(E.u70)[0],t("<span>",{class:"help",title:a("gem_"+i.G127)}).tooltip({trigger:"hover"}).append(m.g212(i.G127,"icon-small icon-left")),i.g249(E.u70)[1]>0?t("<span>").append("&nbsp;","+"+i.g249(E.u70)[1],t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right hp-shop"))):"","&nbsp;&nbsp;",t('<i class="fa fa-question-circle-o gray help help-icon-big"></i>').popover({container:"body",trigger:"hover",placement:t(window).width()<600?"left":"right",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(s)}))}static g151(){return E.u104=="EUR"?"\u20AC3":"$3"}static g152(){return v.l85=="ru"?"https://boosty.to/minesweeper_online":"https://www.patreon.com/minesweeper_online"}};var te=class{static $="AdsDialog";static t78=null;static t79=null;static g118=null;static t61=null;static T77=1;static T78=2;static T79=3;static T80=6;static s143(){this.t61===null&&this.i104(),this.c164(),this.i105(),this.re(),t("#"+this.$).modal("show"),this.t61==this.T78&&E.i92(()=>{t("#coffee_price").html(E.g147(i.P108,!0))}),this.t61==this.T77&&this.t80()}static i104(){window.adsbygoogle===void 0?this.t61=this.T79:this.t61=this.T77}static c164(){this.t61==this.T77&&this.g118!==null?window.history.replaceState(null,null,v.l86+"/ads#"+this.g118):this.g118=null}static c165(){this.t61==this.T77&&this.g118&&window.history.replaceState(null,null,v.l86+"/game/"+this.g118)}static t80(){setTimeout(()=>{t("#ads_ins").width()>0?(t("#ads_loading").remove(),(adsbygoogle=window.adsbygoogle||[]).push({})):this.t80()},100)}static i105(){this.t79=this.T80,this.t78&&clearInterval(this.t78),this.t78=setInterval(()=>{--this.t79==0?(this.c165(),t("#ads_header_timer").html(""),t("#ads_btn_timer").html(""),t("#ads_header_close").removeClass("hide"),t("#ads_close_btn").prop("disabled",!1),clearInterval(this.t78)):(t("#ads_header_timer").html(this.t79),t("#ads_btn_timer").html(" ("+this.t79+")"))},1e3)}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog "+(this.t61==this.T77?"modal-dialog-wide":""),role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<span>",{id:"ads_header_timer",class:"ads-timer pull-right"}).append(this.t79),t("<button>",{id:"ads_header_close",type:"button",class:"close hide","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),this.t61==this.T78?t("<h4>",{class:"modal-title"}).append(a("ads_coffee_title")):t("<div>").append(t("<img>",{class:"loading-block",src:"/img/loading_block.gif"}),t("<strong>").append(a("ads_title")))),t("<div>",{class:"modal-body"}).append(this.t61==this.T78?t("<div>",{class:"text-center"}).append(a("ads_coffee_message"),"<br/>",vt.c143(),t("<button>",{id:"coffee_btn",class:"btn btn-primary coffee-btn","data-loading-text":a("loading")+"..."}).on("click",()=>this.b83()).append(a("ads_coffee_buy_button"),'&nbsp;&nbsp;<i class="fa fa-coffee"></i>&nbsp;&nbsp;',t("<span>",{id:"coffee_price"}))):"",this.t61==this.T79?t("<div>",{class:"text-center"}).append(t("<p>").append(a("patreon_text_1",{"<a>":'<a href="'+ze.g152()+'" target="_blank">'})),t("<p>").append(a("patreon_text_2",{$3:ze.g151()})),t("<p>").append(a("patreon_bonuses",{"<a>":'<a href="'+v.l86+'/premium" target="_blank">'," (%rewards%)":"","(%rewards%)":""})),"<br/>",t("<p>").append(t("<a>",{href:ze.g152(),class:"btn btn-primary",target:"_blank"}).append('<i class="fa fa-heart"></i> '+a("patreon_become_patron_button"))),"<br/>",v.l85!="ru"?t("<p>").append(t("<a>",{href:"/patreon/authorize?userId="+u.u61.id+"&lang="+v.l85}).append(a("patreon_link_account_button"))):""):"",this.t61==this.T77?t("<div>",{class:"text-center"}).append('<ins id="ads_ins" class="adsbygoogle" style="display:block;" data-ad-format="auto" data-full-width-responsive="true" data-ad-client="ca-pub-4086670401558887" data-ad-slot="1056157021"><img id="ads_loading" src="/img/loading_big.gif"/></ins>'):""),t("<div>",{class:"modal-footer"}).append(this.t61==this.T77?t("<a>",{href:v.l86+"/premium",target:"_blank",class:"btn btn-success"}).on("click",()=>this.c166()).append('<i class="fa fa-diamond"></i> ',a("ads_remove")):"","&nbsp;&nbsp;",t("<button>",{id:"ads_close_btn",type:"button",class:"btn btn-default","data-dismiss":"modal"}).prop("disabled",!0).append(a("profile_close_button"),t("<span>",{id:"ads_btn_timer"}).append(" ("+this.t79+")")))))),this.t61==this.T78&&(vt.r155="coffee",vt.re())}static b83(){t("#coffee_btn").button("loading");let e=E.u104?E.u104:"USD",s=i.P108,n=Ct.g154(s);y.m109("BillingController.buyProductWsAction",[s,n,vt.g150(),e,v.l85,null,null,null],(r,l)=>{r==i.P108?(this.c166(),window.open(l,"_blank").focus()):window.location=l})}static c166(){this.c165(),t("#"+this.$).modal("hide")}};var qs=class{static f61=!1;static S61="gameExpV5";static S62=2e3;static E61=7200;static E62=4800;static F61=600;static F62=400;static c61(e,s){u.p61||u.u61.hasVIP||d.a93||i.i141(navigator.userAgent)||window.adsbygoogle===void 0||s>0&&(U.s142(this.S61,parseInt(U.g172(this.S61,0))+parseInt(s)),setTimeout(()=>{if(parseInt(U.g172(this.S61,0))>=this.g61()){let r=/game\/(\d+)$/,l=location.pathname.match(r);l?l[1]==e&&(te.g118=e,this.s61()):(te.g118=null,this.s61())}},this.S62))}static s61(){this.f61||(this.f61=!0),U.s142(this.S61,0),te.t61=null,te.s143()}static g61(){return u.i62&&!this.f61?k.i90()?this.F62:this.F61:k.i90()?this.E62:this.E61}};var ri=class{static c211(e,s,n,r,l){if(typeof window<"u"&&!("Uint8Array"in window))return 0;let p=n*r-l,o=0,c=!1,f={t:new Uint8Array(n*r),f:new Uint8Array(n*r),o:new Uint8Array(n*r),g:new Uint8Array(n*r),g2:new Uint8Array(n*r),p:new Int8Array(n*r)};for(let h=0;h<n*r;h++)f.t[h]=s.t[h],f.f[h]=0,f.o[h]=0,f.g[h]=s.g[h],f.g2[h]=s.g2[h],f.p[h]=0,f.t[h]==11&&(f.t[h]=10);if(e){for(let h=0;h<n;h++)for(let g=0;g<r;g++)f.g[h*r+g]&&(f.o[h*r+g]=1,p--),f.g[h*r+g]>o&&(o=f.g[h*r+g]);c=!0}for(let h=0;h<n;h++)for(let g=0;g<r;g++)f.p[h*r+g]=this.c212(h,g,n,r,f);for(;p>0;){let h=this.g245(e,n,r,f);if(h.premiumBestIndexes.length>0&&h.premiumBestValue>=0){let g=h.premiumBestIndexes[0];if(h.premiumBestIndexes.length>1){let M=-1;for(let P=0;P<h.premiumBestIndexes.length;P++){let B=h.premiumBestIndexes[P]/r|0,L=h.premiumBestIndexes[P]%r,mt={t:f.t,o:f.o.slice(0),f:f.f.slice(0),g:f.g,g2:f.g2,p:f.p.slice(0)};this.p100(B,L,n,r,mt);let j=this.g245(e,n,r,mt),zt=j.premiumBestValue*1e3+j.premiumBestIndexes.length;zt>M&&(g=h.premiumBestIndexes[P],M=zt)}}let w=g/r|0,C=g%r,A=this.p100(w,C,n,r,f);o+=A.zini,p+=A.needToOpenCount}else{let g=!1;if(!c){for(let w=0;w<n&&!g;w++)for(let C=0;C<r&&!g;C++)!f.o[w*r+C]&&f.t[w*r+C]==0&&(p-=this.o69(w,C,n,r,f),o++,g=!0);g||(c=!0)}if(c){g=!1;for(let w=0;w<n&&!g;w++)for(let C=0;C<r&&!g;C++)f.t[w*r+C]!=10&&!f.o[w*r+C]&&!(f.g2[w*r+C]&&f.t[w*r+C]>0)&&(p-=this.o69(w,C,n,r,f),o++,g=!0);if(!g)return o}}}return o}static g245(e,s,n,r){let l={premiumBestIndexes:[],premiumBestValue:-100};for(let p=0;p<s*n;p++)e&&!r.o[p]||(r.p[p]>l.premiumBestValue?(l.premiumBestIndexes=[p],l.premiumBestValue=r.p[p]):r.p[p]==l.premiumBestValue&&l.premiumBestIndexes.push(p));return l}static p100(e,s,n,r,l){let p={needToOpenCount:0,zini:0};return l.o[e*r+s]||(p.needToOpenCount-=this.o69(e,s,n,r,l),p.zini++),p.zini++,e-1>=0&&s-1>=0&&(l.t[(e-1)*r+(s-1)]==10&&!l.f[(e-1)*r+(s-1)]&&(this.m110(e-1,s-1,n,r,l),p.zini++),l.t[(e-1)*r+(s-1)]!=10&&!l.o[(e-1)*r+(s-1)]&&(p.needToOpenCount-=this.o69(e-1,s-1,n,r,l))),s-1>=0&&(l.t[e*r+(s-1)]==10&&!l.f[e*r+(s-1)]&&(this.m110(e,s-1,n,r,l),p.zini++),l.t[e*r+(s-1)]!=10&&!l.o[e*r+(s-1)]&&(p.needToOpenCount-=this.o69(e,s-1,n,r,l))),e+1<n&&s-1>=0&&(l.t[(e+1)*r+(s-1)]==10&&!l.f[(e+1)*r+(s-1)]&&(this.m110(e+1,s-1,n,r,l),p.zini++),l.t[(e+1)*r+(s-1)]!=10&&!l.o[(e+1)*r+(s-1)]&&(p.needToOpenCount-=this.o69(e+1,s-1,n,r,l))),e-1>=0&&(l.t[(e-1)*r+s]==10&&!l.f[(e-1)*r+s]&&(this.m110(e-1,s,n,r,l),p.zini++),l.t[(e-1)*r+s]!=10&&!l.o[(e-1)*r+s]&&(p.needToOpenCount-=this.o69(e-1,s,n,r,l))),e+1<n&&(l.t[(e+1)*r+s]==10&&!l.f[(e+1)*r+s]&&(this.m110(e+1,s,n,r,l),p.zini++),l.t[(e+1)*r+s]!=10&&!l.o[(e+1)*r+s]&&(p.needToOpenCount-=this.o69(e+1,s,n,r,l))),e-1>=0&&s+1<r&&(l.t[(e-1)*r+(s+1)]==10&&!l.f[(e-1)*r+(s+1)]&&(this.m110(e-1,s+1,n,r,l),p.zini++),l.t[(e-1)*r+(s+1)]!=10&&!l.o[(e-1)*r+(s+1)]&&(p.needToOpenCount-=this.o69(e-1,s+1,n,r,l))),s+1<r&&(l.t[e*r+(s+1)]==10&&!l.f[e*r+(s+1)]&&(this.m110(e,s+1,n,r,l),p.zini++),l.t[e*r+(s+1)]!=10&&!l.o[e*r+(s+1)]&&(p.needToOpenCount-=this.o69(e,s+1,n,r,l))),e+1<n&&s+1<r&&(l.t[(e+1)*r+(s+1)]==10&&!l.f[(e+1)*r+(s+1)]&&(this.m110(e+1,s+1,n,r,l),p.zini++),l.t[(e+1)*r+(s+1)]!=10&&!l.o[(e+1)*r+(s+1)]&&(p.needToOpenCount-=this.o69(e+1,s+1,n,r,l))),p}static c212(e,s,n,r,l){if(l.t[e*r+s]==0||l.t[e*r+s]==10)return-100;let p=0;return l.o[e*r+s]||(p-=1),p-=1,l.g[e*r+s]||(p+=1),e-1>=0&&s-1>=0&&(l.t[(e-1)*r+(s-1)]==10?l.f[(e-1)*r+(s-1)]||p--:!l.o[(e-1)*r+(s-1)]&&!l.g[(e-1)*r+(s-1)]&&p++),s-1>=0&&(l.t[e*r+(s-1)]==10?l.f[e*r+(s-1)]||p--:!l.o[e*r+(s-1)]&&!l.g[e*r+(s-1)]&&p++),e+1<n&&s-1>=0&&(l.t[(e+1)*r+(s-1)]==10?l.f[(e+1)*r+(s-1)]||p--:!l.o[(e+1)*r+(s-1)]&&!l.g[(e+1)*r+(s-1)]&&p++),e-1>=0&&(l.t[(e-1)*r+s]==10?l.f[(e-1)*r+s]||p--:!l.o[(e-1)*r+s]&&!l.g[(e-1)*r+s]&&p++),e+1<n&&(l.t[(e+1)*r+s]==10?l.f[(e+1)*r+s]||p--:!l.o[(e+1)*r+s]&&!l.g[(e+1)*r+s]&&p++),e-1>=0&&s+1<r&&(l.t[(e-1)*r+(s+1)]==10?l.f[(e-1)*r+(s+1)]||p--:!l.o[(e-1)*r+(s+1)]&&!l.g[(e-1)*r+(s+1)]&&p++),s+1<r&&(l.t[e*r+(s+1)]==10?l.f[e*r+(s+1)]||p--:!l.o[e*r+(s+1)]&&!l.g[e*r+(s+1)]&&p++),e+1<n&&s+1<r&&(l.t[(e+1)*r+(s+1)]==10?l.f[(e+1)*r+(s+1)]||p--:!l.o[(e+1)*r+(s+1)]&&!l.g[(e+1)*r+(s+1)]&&p++),l.g2[e*r+s]&&(e-1>=0&&s-1>=0&&l.t[(e-1)*r+(s-1)]==0&&!l.o[(e-1)*r+(s-1)]||s-1>=0&&l.t[e*r+(s-1)]==0&&!l.o[e*r+(s-1)]||e+1<n&&s-1>=0&&l.t[(e+1)*r+(s-1)]==0&&!l.o[(e+1)*r+(s-1)]||e-1>=0&&l.t[(e-1)*r+s]==0&&!l.o[(e-1)*r+s]||e+1<n&&l.t[(e+1)*r+s]==0&&!l.o[(e+1)*r+s]||e-1>=0&&s+1<r&&l.t[(e-1)*r+(s+1)]==0&&!l.o[(e-1)*r+(s+1)]||s+1<r&&l.t[e*r+(s+1)]==0&&!l.o[e*r+(s+1)]||e+1<n&&s+1<r&&l.t[(e+1)*r+(s+1)]==0&&!l.o[(e+1)*r+(s+1)])?p+1:p}static o69(e,s,n,r,l){let p=1;if(l.o[e*r+s]=1,l.t[e*r+s]==0){for(let o=0;o<n;o++)for(let c=0;c<r;c++)(l.g[o*r+c]==l.g[e*r+s]||l.g2[o*r+c]==l.g[e*r+s])&&!(o==e&&c==s)&&(l.o[o*r+c]||(l.o[o*r+c]=1,p++,l.t[o*r+c]!=0&&l.p[o*r+c]++),l.t[o*r+c]!=0&&l.p[o*r+c]--);return p}return l.p[e*r+s]++,l.g[e*r+s]||l.p[e*r+s]--,l.g[e*r+s]||(e-1>=0&&s-1>=0&&l.p[(e-1)*r+(s-1)]--,s-1>=0&&l.p[e*r+(s-1)]--,e+1<n&&s-1>=0&&l.p[(e+1)*r+(s-1)]--,e-1>=0&&l.p[(e-1)*r+s]--,e+1<n&&l.p[(e+1)*r+s]--,e-1>=0&&s+1<r&&l.p[(e-1)*r+(s+1)]--,s+1<r&&l.p[e*r+(s+1)]--,e+1<n&&s+1<r&&l.p[(e+1)*r+(s+1)]--),p}static m110(e,s,n,r,l){l.f[e*r+s]=1,e-1>=0&&s-1>=0&&l.p[(e-1)*r+(s-1)]++,s-1>=0&&l.p[e*r+(s-1)]++,e+1<n&&s-1>=0&&l.p[(e+1)*r+(s-1)]++,e-1>=0&&l.p[(e-1)*r+s]++,e+1<n&&l.p[(e+1)*r+s]++,e-1>=0&&s+1<r&&l.p[(e-1)*r+(s+1)]++,s+1<r&&l.p[e*r+(s+1)]++,e+1<n&&s+1<r&&l.p[(e+1)*r+(s+1)]++}};var de=class _{static $="ResultBlock";static g188=null;static u61=null;static e83=null;static g189={};static S71=5e4;static E69=30;static D69=60*1e3;static R66=500;static R67=600;static l82(){t("#"+this.$).html("").append('<img src="/img/loading_big.gif"  class="loading-big"/>')}static re(){if(t("#"+this.$).empty(),!this.g188)return;let e=this.g189[this.g188.id]!==void 0?this.g189[this.g188.id]:null;e||jt.i95(this.g188.id,i.V61);let s=this.g191(this.g188),n="";if(this.g188.state==i.G99){let P=this.u61.username?this.u61.username:a("anonymous")+this.g188.userId,B=a("level_"+this.g188.level);[i.G70,i.G75].indexOf(this.g188.level)!=-1&&(B+=" "+this.g188.sizeX+"x"+this.g188.sizeY+"/"+this.g188.mines);let L=(this.g188.duration/1e3).toFixed(3);n=a("seo_description_game",{"%user%":P,"%type%":B,"%duration%":L})}if(H.u74({title:a("seo_title_game",{"%id%":this.g188.id}),description:n,image:this.g190(),hiddenSeo:!0}),this.g188.finishedAt||(this.g188.finishedAt=new Date(this.g188.timeFinish)),this.u61&&(u.u61.id!=this.g188.userId||new Date(_.g188.finishedAt).getTime()+this.D69<Date.now())&&t("#"+this.$).append(t("<img>",{src:u.f62(this.u61.country),class:"player-flag help",title:a(this.u61.country),alt:this.u61.country}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+this.g188.userId}).text(b.g225(this.g188.userId,this.u61.username)),"<br/>",t("<span>",{class:"gray"}).append(this.g188.mobile?'<span class="glyphicon glyphicon-phone icon-mobile icon-mobile-big gray"></span> ':"",F.g202(this.g188.finishedAt),i.G133.indexOf(u.u61.id)!=-1&&this.g188.ping>=2*i.L64?t("<img>",{src:"/img/other/app-gray.svg",class:"app-gray help",title:"[GM] Played in the application"}).tooltip({trigger:"hover"}):""),'<hr class="result-hr"/>'),e&&e.newRewards.length>0){let P=e.newRewards[0];t("#"+this.$).append(a("game_new_reward_message",{"%reward%":'<img src="/img/rewards/'+i.R107[P]+'" class="reward reward'+P+'"/> <a href-local="rewards" class="bold">'+a("reward_"+P+"_name")+"</a>"}),"<br/>","<br/>")}else e&&e.newRankScore&&(t("#"+this.$).append(a("game_new_rank_message",{"%rank%":'<strong id="result_new_rank"></strong>'}),"<br/>","<br/>"),t("#result_new_rank").append(b.m107(e.newRankScore,!0).append(a(et.g279(e.newRankScore)))));let r=t("<div>"),l=t("<div>");this.i120()?t("#"+this.$).append(r,'<hr class="result-hr"/>',l):t(window).width()>=this.R66&&t("#game").width()>=this.R67?t("#"+this.$).addClass("result-block-2-column").append(t("<div>").append(t("<div>",{class:"pull-left"}).append(r),t("<div>",{class:"pull-left result-block-right-column"}).append(l),t("<div>",{class:"clearfix"}))):t("#"+this.$).append(r,'<hr class="result-hr"/>',l),this.g188.originalId&&r.append(a("game_original")+a(": "),t("<a>",{"href-local":"game/"+this.g188.originalId}).append('<span class="fa fa-caret-square-o-right game-play">',a("seo_title_game",{"%id%":this.g188.originalId})),"<br/>"),this.g188.arenaId&&r.append(a("arena_title")+a(": "),t("<a>",{"href-local":"arena/"+this.g188.arenaId}).append(m.a103(),this.g188.arenaId),"<br/>");let p={};p[i.G67]=5,p[i.G68]=30,p[i.G69]=100,p[i.G71]=5,p[i.G72]=30,p[i.G73]=100,p[i.G74]=135;let o=[i.G67,i.G68,i.G69].indexOf(this.g188.level)!=-1&&this.g188.bbbv<p[this.g188.level];this.g188.duration&&(X.u131(Math.floor(this.g188.duration/1e3)),r.append(a("game_time")+a(": "),this.g188.originalId?'<i class="fa fa-rotate-right"></i> ':"",e&&e.timePos?t("<span>",{class:o?"":"bold"}).append((this.g188.duration/1e3).toFixed(3)).popover({trigger:"hover",placement:"top",html:!0,content:()=>e.timePos+" / "+e.myCount}):t("<span>",{class:o?"":"bold"}).append((this.g188.duration/1e3).toFixed(3))," "+a("time_seconds_short")),this.g188.state==i.G99&&e&&e.timePos==1&&e.myCount>1&&r.append(" ",t("<span>",{class:"label label-default label-pb cursor-pointer",title:a("game_pb")}).on("click",()=>this.n72(z.m69==i.L65?"my-games":"my-games/ng",e.timePos,"duration")).tooltip({trigger:"hover"}).append("PB")),r.append("<br/>"),this.g188.state==i.G98&&s>1&&s<this.g188.bbbv&&r.append(a("game_estimated_time")+a(": ")+(Math.round(this.g188.duration*this.g188.bbbv/s)/1e3).toFixed(3),"<br/>")),this.g188.bbbv&&r.append(t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV"),a(": "),this.g188.state!=i.G99?s+" / ":"",o?t("<span>").append(t("<span>",{class:"bold text-danger"}).html(this.g188.bbbv),"&nbsp;",t("<b>",{class:"help text-danger"}).append('<i class="fa fa-question-circle-o">').popover({trigger:"hover",placement:"top",html:!0,content:()=>a("3bv_limit",{"%level%":a("level_"+this.g188.level),"%limit%":"<strong>"+p[this.g188.level]+"</strong>"})})):this.g188.bbbv,"<br/>"),this.g188.bbbvs&&this.g188.bbbvs<=1e9&&(r.append(t("<abbr>",{title:a("3bvs_description")}).tooltip({trigger:"hover"}).html("3BV/s"),a(": "),e&&e.bbbvsPos?t("<span>",{class:"help"}).append((this.g188.bbbvs/1e6).toFixed(4)).popover({trigger:"hover",placement:"top",html:!0,content:()=>e.bbbvsPos+" / "+e.myCount}):t("<span>").append((this.g188.bbbvs/1e6).toFixed(4))),this.g188.state==i.G99&&e&&e.bbbvsPos==1&&e.myCount>1&&r.append(" ",t("<span>",{class:"label label-default label-pb cursor-pointer",title:a("game_pb")}).on("click",()=>this.n72(z.m69==i.L65?"my-games":"my-games/ng",e.bbbvsPos,"bbbvs")).tooltip({trigger:"hover"}).append("PB")),r.append("<br/>"));let c=bs.g248(d.c188,this.g188,d.c187);if(r.append(a("game_clicks"),a(": ")),r.append(t("<abbr>").append(c.activeTotal).popover({trigger:"hover",placement:"top",html:!0,content:()=>"<strong>"+a("game_active_clicks")+"</strong><br/>"+a("game_left_clicks")+a(": ")+c.activeLeft+"<br/>"+a("game_right_clicks")+a(": ")+c.activeRight+"<br/>"+a("game_chords")+a(": ")+c.activeChords+"<br/>"}),'<span class="clicks-plus">+</span>',t("<abbr>").append(c.excessClicksDefined?c.excessTotal:"?").popover({trigger:"hover",placement:"top",html:!0,content:()=>c.excessClicksDefined?"<strong>"+a("game_excess_clicks")+"</strong><br/>"+a("game_left_clicks")+a(": ")+c.excessLeft+"<br/>"+a("game_right_clicks")+a(": ")+c.excessRight+"<br/>"+a("game_chords")+a(": ")+c.excessChords+"<br/>":"<strong>"+a("game_excess_clicks")+"</strong><br/>"+a("game_no_info")+"<br/>"}),"<br/>"),this.g188.eff&&(r.append(a("eff_description")?t("<span>",{class:"help",title:a("eff_description")}).tooltip({trigger:"hover"}).html(a("game_eff")):a("game_eff"),a(": "),e&&e.effPos?t("<span>",{class:"help"}).append(this.g188.eff+'<span class="eff-percent">%</span>').popover({trigger:"hover",placement:"top",html:!0,content:()=>e.effPos+" / "+e.myCount}):t("<span>").append(this.g188.eff+'<span class="eff-percent">%</span>')),this.g188.state==i.G99&&e&&e.effPos==1&&e.myCount>1&&r.append(" ",t("<span>",{class:"label label-default label-pb cursor-pointer",title:a("game_pb")}).on("click",()=>this.n72(z.m69==i.L65?"my-games":"my-games/ng",e.effPos,"eff")).tooltip({trigger:"hover"}).append("PB")),r.append("<br/>")),k.g132("cls")&&r.append("CPS: ",((c.activeTotal+c.excessTotal)/this.g188.duration*1e3).toFixed(4),"<br/>"),k.g132("ops")){let P=0;for(let B=0;B<=d.s164*d.s165;B++)d.c187.g[B]>P&&(P=d.c187.g[B]);r.append("Ops: ",P,"<br/>")}k.g132("ioe")&&r.append("IOE: ",c.excessClicksDefined?(s/(c.activeTotal+c.excessTotal)).toFixed(4):t("<abbr>").append("?").popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>a("game_no_info")}),"<br/>"),k.g132("thrp")&&r.append("ThrP: "+(s/c.activeTotal).toFixed(4),"<br/>"),k.g132("corr")&&r.append("Corr: ",c.excessClicksDefined?(c.activeTotal/(c.activeTotal+c.excessTotal)).toFixed(4):t("<abbr>").append("?").popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>a("game_no_info")}),"<br/>"),!this.g188.forceZiNi&&this.g188.bbbv<500&&(k.g132("zini")||k.g132("zne")||k.g132("znt")||k.g132("hzini")||k.g132("hzne")||k.g132("hznt"))&&(this.g188.forceZiNi=ri.c211(!1,d.c187,d.s164,d.s165,d.m87),this.g188.forceHZiNi=ri.c211(!0,d.c187,d.s164,d.s165,d.m87),this.g188.forceZiNi>this.g188.forceHZiNi&&(this.g188.forceZiNi=this.g188.forceHZiNi)),k.g132("zini")&&r.append("ZiNi: ",this.g188.forceZiNi?this.g188.forceZiNi:t("<a>",{id:"calc_zini_link",href:"javascript:void(0)"}).on("click",()=>this.c197("calc_zini_link")).append('<i class="fa fa-retweet">')," ",t("<a>",{href:"javascript:void(0)",title:"ZiNi Calculator"}).tooltip({trigger:"hover"}).on("click",()=>Ts.o67()).append('<i class="fa fa-arrow-circle-o-right gray"></i>'),"<br/>"),k.g132("hzini")&&r.append("H.ZiNi: ",this.g188.forceHZiNi?this.g188.forceHZiNi:t("<a>",{id:"calc_hzini_link",href:"javascript:void(0)"}).on("click",()=>this.c197("calc_hzini_link")).append('<i class="fa fa-retweet">'),"<br/>"),k.g132("zne")&&this.g188.forceZiNi&&r.append("ZNE: ",c.excessClicksDefined?this.g188.state==i.G99||this.g188.state==i.G112?(this.g188.forceZiNi/(c.activeTotal+c.excessTotal)).toFixed(4):"\u2013":t("<abbr>").append("?").popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>a("game_no_info")}),"<br/>"),k.g132("hzne")&&this.g188.forceHZiNi&&r.append("HZNE: ",c.excessClicksDefined?this.g188.state==i.G99||this.g188.state==i.G112?(this.g188.forceHZiNi/(c.activeTotal+c.excessTotal)).toFixed(4):"\u2013":t("<abbr>").append("?").popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>a("game_no_info")}),"<br/>"),k.g132("znt")&&this.g188.forceZiNi&&r.append("ZNT: "+(this.g188.state==i.G99||this.g188.state==i.G112?(this.g188.forceZiNi/c.activeTotal).toFixed(4):"\u2013"),"<br/>"),k.g132("hznt")&&this.g188.forceHZiNi&&r.append("HZNT: "+(this.g188.state==i.G99||this.g188.state==i.G112?(this.g188.forceHZiNi/c.activeTotal).toFixed(4):"\u2013"),"<br/>"),k.g132("rpq")&&r.append("RQP: ",this.g188.bbbvs>0?((this.g188.duration+1e3)*1e3/this.g188.bbbvs).toFixed(4):"\u2013","<br/>"),k.g132("ios")&&this.g188.bbbv&&r.append("IOS: ",this.g188.duration>2e3?(Math.log(this.g188.bbbv)/Math.log(this.g188.duration/1e3-1)).toFixed(4):"\u2013","<br/>"),this.g188.hints&&this.g188.hints>0&&r.append(a("game_hints")+a(": ")+"<b>"+this.g188.hints+"</b>","<br/>");let f=!1,h;if(!this.g188.originalId&&this.g188.items){h=this.g188.items;let P={},B={},L={},mt=null;f=h[i.X61]!==void 0,f&&new Date(_.g188.finishedAt).getTime()<1712055609891&&(f=!1);for(let j in h)j<=i.G128&&j!=i.G126||j>=i.J61&&j<=i.J69?P[j]=h[j]:j>=i.E86&&j<=i.E100?B[j]=h[j]:j>=i.T106&&j<=i.T107?mt=j:j>=i.A67&&j<=i.A68&&(L[j]=h[j]);if(Object.keys(L).length>0){l.append(a("arena_ticket")+a(": "));for(let j in L){let zt=L[j],re=Math.floor((j-i.A66)/10),ie=(j-i.A66)%10,De=j>=i.A69&&j<=i.A70,$e=j>=i.A71&&j<=i.A72,ft=j>=i.A73&&j<=i.A74;l.append(t("<nobr>").append(zt>1?(f?zt/i.X62:zt)+'<span class="gem-news-x">\xD7</span>':"",K.m92(j,null,"top",null).append(t("<span>",{class:"black-link no-underline cursor-pointer ticket-box"+(De?" ticket-box-ice":"")+($e?" ticket-box-flower":"")+(ft?" ticket-box-fruit":"")}).append('<i class="fa fa-ticket ticket ticket'+re+'"></i>L'+ie)))," ")}l.append(f?'<strong class="text-danger x100">\xD7100</strong>':"","<br/>")}if(Object.keys(P).length>0){l.append(a("game_gems")+a(": "));for(let j in P)l.append("+"+(f?h[j]/i.X62:h[j]),I.g221(j,"icon-right"),"&nbsp;");l.append(f?'<strong class="text-danger x100">\xD7100</strong>':"","<br/>")}if(Object.keys(B).length>0){l.append(a("candies_"+mt)+a(": "));for(let j in B)l.append("+"+(f?h[j]/i.X62:h[j]),I.e93(j,"big"),"&nbsp;");l.append(f?'<strong class="text-danger x100">\xD7100</strong>':"","<br/>")}}l.append(a("game_exp")+a(": "),this.g188.exp>0?"+":"",f?this.g188.exp/i.X62:this.g188.exp,this.g188.exp>0?I.e92("icon-right"):"",f?' <strong class="text-danger x100">\xD7100</strong>':"","<br/>"),this.g188.diff>=1&&l.append(a("game_coins"),": +",f?this.g188.diff/i.X62:this.g188.diff,I.c200("icon-right"),f?' <strong class="text-danger x100">\xD7100</strong>':"","<br/>"),h&&h[i.A103]&&l.append(a("activity_points")+a(": "),"+",f?h[i.A103]/i.X62:h[i.A103],I.a105("icon-right"),f?' <strong class="text-danger x100">\xD7100</strong>':"","<br/>"),h&&h[i.H97]&&l.append(a("honor_points")+a(": "),"+",f?h[i.H97]/i.X62:h[i.H97],I.h77("icon-right"),f?' <strong class="text-danger x100">\xD7100</strong>':"","<br/>");let g=0;e&&e.mastery?g=e.mastery:this.e83&&this.e83.mastery&&(g=this.e83.mastery),g>0&&[i.G67,i.G68,i.G69].indexOf(this.g188.level)!=-1&&!i.i140(navigator.userAgent)&&l.append(t("<span>",{class:"help",title:a("mastery_description")}).tooltip({trigger:"hover"}).append(a("game_mastery")),a(": "),t("<a>",{"href-local":"mastery/"+this.g188.id,class:"black-link"}).append(m.m103("mastery"+this.g188.level),g),"<br/>");let w=0;e&&e.ws?w=e.ws:this.e83&&this.e83.ws&&(w=this.e83.ws),w>0&&!i.i140(navigator.userAgent)&&l.append(t("<span>",{class:"help",title:a("ws_description")}).tooltip({trigger:"hover"}).append(a("game_ws")),a(": "),t("<a>",{"href-local":"winstreak/"+this.g188.id,class:"black-link"}).append(m.w68("ws"+this.g188.level),w),"<br/>");let C=0;e&&e.endurance?C=e.endurance:this.e83&&this.e83.endTime&&(C=this.e83.endTime),C>0&&!i.i140(navigator.userAgent)?l.append(t("<span>",{class:"help",title:a("endurance_description")}).tooltip({trigger:"hover"}).append(a("game_end")),a(": "),t("<a>",{"href-local":"endurance/"+this.g188.id,class:"black-link"}).append(m.e86("end"+this.g188.level),q.g211(C,!0)),"<br/>"):e&&e.enduranceGames>=this.E69&&l.append(t("<span>",{class:"help",title:a("endurance_description")}).tooltip({trigger:"hover"}).append(a("game_end")),a(": "),e.enduranceGames+" / "+i.U73,"<br/>");let A=e&&e.newScore?e.oldScore?e.newScore-e.oldScore:e.newScore:0,M=e&&e.newScoreSeason?e.oldScoreSeason?e.newScoreSeason-e.oldScoreSeason:e.newScoreSeason:0;if(A||M&&!e.isNewUser){let P=t("<div>");if(A&&(P.append(t("<nobr>").append("+",A,m.s176(0,"icon-right"))),e.oldPos&&e.newPos&&e.newPos!=e.oldPos)){let B=q.g208(e.newPos);B&&P.append(t("<a>",{class:B+" top-badge",href:"javascript:void(0);"}).on("click",()=>this.n72("best-players",e.newPos)).html("TOP "+e.newPos).popover({trigger:"hover",placement:"top",html:!0,content:()=>'<span class="glyphicon glyphicon-arrow-up"></span> '+(e.oldPos-e.newPos)}))}M&&!e.isNewUser&&P.append(t("<div>").append(t("<nobr>").append("+",M,m.s176(R.g257(),"icon-right"),t("<span>").css("margin-left","6px").append(gt.r219())))),l.append("<br/>",t("<table>").append(t("<tr>").append(t("<td>").append(a("ranking_column_score")+a(":")+"&nbsp;"),t("<td>").append(P)))),u.u61.id==this.g188.userId&&!u.u61.registeredAt&&e.newPos&&e.newPos<=this.S71&&l.append("<br/>",t("<a>",{href:"javascript:void(0);",class:"btn btn-xs btn-social btn-default btn-game-sign-up"}).on("click",()=>Te.s143()).append(t("<span>",{class:"fa fa-lock"}),a("game_sign_up_to_save_results")),"<br/>")}if(u.p61&&(this.g188.state==i.G98||this.g188.state==i.G111)&&!k.g122()&&(!e||!this.g188.arenaInfo)&&(l.append('<hr class="result-hr"/>',t("<div>",{id:Hi.$,class:"analyser"})),Hi.re()),u.u61.id!=this.g188.userId&&i.G133.indexOf(u.u61.id)!=-1&&l.append("<br/>",t("<a>",{id:"report_cheating_btn",href:"javascript:void(0);",class:"btn btn-xs btn-default"}).on("click",()=>this.r62()).html('<i class="fa fa-ban"></i> Report cheating'),"<br/>"),e&&(e.questFinished||e.newRankScore)&&nt.r139(),e&&e.newScore&&(G.u70=e.newScore),e){let P=this.g188.bbbvs?Math.min(2,Math.max(.2,this.g188.bbbvs/1e6)):1;qs.c61(this.g188.id,Math.round(s/P))}x.r226()}static c197(e){t("#"+e).html(a("loading")+"..."),!this.g188.forceZiNi&&setTimeout(()=>{this.g188.forceZiNi=ri.c211(!1,d.c187,d.s164,d.s165,d.m87),this.g188.forceHZiNi=ri.c211(!0,d.c187,d.s164,d.s165,d.m87),this.g188.forceZiNi>this.g188.forceHZiNi&&(this.g188.forceZiNi=this.g188.forceHZiNi),this.re()},50)}static r62(){Yt.u61={id:this.g188.userId,username:this.u61.username,country:this.u61.country},Yt.u118=null,Yt.g118=this.g188.id,Yt.s143()}static g190(){let e;k.g144().indexOf("hd")!=-1?e=32:e=16;let s=X.g192(e,this.g188.sizeX,this.g188.sizeY),n=J.g287(V.e97);return s.url="https://"+n+"/screen/"+this.g188.id+"-"+k.g144()+"-"+e+".png",s}static n72(e,s,n){e=="best-players"?W.s92("score"):(Mt.s95(!1),Mt.s92(n)),S.s129=s,x.n81(e,!0)}static u128(e,s,n,r,l,p,o){Pt.c63(n.state,n.eff),!(s&&e!=d.$)&&(this.g188=n,this.u61=r,this.e83=o,l&&(this.g189={},this.g189[n.id]=l),p&&(d.c187=p),this.p92(this.$)&&this.re())}static g191(e){return e.state==i.G99||e.state==i.G112?e.bbbv:e.bbbvs>=1e8?1:e.bbbvs?Math.round(e.duration/1e3*e.bbbvs/1e6):0}static p92(e){return t("#game")[0]?(this.i120()?t("#result_absolute_right_block").append(t("<div>",{class:"result-block"}).append(t("<div>",{id:e}))):t("#result_bottom_block").append(t("<div>",{class:"result-block"}).append(t("<div>",{id:e}))),!0):!1}static i120(){let e=t("#game")[0].getBoundingClientRect().right;return t(window).width()-e>=280||i.i140(navigator.userAgent)}};var ke=class{static u64=null;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return{title:location.pathname.indexOf("/ng")==-1?a("seo_title_my_games"):a("seo_title_ng_my_games"),description:location.pathname.indexOf("/ng")==-1?a("seo_description_my_games"):a("seo_description_ng_my_games"),hiddenSeo:!0}}static r167(e,s){s.append(t("<div>",{id:"is_all_games_wrapper",class:"pull-left"}),t("<div>",{id:"RankingFilterBlock",class:"pull-right"}),t("<div>",{class:"clearfix"})),Mt.re()}static g159(){let e=Mt.g103(),s=[{class:"stat-rank-column",title:""},{class:"stat-time-column",title:a("ranking_column_time")}];return e&&s.push({class:"stat-state-column",title:""}),Mt.g105()&&s.push({class:"stat-size-column",title:a("ranking_column_size")}),[i.G71,i.G72,i.G73,i.G74].indexOf(z.g111())!=-1&&s.push({title:a("ranking_column_hints")}),e||s.push({class:"stat-nf-column",title:""}),s.push({class:e?"stat-3bv-extra-column":"stat-3bv-column",title:t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV")},{class:"stat-3bvs-column",title:t("<abbr>",{title:a("3bvs_description")}).tooltip({trigger:"hover"}).html("3BV/s")},{class:"stat-eff-column",title:t("<abbr>",{title:a("eff_description")?a("eff_description"):a("game_eff")}).tooltip({trigger:"hover"}).html("Eff")},{title:a("ranking_column_date")}),s}static g74(){return"100%"}static g80(e,s){let n=Mt.g103(),r=Mt.g93(),l=Mt.g90(),p=de.g191(e);return t("<tr>",{id:"game_row_"+e.gameId}).append(t("<td>").append(s),t("<td>").append(t("<a>",{"href-local":"game/"+e.gameId}).append(e.state!=i.G97?t("<span>").append(!n||e.cellsExist?'<span class="fa fa-caret-square-o-right game-play">':'<span class="fa fa-eye-slash game-play">',(e.duration/1e3).toFixed(3)):t("<span>").append('<span class="fa fa-caret-square-o-right game-play">',((Date.now()-new Date(e.createdAt).getTime())/1e3).toFixed(3)))),n?t("<td>",{class:"text-center"}).append(t("<span>",{class:"help",title:q.g163(e.state)}).tooltip({html:!0,trigger:"hover"}).append(q.g162(e.state,e.level,"icon-state-table"))):"",Mt.g105()?t("<td>").append(e.sizeX+"x"+e.sizeY+"/"+e.mines):"",[i.G71,i.G72,i.G73,i.G74].indexOf(z.g111())!=-1?t("<td>").html(e.hints>0?e.hints:""):"",n?"":t("<td>",{class:r&&!n?"bg-info":""}).html(e.nf?t("<abbr>",{title:a("nf")}).tooltip({trigger:"hover"}).html("NF"):""),t("<td>").html(n&&p!=e.bbbv&&e.bbbv!==null?t("<span>",{class:"gray"}).append(p+" / "+e.bbbv):e.bbbv),t("<td>",{class:l=="bbbvs"&&!n?"bg-warning":""}).html(e.bbbvs>0?t("<span>",{class:n&&p!=e.bbbv?"gray":""}).append((e.bbbvs/1e6).toFixed(e.bbbvs>1e7?0:3)):""),t("<td>",{class:l=="eff"&&!n?"bg-warning":""}).html(e.eff?e.eff+'<span class="eff-percent">%</span>':"\u2014"),t("<td>",{class:l=="finishedAt"&&!n?"bg-warning":""}).append(e.finishedAt?t("<span>").append(e.mobile?'<span class="glyphicon glyphicon-phone icon-mobile"></span> ':"",F.g202(e.finishedAt)):"",this.u64&&(!n||e.state==i.G99)&&i.G133.indexOf(u.u61.id)!=-1?t("<span>").append():"",this.u64&&n&&e.state!=i.G99&&i.G133.indexOf(u.u61.id)!=-1?t("<span>").append("&nbsp;&nbsp;&nbsp;",t("<button>",{id:"delete_game_"+e.gameId,class:"btn btn-xs btn-default",title:"Delete game (to remove from ws, mastery)"}).tooltip({trigger:"hover"}).on("click",()=>this.d73(e.gameId)).append('<i class="fa fa-trash"></i>')):""))}static b79(e){confirm("Are you sure you want to ban game #"+e)&&(t("#delete_game_"+e).prop("disabled",!0),y.m109("AdminController.banGameWsAction",[e],s=>{t("#delete_game_"+s).tooltip("destroy").remove(),t("#game_row_"+s).children().addClass("bg-danger")}))}static d73(e){confirm("Are you sure you want to delete game #"+e)&&(y.m109("AdminController.deleteGameWsAction",[e],s=>{t("#delete_game_"+s).tooltip("destroy").remove(),t("#game_row_"+s).children().addClass("bg-danger")}),t("#delete_game_"+e).prop("disabled",!0))}static g160(){let e=z.g111(),s=[i.G70,i.G75].indexOf(e)!=-1;return{level:e,sizeX:s?pt.g74():i.G135[e].SX,sizeY:s?pt.g75():i.G135[e].SY,mines:s?pt.g76():i.G135[e].MINES,nfOnly:Mt.g93(),sortBy:Mt.g90(),season:Y.g106(),isAllSizes:Mt.g105(),isAllGames:Mt.g103(),isNoReplays:Mt.g104(),userId:this.u64}}};var Ce=class{static $="ModeSelectBlock";static re(){let e=location.pathname.indexOf("/ng")!=-1;t("#"+this.$).empty().append(location.pathname.indexOf("my-games")!=-1?At.l62("Games",ke.u64):"",t("<div>",{class:"hidden-xs hidden-sm"}).append(t("<div>",{class:"pull-left level-select"}).append(e?t("<a>",{"href-local":location.pathname.replace("/ng","")}).append(a("menu_standard_mode")):t("<strong>").append(a("menu_standard_mode")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",e?t("<strong>").append(a("menu_ng_mode")):t("<a>",{"href-local":location.pathname+"/ng"}).append(a("menu_ng_mode"))),t("<div>",{class:"pull-right"}).append(t("<span>",{id:Y.$})),t("<div>",{class:"clearfix"}))),Y.e71=!0,Y.re(),x.r226()}};var li=class{static $="EmcLotteryBlock";static P61=10;static w62=null;static p67=null;static p68=null;static p65=1;static re(){t("#"+this.$).empty().append(t("<h2>").append(a("emc_lottery_title")),"<hr/>",t("<div>",{id:"lottery_content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'));let e=Y.g106();y.m109("LotteryController.getLotteryDataWsAction",[e],this.r61.bind(this))}static r61(e,s,n){this.w62=e,this.p67=s,this.p68=n,this.p65=1,e?(t("#lottery_content").empty().append(t("<div>",{class:"lottery-filters"}).append(t("<div>",{class:"pull-right"}).append(t("<span>",{id:Y.$})),t("<div>",{class:"clearfix"})),"<br/>",t("<p>",{class:"bold"}).append(a("emc_lottery_winners")+a(":")),t("<div>",{id:"lottery_winners"}),"<br/>","<br/>"),this.r99()):(t("#lottery_content").empty().append(t("<div>",{class:"lottery-filters"}).append(t("<div>",{id:"start_in_lottery_wrapper",class:"pull-left"}).append(a("champ_start_in")+a(": "),t("<strong>",{id:"start_in_lottery",class:"text-danger"})),t("<div>",{class:"pull-right"}).append(t("<span>",{id:Y.$})),t("<div>",{class:"clearfix"})),"<br/>",t("<p>",{class:"bold"}).append(a("emc_lottery_participants")+a(":")),t("<div>",{id:"lottery_participants"}),"<br/>",t("<p>",{class:"bold"}).append(a("emc_lottery_prize_pool")+a(":")),t("<div>",{id:"lottery_prize_pool"}),"<br/>"),this.r98(),this.r100()),t(".lottery-filters").width(t("#lottery_table").width()),Y.e71=!1,Y.re(),lt.i85("start_in_lottery",lt.T83,null,()=>{setTimeout(()=>{this.re()},5e3)})}static r98(){let e=[];for(let n=(this.p65-1)*this.P61;n<Math.min(this.p65*this.P61,this.p67.length);n++){let r=this.p67[n];e.push(t("<tr>",{class:r.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(n+1),t("<td>").append(b.m106(r.userId,r)),t("<td>").append(I.r214(r.rep,r.createdAt).append(b.g227(r.rep),m.r201("icon-right"))),t("<td>").append(r.winChance?(Math.ceil(100*100*r.winChance)/100).toFixed(2)+"%":"\u2014")))}let s="";this.p67.length>this.P61&&(s=t("<ul>",{class:"pagination pagination-sm noselect no-margin"}),ve.u114(s,{totalPages:Math.ceil(this.p67.length/this.P61),startPage:this.p65,onPageClick:(n,r)=>{this.p65=r,this.r98()}})),t("#lottery_participants").empty().append(t("<table>",{id:"lottery_table",class:"table table-bordered width-auto"}).append(t("<thead>").append(t("<tr>").append(t("<th>"),t("<th>",{class:"stat-user-column"}).append(a("ranking_column_player")),t("<th>").append(a("emc_rep")),t("<th>").append(a("emc_lottery_win_chance")))),t("<tbody>").append(e)),s),x.r226()}static r99(){let e=[];this.w62.length==0&&e.push(t("<tr>").append(t("<td>",{colspan:3}).append("\u2014")));for(let n=(this.p65-1)*this.P61;n<Math.min(this.p65*this.P61,this.w62.length);n++){let r=this.w62[n],l=T.i143(r.itemType);e.push(t("<tr>",{class:r.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(n+1),t("<td>").append(b.m106(r.userId,r)),t("<td>").append(D.m104(l,"top").append(D.r204(l,"small")," ",D.r205(l,!0)))))}let s="";this.w62.length>this.P61&&(s=t("<ul>",{class:"pagination pagination-sm noselect"}),ve.u114(s,{totalPages:Math.ceil(this.w62.length/this.P61),startPage:this.p65,onPageClick:(n,r)=>{this.p65=r,this.r99()}})),t("#lottery_winners").empty().append(t("<table>",{id:"lottery_table",class:"table table-bordered width-auto"}).css("min-width","360px").append(t("<thead>").append(t("<tr>").append(t("<th>"),t("<th>",{class:"stat-user-column"}).append(a("ranking_column_player")),t("<th>").append(a("market_item")))),t("<tbody>").append(e)),s),x.r226()}static r100(){if(!this.p68){t("#lottery_prize_pool").append('<img src="/img/events/coming-soon.png" width="144" alt="Coming soon"/>',"<br/>","<br/>");return}let e=[];for(let s=0;s<this.p68.length;s++){let n=T.i143(this.p68[s]);e.push(t("<tr>").append(t("<td>").append(s+1),t("<td>").append(D.m104(n,"top").append(D.r204(n,"small")," ",D.r205(n,!0)))))}t("#lottery_prize_pool").append(t("<table>",{class:"table table-bordered width-auto"}).append(t("<thead>").append(t("<tr>").append(t("<th>"),t("<th>").append(a("market_item")))),t("<tbody>").append(e))),x.r226()}};var Y=class{static $="SeasonFilterBlock";static s85=null;static e71=!1;static s96=0;static s97=12;static re(){t("#"+this.$).empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"season_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.e71?"":a("ranking_season")+a(": "),this.g106()?F.g205(this.g106(),!0):a("time_all_time"),t("<span>",{class:"caret"})),t("<ul>",{id:"season_dropdown_list",class:"dropdown-menu"}))),this.u85()}static u85(){let e=t("#season_dropdown_list").empty(),s=R.g257(),n=2016*12;this.s96==0?this.e71&&e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c119("")).html(a("time_all_time")))):e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",r=>{r.stopPropagation(),this.s96-=this.s97,this.u85()}).append(t("<span>",{class:"blue"}).append('<i class="fa fa-long-arrow-left"></i> ',a("list_previous")))));for(let r=s-this.s96;r>s-this.s96-this.s97;r--)r>=n&&e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c119(r)).html(F.g205(r,r==this.g106()))));s-this.s96>n+this.s97&&e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",r=>{r.stopPropagation(),this.s96+=this.s97,this.u85()}).append(t("<span>",{class:"blue"}).append(a("list_next"),' <i class="fa fa-long-arrow-right"></i>'))))}static c119(e){this.s85=e,location.href.indexOf("help/achievements")!=-1?wi.r114():location.href.indexOf("ranking")!=-1||location.href.indexOf("my-games")!=-1?(Ce.re(),S.re()):location.href.indexOf("emc")!=-1?li.re():S.re()}static s98(e){this.s85=e}static g106(){return W.i76()?"":this.s85?this.s85:this.e71?"":R.g257()}static g107(){let e=location.pathname.match(/best-players-(\d+)/);return e?parseInt(e[1]):this.g106()}};var Gs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=W.g89(),s=Y.g107();return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{class:"text-center",title:W.i76()?t("<span>",{class:"help",title:a("ranking_column_score")}).tooltip({trigger:"hover"}).append(m.s176(s,"icon-title")):a("ranking_column_score")},W.i77()?{class:"text-center best-players-score-short "+(e?"hide":""),title:a("season_reward")}:"",{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_time")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("timePoints")).append(m.t105("icon-title"))},i.i137(s)?{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("game_eff")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("effPoints")).append(m.e87("icon-title"))}:"",{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_exp")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("exp")).append(m.e85("icon-title"))},W.i76()?{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("profile_equipment")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("quality")).append(m.e88("icon-title"))}:"",W.i76()?"":{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_coins")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("coinsSeason")).append(m.c199("icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_mastery")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("mastery")).append(m.m103("icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_ws")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("ws")).append(m.w68("icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("arena_points")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("arenaPoints")).append(m.a103("icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_diff")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("diff")).append(m.d76(1/0,!1,"icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_end")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("end")).append(m.e86("icon-title"))},i.i137(s)?"":{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_wins")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("winsAll")).append(m.w69("icon-title"))},{class:"text-center best-players-score-full "+(e?"":"hide"),title:t("<span>",{class:"help",title:a("ranking_column_rewards")}).tooltip({trigger:"hover"}).on("click",()=>this.s119("rewardsAll")).append(m.r200("icon-title"))}]}static s119(e){W.c98(e)}static g74(){return t(window).width()<500?"100%":Y.g106()?"500px":"450px"}static g80(e,s){let n=W.g89(),r=e.season>i.U65?i.g252(e.score,s):null;return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap text-center"}).append(b.m108(e,e,e.season,"left").append(t("<span>",{class:"dotted-underline"}).append(e.score),m.s176(e.season,"icon-small icon-right"))),e.season>i.U65?t("<td>",{class:"text-nowrap text-center best-players-score-short "+(n?"hide":"")}).append(t("<span>").append(t("<span>",{class:e.season==R.g257()?"transparent":""}).append(e.season>=i.S83?t("<span>").append(b.g227(r[0]),m.c199("icon-small icon-right"),"&nbsp;&nbsp;&nbsp;",r[1]>=1?t("<span>").append(r[1],m.g212(e.season>=i.S84?i.G127:i.G124,"gem-reward")):""):t("<span>").append(b.g227(e.score*i.S86),m.c199("icon-small icon-right"),"&nbsp;&nbsp;&nbsp;",e.score>=i.S87?t("<span>").append(Math.floor(Math.pow(e.score/i.S87,i.S88)),m.g212(i.G124,"gem-reward")):"")))):"",t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.timePoints>0?t("<div>").append(q.m95({score:e.timeScore,category:a("ranking_category_time"),userId:e.userId,username:e.username,country:e.country,finishedAt:e.timeFinishedAt,level:e.timeLevel,sizeX:e.timeSizeX,sizeY:e.timeSizeY,mines:e.timeMines,duration:e.timeDuration,bbbv:e.timeBbbv,bbbvs:e.timeBbbvs,season:e.season,mobile:e.timeMobile}).append(q.m94(e.timeId,e.timeLevel,e.timeDuration,!0,!0,"black-link"))):""),i.i137(e.season)?t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.effPoints>0?t("<div>").append(q.m95({score:e.effScore,category:a("game_eff"),userId:e.userId,username:e.username,country:e.country,finishedAt:e.effFinishedAt,level:e.effLevel,sizeX:e.effSizeX,sizeY:e.effSizeY,mines:e.effMines,effStrong:e.effEff,duration:e.effDuration,bbbv:e.effBbbv,bbbvs:e.effBbbvs,season:e.season,mobile:e.effMobile}).append(t("<a>",{"href-local":"game/"+e.effId,class:"level"+e.effLevel+"-link"}).append(m.e87("icon-small level"+e.effLevel),e.effEff+"%"))):""):"",t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.exp>0?t("<div>").append(q.m95({score:e.expScore,category:a("ranking_category_exp"),userId:e.userId,username:e.username,country:e.country,exp:e.exp,season:e.season}).append(m.e85("icon-small icon-left"),b.g228(e.exp,!0))):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.season==0?t("<div>").append(e.quality>0?t("<span>").append(D.r209(e.eq,null,!1,"top",e)):""):t("<div>").append(e.coinsSeason>0?q.m95({score:e.coinsSeasonScore,category:a("ranking_category_coins"),userId:e.userId,username:e.username,country:e.country,coins:e.coinsSeason,season:e.season}).append(m.c199("icon-small icon-left"),b.g228(e.coinsSeason,!0)):"")),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.masteryBestId&&e["mastery"+e.masteryLevel]>1?t("<div>").append(q.m95({score:e.masteryScore,category:a("ranking_category_mastery"),userId:e.userId,username:e.username,country:e.country,level:e.masteryLevel,mastery:e["mastery"+e.masteryLevel],avgTime:e["mastery"+e.masteryLevel+"HintsTime"]%i.S80/1e3,sp:e.masteryBestPoints,season:e.season}).append(t("<a>",{"href-local":"mastery/"+e.masteryBestId,class:"black-link"}).append(m.m103("icon-small mastery"+e.masteryLevel),e["mastery"+e.masteryLevel]))):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.wsBestId&&e["ws"+e.wsLevel]>1?t("<div>").append(q.m95({score:e.wsScore,category:a("ranking_category_ws"),userId:e.userId,username:e.username,country:e.country,level:e.wsLevel,ws:e["ws"+e.wsLevel],avgTime:e["ws"+e.wsLevel+"HintsTime"]%i.S80/1e3,sp:e.wsBestPoints,season:e.season}).append(t("<a>",{"href-local":"winstreak/"+e.wsBestId,class:"black-link"}).append(m.w68("icon-small ws"+e.wsLevel),e["ws"+e.wsLevel]))):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.arenaPoints>0?t("<div>").append(q.m95({score:e.arenaScore,category:a("arena_points"),userId:e.userId,username:e.username,country:e.country,arenaPoints:e.arenaPoints,season:e.season}).append(m.a103("icon-small"),e.arenaPoints)):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.diff>0?t("<div>").append(q.m95({score:e.diffScore,category:a("ranking_category_diff"),userId:e.userId,username:e.username,country:e.country,finishedAt:e.diffFinishedAt,level:e.diffLevel,sizeX:e.diffSizeX,sizeY:e.diffSizeY,mines:e.diffMines,bbbv:e.diffBbbv,realDiff:e.diff,season:e.season}).append(t("<a>",{"href-local":"game/"+e.diffId,class:"black-link"}).append(m.d76(e.diff)," ",b.g228(Math.floor(e.diff),!0)))):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.endBestId?t("<div>").append(q.m95({score:e.endScore,category:a("ranking_category_end"),userId:e.userId,username:e.username,country:e.country,endLevel:e.endLevel,endTime:e["end"+e.endLevel],season:e.season}).append(t("<a>",{"href-local":"endurance/"+e.endBestId,class:"black-link"}).append(m.e86("icon-small end"+e.endLevel),q.g211(e["end"+e.endLevel],!1)))):""),i.i137(e.season)?"":t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.winsAll>0?t("<div>").append(q.m95({score:e.winsScore,category:a("ranking_category_wins"),userId:e.userId,username:e.username,country:e.country,wins:e.winsAll,season:e.season}).append(m.w69("icon-small"),b.g228(e.winsAll,!1))):""),t("<td>",{class:"text-nowrap best-players-score-full "+(n?"":"hide")}).append(e.rewardsAll>0?t("<div>").append(q.m95({score:e.rewardsScore,category:a("ranking_category_rewards"),userId:e.userId,username:e.username,country:e.country,rewards:e.rewardsAll,season:e.season}).append(m.r200("icon-small"),e.rewardsAll)):""))}static g160(){return N.g160()}};var Es=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_tickets_found")},{title:a("ranking_total_level")}]}static g74(){return t(window).width()<600?"100%":"600px"}static g80(e,s){let n=0;for(let l=1;l<=8;l++)e.extraStat["t"+l]&&(n+=e.extraStat["t"+l]);let r=t("<span>",{class:"help dotted-underline"}).append(b.g227(n)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append((()=>{let l=[];for(let p=1;p<=8;p++)e.extraStat["t"+p]&&l.push(t("<span>").append("L"+p+a(": "),b.g227(e.extraStat["t"+p])),"<br/>");return l})())});return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(r),t("<td>").append("L "+b.g227(e.ticketScoreAll)))}static g160(){return N.g160()}};var Is=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=W.g93(),s=[{class:"stat-rank-column",title:S.s130==i.S91?a("ranking_column_rank"):""},{class:"stat-user-column",title:a("ranking_column_player")},{class:"stat-best-game-column",title:a("ranking_column_time")},{class:"stat-level-full-column",title:a("ranking_column_level")},{class:"hidden-xs",title:a("ranking_column_date")}];return e||s.push({title:a("ranking_column_score")}),s}static g74(){return"100%"}static g80(e,s){let n=W.g93();return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(q.m94(n?e.nfId:e.timeId,e.timeLevel,e.timeDuration,!1,!0,"black-link"),e.timeMobile?'<span class="glyphicon glyphicon-phone icon-mobile gray icon-right"></span> ':""),t("<td>").append(a("level_"+e.timeLevel)+" ",[i.G71,i.G72,i.G73,i.G74].indexOf(e.timeLevel)!=-1?t("<abbr>",{title:a("ng")}).tooltip({trigger:"hover"}).html("NG"):"",[i.G70,i.G75].indexOf(e.timeLevel)!=-1?" "+e.timeSizeX+"x"+e.timeSizeY+"/"+e.timeMines:""),t("<td>",{class:"hidden-xs"}).html(F.g203(e.timeFinishedAt,!1,!0)),n?"":t("<td>").append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.timeScore,m.s176(e.season,"icon-small icon-right"))))}static g160(){return N.g160()}};var Ds=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("ranking_column_wins")}]}static g74(){return t(window).width()<550?"100%":"550px"}static g80(e,s){let n=W.g94()=="winsAll"&&e.winsAll>0?t("<span>",{class:"help",title:a("ranking_column_wins")}).append(b.g227(e.winsAll)).popover({trigger:"hover",placement:"top",html:!0,content:()=>{let r="",l=[i.G67,i.G68,i.G69,i.G70,i.G71,i.G72,i.G73,i.G74,i.G75];for(let p=0;p<l.length;p++){let o=l[p],c=e["wins"+o];c>0&&(r+=a("level_"+o),i.i139(o)&&(r+=" NG"),r+=a(": ")+b.g227(c)+"<br/>")}return r}}):t("<span>").append(b.g227(e[W.g94()]));return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(n))}static g160(){return N.g160()}};var $s=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return N.g158()}static r167(e,s,n){N.r167(e,s,n)}static g159(){let e=W.g94(),s=[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:t("<abbr>",{title:a("ws_description")}).tooltip({trigger:"hover"}).html(a("ranking_column_ws"))},{title:a("ranking_column_level")},e!="wsNHPoints"?{title:a("game_hints")}:"",{title:a("ranking_column_average_time")}];return e=="wsBestPoints"&&s.push({title:a("ranking_column_score")}),s}static g74(){return"100%"}static g80(e,s){let n=t("<td>"),r=t("<td>"),l=t("<td>"),p=t("<td>"),o=t("<td>"),c=W.g94();if(c=="wsBestPoints")e["ws"+e.wsLevel+"Id"]?(n.append(t("<a>",{"href-local":"winstreak/"+e["ws"+e.wsLevel+"Id"],class:"black-link"}).append(m.w68("icon-small ws"+e.wsLevel),e["ws"+e.wsLevel])),r.append(a("level_"+e.wsLevel)),l.append(Math.floor(e["ws"+e.wsLevel+"HintsTime"]/i.S80)),p.append(t("<a>",{"href-local":"winstreak/"+e["ws"+e.wsLevel+"Id"],class:"black-link"}).append(m.l84("level"+e.wsLevel),e["ws"+e.wsLevel+"HintsTime"]%i.S80/1e3)),o.append(t("<a>",{"href-local":"help/trophies",class:"black-link no-underline"}).append(e.wsScore,m.s176(e.season,"icon-small icon-right")))):n.append(0);else if(c=="wsNHPoints")o=null,l=null,n.append(t("<a>",{"href-local":"winstreak-nh/"+e.wsNHId,class:"black-link"}).append(m.w68("icon-small ws"+e.wsNHLevel),e.wsNH)),r.append(a("level_"+e.wsNHLevel)),p.append(t("<a>",{"href-local":"winstreak-nh/"+e.wsNHId,class:"black-link"}).append(m.l84("level"+e.wsNHLevel),e.wsNHTime/1e3));else{o=null;let f=W.g84();e["ws"+f+"Id"]?(n.append(t("<a>",{"href-local":"winstreak/"+e["ws"+f+"Id"],class:"black-link"}).append(m.w68("icon-small ws"+f),e["ws"+f])),r.append(a("level_"+f)),l.append(Math.floor(e["ws"+f+"HintsTime"]/i.S80)),p.append(t("<a>",{"href-local":"winstreak/"+e["ws"+f+"Id"],class:"black-link"}).append(m.l84("level"+f),e["ws"+f+"HintsTime"]%i.S80/1e3))):n.append(0)}return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>").append(s),t("<td>").append(b.m106(e.userId,e,"right")),n,r,l,p,o)}static g160(){return N.g160()}};var Ae=class{static $="NewsFilterBlock";static u64=null;static f67="";static re(){let e={"":a("news_filter_all"),isNewRecord:a("news_filter_new_record"),newRankScore:a("news_filter_new_rank"),reward:a("news_filter_new_reward"),diff:a("news_filter_high_diff"),hasGems:a("news_filter_gems"),hasTickets:a("news_filter_tickets")},s=t(window).width()>600;t("#"+this.$).empty().append(At.l62("News",this.u64),t("<div>",{class:"pull-left"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"only_my",type:"checkbox"}).prop("checked",this.u64!==null).on("change",()=>this.c95()),t("<span>").append(a("news_my_results")))),t("<span>",{class:"dropdown pull-right"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(e[this.f67],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let n=[];for(let r in e){let l=e[r];n.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c75(r)).append(l)))}return n})())),s?t("<div>",{id:"SeasonFilterBlock",class:"pull-right"}):"",t("<div>",{class:"clearfix"})),s||t("#"+this.$).append("<br/>",t("<div>").append(t("<div>",{id:"SeasonFilterBlock",class:"pull-left"}),t("<div>",{class:"pull-right"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>S.re()).append('<span class="glyphicon glyphicon-refresh"></span> '+a("watching_update_button"))),t("<div>",{class:"clearfix"}))),Y.e71=this.u64!==null,Y.re()}static c95(){this.u64?x.n81("news",!1):(Y.s98(0),x.n81("news/"+u.u61.id,!1))}static g85(){return this.u64}static c75(e){this.f67=e,S.re()}static g102(){return this.f67}};var qe=class _{static $="ArenaLogFilterBlock";static u64=null;static t61=0;static l65=0;static re(){let e={};e[0]=a("market_all");for(let r=1;r<=10;r++)e[r]='<i class="fa fa-ticket ticket ticket'+r+'"></i> '+a("arena_type_"+r);let s=R.g256();if(s==i.E108||s==i.E109){let r;R.g260()==i.F114?r=i.A94:R.g260()==i.F115?r=i.A95:r=i.A93,e[r]='<i class="fa fa-ticket ticket ticket'+r+'"></i> '+a("arena_type_"+r)}new Date().getFullYear()==2023&&new Date().getMonth()==9&&(e[i.A96]='<i class="fa fa-ticket ticket ticket'+i.A96+'"></i> '+a("arena_type_"+i.A96));let n={};n[0]=a("market_all");for(let r=1;r<=8;r++)n[r]="L"+r;t("#"+this.$).empty().append(At.l62("Arenas",_.u64),t("<div>").append(t("<label>",{class:"checkbox-fixed pull-left"}).append(t("<input>",{id:"only_my",type:"checkbox"}).prop("checked",this.u64!==null).on("change",()=>this.c95()),t("<span>").append(a("arenas_my_results"))),t("<div>",{class:"pull-right"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_level")+a(": "),n[this.g84()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let r=[];for(let l in n){let p=n[l];r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(+l)).append(p)))}return r})()))),t("<div>",{class:"pull-right"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),e[this.g83()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let r=[];for(let l in e){let p=e[l];r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c96(+l)).append(p)))}return r})())),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t("<div>",{class:"clearfix"})))}static c95(){this.u64?x.n81("arenas",!1):x.n81("arenas/"+u.u61.id,!1)}static g83(){return this.t61}static c96(e){this.t61=e,S.re()}static g84(){return this.l65}static c97(e){this.l65=e,S.re()}static g85(){return this.u64}};var Rs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return{title:a("arenas_title"),description:""}}static r167(e,s){s.append(t("<div>",{id:"ArenaLogFilterBlock"})),qe.re()}static g159(){return[{title:"#"},{title:a("ranking_column_player")},{title:a("arena_type")},{title:""},{title:a("ranking_column_games")},{title:a("arena_time")},{title:a("ranking_column_date")}]}static g74(){return"100%"}static g80(e){let s=ut.g167(e.type,e.mode,e.extraConf),n=Math.floor((e.type-i.A66)/10),r=(e.type-i.A66)%10;return t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"arena/"+e.id}).append(e.id)),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(K.m92(e.type,null,"right",e.mode).append('<i class="fa fa-ticket ticket ticket'+n+'"></i> '+a("arena_type_"+n)+" L"+r,e.mode==i.A101?"E":"")),t("<td>").append(t("<span>",{class:"help",title:this.g163(e.state)}).tooltip({html:!0,trigger:"hover"}).append(this.g162(e.state,"icon-state-table"))),t("<td>").append(e.games+" / "+s.games),t("<td>").append(K.g200(e.duration,e.state)),t("<td>",{class:"narrow-td"}).append(F.g202(e.startedAt,!0,!0)))}static g160(){return{userId:qe.g85(),level:qe.g84(),type:qe.g83()}}static g162(e,s){return e==i.A77?'<i class="fa fa-play-circle text-primary icon-state '+s+'"></i>':e==i.A79||e==i.A78?'<i class="fa fa-times-circle text-danger icon-state '+s+'"></i>':e==i.A80?'<i class="fa fa-check-circle text-success icon-state '+s+'"></i>':'<i class="fa fa-exclamation-circle text-warning icon-state '+s+'"></i>'}static g163(e){return e==i.A77?a("game_state_in_progress"):e==i.A79||e==i.A78?a("game_state_defeat"):e==i.A80?a("game_state_win"):a("game_state_error")}};var Li=class{static $="ChampArenaBlock";static re(){t("#"+this.$).empty().append('<img id="arena_loading" src="/img/loading_big.gif"/>'),y.m109("ChampArenaController.getChampArenaDataWsAction",[],this.r61.bind(this))}static r61(e,s,n,r){e?(t("#"+this.$).empty().append(t("<div>").append(t("<a>",{"href-local":"arena/start/261",class:"btn btn-sm btn-default"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L1'),e>=1?t("<a>",{"href-local":"arena/start/262",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L2'):"",e>=2?t("<a>",{"href-local":"arena/start/263",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L3'):"",e>=3?t("<a>",{"href-local":"arena/start/264",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L4'):"",e>=4?t("<a>",{"href-local":"arena/start/265",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L5'):"",e>=5?t("<a>",{"href-local":"arena/start/266",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L6'):"",e>=6?t("<a>",{"href-local":"arena/start/267",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L7'):"",e>=7?t("<a>",{"href-local":"arena/start/268",class:"btn btn-sm btn-default champ-ticket-btn"}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L8'):"")),x.r226()):s?t("#"+this.$).empty():n?(t("#"+this.$).empty().append(t("<div>",{class:"bold"}).append(a("arena_in_progress"))),x.r226()):r&&(t("#"+this.$).empty().append(t("<div>",{id:"arena_cooldown_wrapper"}).append(a("equipment_refreshes_in")+a(": "),t("<strong>",{id:"arena_cooldown",class:"text-warning"}))),lt.i85("arena_cooldown",null,new Date(r).getTime(),()=>{this.re()}))}};var Hs=class{static $="ChampRewardDialog";static r179=null;static c169(){y.m109("ChampRewardController.checkChampRewardWsAction",[],e=>{this.r179=e,this.s143()})}static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("champ_reward_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("ranking_column_rank")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.r179.position)),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("champ_reward")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.r179.eventItems,m.e89(this.r179.itemType,"small","icon-right"))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var he=class{static $="ChampBlock";static c68=null;static re(){Hs.c169(),H.u74({title:a("seo_title_champ"),description:a("seo_description_champ"),hiddenSeo:!0}),t("#"+this.$).empty().append(Ht.r110("/img/champ/champ-"+this.c68+".svg",a("champ_"+this.c68,{NF:'<abbr data-toggle="tooltip" title="'+a("nf")+'">NF</abbr>',NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'}),this.c68,{height:"38px"}));let e=i.C145[this.c68].startsAt;if(Date.now()>e){let s=i.C145[this.c68].endsAt;s<Date.now()?t("#"+this.$).append(a("champ_is_over"),"<br/>","<br/>"):(U.g172("champ_viewed_"+this.c68)||(U.s142("champ_viewed_"+this.c68,1),this.u68()),t("#"+this.$).append(t("<div>",{id:"refreshes_in_champ_wrapper"}).append(a("champ_remaining_time")+a(": "),t("<strong>",{id:"refreshes_in_champ",class:"text-danger"})),"<br/>"),lt.i85("refreshes_in_champ",null,s,()=>{this.re()}),i.C145[this.c68].type==i.C161&&(t("#"+this.$).append(t("<div>",{id:Li.$}),"<br/>"),Li.re()))}else t("#"+this.$).append(t("<div>",{id:"refreshes_in_champ_wrapper"}).append(a("champ_start_in")+a(": "),t("<strong>",{id:"refreshes_in_champ",class:"text-danger"})),"<br/>"),lt.i85("refreshes_in_champ",null,e,()=>{this.re()});i.C145[this.c68].type==i.C158&&(t("#"+this.$).append(t("<div>",{id:nt.$})),nt.t61=nt.T64,nt.re()),t("#"+this.$).append(t("<div>",{id:S.$})),S.s130=i.S98,S.re(),t("#"+this.$).append(t("<div>").append('<i class="fa fa-calendar text-primary"></i> ',t("<a>",{"href-local":"past-championships"}).append(a("champ_past_champs")))),x.r226(),t('[data-toggle="tooltip"]').tooltip()}static u68(){let e=R.g258();i.C145[e]&&Date.now()>i.C145[e].startsAt&&i.C145[e].endsAt>Date.now()&&!U.g172("champ_viewed_"+e)?t(".menu_championship_mark").html('<i class="fa fa-circle new-quest-icon"></i>'):t(".menu_championship_mark").empty()}};var Ls=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return null}static r167(e,s,n){s.append(n)}static g159(){let e=i.C145[he.c68],s=[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")}];return e.type==i.C146?s.push({class:"stat-eff-column",title:a("game_eff")},{class:"stat-level-full-column",title:a("ranking_column_level")}):e.type==i.C150?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap"><b>1</b> \xD7 '+a("level_"+i.G67)+" (%) +</span><br/>",'<span class="text-nowrap"><b>3</b> \xD7 '+a("level_"+i.G68)+" (%) +</span><br/>",'<span class="text-nowrap"><b>5</b> \xD7 '+a("level_"+i.G69)+" (%)</span>")}))}):e.type==i.C159?s.push({title:a("level_"+i.G71)},{title:a("level_"+i.G72)},{title:a("level_"+i.G73)},{title:a("level_"+i.G74)},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap"><b>1</b> \xD7 ['+a("level_"+i.G71)+" (%) \u2013 "+a("game_hints")+"] +</span><br/>",'<span class="text-nowrap"><b>3</b> \xD7 ['+a("level_"+i.G72)+" (%) \u2013 "+a("game_hints")+"] +</span><br/>",'<span class="text-nowrap"><b>5</b> \xD7 ['+a("level_"+i.G73)+" (%) \u2013 "+a("game_hints")+"] +</span><br/>",'<span class="text-nowrap"><b>7</b> \xD7 ['+a("level_"+i.G74)+" (%) \u2013 "+a("game_hints")+"]</span>")}))}):e.type==i.C154?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:a("champ_time_total")}):e.type==i.C151||e.type==i.C160?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:a("champ_time_total")}):e.type==i.C163?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap"><b>0.5</b> \xD7 '+a("level_"+i.G67)+" +</span><br/>",'<span class="text-nowrap"><b>1</b> \xD7 '+a("level_"+i.G68)+" +</span><br/>",'<span class="text-nowrap"><b>1.5</b> \xD7 '+a("level_"+i.G69)+"</span>")}))}):e.type==i.C157?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:a("champ_time_total")}):e.type==i.C155?s.push({title:a("level_"+i.G71)},{title:a("level_"+i.G72)},{title:a("level_"+i.G73)},{title:a("level_"+i.G74)},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap">'+a("stat_total_time")+" +</span><br/>",'<span class="text-nowrap">'+a("game_hints")+" \xD7 1 "+a("time_minutes_short")+"</span>")}))}):e.type==i.C152?s.push({title:a("level_"+i.G67)},{title:a("level_"+i.G68)},{title:a("level_"+i.G69)},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap"><b>1</b> \xD7 '+a("level_"+i.G67)+" +</span><br/>",'<span class="text-nowrap"><b>5</b> \xD7 '+a("level_"+i.G68)+" +</span><br/>",'<span class="text-nowrap"><b>20</b> \xD7 '+a("level_"+i.G69)+"</span>")}))}):e.type==i.C156?s.push({title:a("game_ws")},{title:a("game_hints")},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(a("game_ws")+" \u2013 "+a("game_hints"))}))}):e.type==i.C147?s.push({title:a("game_time")},{class:"stat-nf-column",title:""},{class:"stat-level-full-column",title:a("ranking_column_level")}):e.type==i.C148?s.push({title:a("game_mastery")},{class:"stat-level-full-column",title:a("ranking_column_level")}):e.type==i.C149?s.push({title:a("ranking_column_diff")},{title:a("ranking_column_size")},{title:t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV")}):e.type==i.C153?s.push({title:a("ranking_column_diff")},{title:t("<abbr>",{title:a("3bvs_description")}).tooltip({trigger:"hover"}).html("3BV/s")},{title:t("<abbr>",{title:a("eff_description")?a("eff_description"):a("game_eff")}).tooltip({trigger:"hover"}).html("Eff")},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap">'+a("ranking_column_diff")+" \xD7</span><br/>",'<span class="text-nowrap">'+a("3BV/s")+" \xD7</span><br/>",'<span class="text-nowrap">'+a("game_eff")+"</span>")}))}):e.type==i.C164?s.push({title:a("ranking_column_diff")},{title:t("<abbr>",{title:a("3bvs_description")}).tooltip({trigger:"hover"}).html("3BV/s")},{title:t("<abbr>",{title:a("eff_description")?a("eff_description"):a("game_eff")}).tooltip({trigger:"hover"}).html("Eff")},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap">'+a("ranking_column_diff")+" \xD7</span><br/>",'<span class="text-nowrap">'+a("3BV/s")+"<b>\xB2</b> \xD7</span><br/>",'<span class="text-nowrap">'+a("game_eff")+"<b>\xB3</b></span>")}))}):e.type==i.C162?s.push({title:a("ranking_column_diff")},{title:a("game_mine_density")},{title:t("<span>").append(a("champ_score")," ",t('<i class="fa fa-question-circle-o text-primary help"></i>').popover({container:"body",trigger:"hover",placement:"left",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append('<span class="text-nowrap">1000 x</span><br/>','<span class="text-nowrap">'+a("ranking_column_diff")+" x</span><br/>",'<span class="text-nowrap">['+a("game_mine_density")+"]<sup>5</sup></span>")}))}):e.type==i.C158?s.push({title:a("champ_max_level")}):e.type==i.C161&&s.push({title:a("arena_level")},{title:a("arena_time")}),s.push({title:a("champ_reward")}),s}static g74(){return"100%"}static g80(e,s){let n=i.C145[e.champId],r=n.endsAt<Date.now(),l=[];return n.type==i.C146?l.push(t("<td>",{class:"text-nowrap"}).append(q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,effStrong:e.eff1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.e87("icon-small level"+e.level1),e.eff1+"%"))),t("<td>",{class:"text-nowrap"}).append(a("level_"+e.level1))):n.type==i.C150?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,effStrong:e.eff1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.e87("icon-small level"+e.level1),e.eff1+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvs:e.bbbvs2,effStrong:e.eff2,duration:e.duration2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.e87("icon-small level"+e.level2),e.eff2+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvs:e.bbbvs3,effStrong:e.eff3,duration:e.duration3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.e87("icon-small level"+e.level3),e.eff3+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.points1)):n.type==i.C159?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,hints:e.hints1,effStrong:e.eff1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.e87("icon-small level"+e.level1),e.eff1+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvs:e.bbbvs2,hints:e.hints2,effStrong:e.eff2,duration:e.duration2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.e87("icon-small level"+e.level2),e.eff2+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvs:e.bbbvs3,hints:e.hints3,effStrong:e.eff3,duration:e.duration3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.e87("icon-small level"+e.level3),e.eff3+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game4Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished4At,level:e.level4,bbbv:e.bbbv4,bbbvs:e.bbbvs4,hints:e.hints4,effStrong:e.eff4,duration:e.duration4,mobile:e.mobile4}).append(t("<a>",{"href-local":"game/"+e.game4Id,class:"level"+e.level4+"-link"}).append(m.e87("icon-small level"+e.level4),e.eff4+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.points1)):n.type==i.C154?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,effStrong:e.eff1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.e87("icon-small level"+e.level1),e.eff1==100?"100%":(e.bbbv1/e.clicks1*100).toFixed(2)+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvs:e.bbbvs2,effStrong:e.eff2,duration:e.duration2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.e87("icon-small level"+e.level2),e.eff2==100?"100%":(e.bbbv2/e.clicks2*100).toFixed(2)+"%")):""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvs:e.bbbvs3,effStrong:e.eff3,duration:e.duration3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.e87("icon-small level"+e.level3),e.eff3==100?"100%":(e.bbbv3/e.clicks3*100).toFixed(2)+"%")):""),t("<td>",{class:"text-nowrap"}).append((e.points1/100).toFixed(2)+"%")):n.type==i.C151||n.type==i.C157||n.type==i.C160?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.t105("icon-small level"+e.level1),(e.duration1/1e3).toFixed(3))):"",e.game1Id&&e.mobile1?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvs:e.bbbvs2,duration:e.duration2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.t105("icon-small level"+e.level2),(e.duration2/1e3).toFixed(3))):"",e.game2Id&&e.mobile2?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvs:e.bbbvs3,duration:e.duration3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.t105("icon-small level"+e.level3),(e.duration3/1e3).toFixed(3))):"",e.game3Id&&e.mobile3?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append((e.points1%1e8/1e3).toFixed(3))):n.type==i.C163?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvsStrong:e.bbbvs1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.b94("icon-small level"+e.level1),(e.bbbvs1/1e6).toFixed(3))):"",e.game1Id&&e.mobile1?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvsStrong:e.bbbvs2,duration:e.duration2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.b94("icon-small level"+e.level2),(e.bbbvs2/1e6).toFixed(3))):"",e.game2Id&&e.mobile2?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvsStrong:e.bbbvs3,duration:e.duration3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.b94("icon-small level"+e.level3),(e.bbbvs3/1e6).toFixed(3))):"",e.game3Id&&e.mobile3?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>",{class:"text-nowrap"}).append((e.points1%1e8/1e6).toFixed(3))):n.type==i.C155?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,duration:e.duration1,hints:e.hints1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.t105("icon-small level"+e.level1),(e.duration1/1e3).toFixed(3))):""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished2At,level:e.level2,bbbv:e.bbbv2,bbbvs:e.bbbvs2,duration:e.duration2,hints:e.hints2,mobile:e.mobile2}).append(t("<a>",{"href-local":"game/"+e.game2Id,class:"level"+e.level2+"-link"}).append(m.t105("icon-small level"+e.level2),(e.duration2/1e3).toFixed(3))):""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished3At,level:e.level3,bbbv:e.bbbv3,bbbvs:e.bbbvs3,duration:e.duration3,hints:e.hints3,mobile:e.mobile3}).append(t("<a>",{"href-local":"game/"+e.game3Id,class:"level"+e.level3+"-link"}).append(m.t105("icon-small level"+e.level3),(e.duration3/1e3).toFixed(3))):""),t("<td>",{class:"text-nowrap"}).append(e.game4Id?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished4At,level:e.level4,bbbv:e.bbbv4,bbbvs:e.bbbvs4,duration:e.duration4,hints:e.hints4,mobile:e.mobile4}).append(t("<a>",{"href-local":"game/"+e.game4Id,class:"level"+e.level4+"-link"}).append(m.t105("icon-small level"+e.level4),(e.duration4/1e3).toFixed(3))):""),t("<td>",{class:"text-nowrap"}).append((e.points1%1e8/1e3).toFixed(3))):n.type==i.C152?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,level:1,ws:e.ws1}).append(t("<a>",{"href-local":"winstreak/"+e.game1Id,class:"black-link"}).append(m.w68("icon-small ws1"),e.ws1)):""),t("<td>",{class:"text-nowrap"}).append(e.game2Id?q.m95({userId:e.userId,username:e.username,country:e.country,level:2,ws:e.ws2}).append(t("<a>",{"href-local":"winstreak/"+e.game2Id,class:"black-link"}).append(m.w68("icon-small ws2"),e.ws2)):""),t("<td>",{class:"text-nowrap"}).append(e.game3Id?q.m95({userId:e.userId,username:e.username,country:e.country,level:3,ws:e.ws3}).append(t("<a>",{"href-local":"winstreak/"+e.game3Id,class:"black-link"}).append(m.w68("icon-small ws3"),e.ws3)):""),t("<td>",{class:"text-nowrap"}).append(e.points1)):n.type==i.C156?l.push(t("<td>",{class:"text-nowrap"}).append(e.game1Id?q.m95({userId:e.userId,username:e.username,country:e.country,level:i.G74,avgTime:(i.S79-e.points2)/1e3,ws:e.ws1}).append(t("<a>",{"href-local":"winstreak/"+e.game1Id,class:"black-link"}).append(m.w68("icon-small ws"+i.G74),e.ws1)):""),t("<td>",{class:"text-nowrap"}).append(e.ws2),t("<td>",{class:"text-nowrap"}).append(e.points1)):n.type==i.C147?l.push(t("<td>",{class:"text-nowrap"}).append(q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,bbbv:e.bbbv1,bbbvs:e.bbbvs1,duration:e.duration1,mobile:e.mobile1}).append(t("<a>",{"href-local":"game/"+e.game1Id,class:"level"+e.level1+"-link"}).append(m.t105("icon-small level"+e.level1),(e.duration1/1e3).toFixed(3))),e.mobile1?' <span class="glyphicon glyphicon-phone icon-mobile"></span> ':""),t("<td>").html(e.nf1?t("<abbr>",{title:a("nf")}).tooltip({trigger:"hover"}).html("NF"):""),t("<td>",{class:"text-nowrap"}).append(a("level_"+e.level1))):n.type==i.C148?l.push(t("<td>",{class:"text-nowrap"}).append(q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finished1At,level:e.level1,mastery:e.mastery,avgTime:(i.S79-e.masteryTime)/1e3}).append(t("<a>",{"href-local":"mastery/"+e.game1Id,class:"black-link"}).append(m.m103("icon-small mastery"+e.level1),e.mastery))),t("<td>",{class:"text-nowrap"}).append(a("level_"+e.level1))):n.type==i.C149?l.push(t("<td>",{class:"text-nowrap"}).append(e.points1>=1e3?m.d76(1/0):""," ",t("<a>",{"href-local":"game/"+e.game1Id}).append(b.g227(e.points1))),t("<td>",{class:"text-nowrap"}).append(e.size1X+"x"+e.size1Y+"/"+e.mines1),t("<td>",{class:"text-nowrap"}).append(e.points2)):n.type==i.C153?l.push(t("<td>",{class:"text-nowrap"}).append(e.points2>=1e3?m.d76(1/0):""," ",t("<a>",{"href-local":"game/"+e.game1Id}).append(b.g227(e.points2))),t("<td>",{class:"text-nowrap"}).append((e.bbbvs1/1e6).toFixed(e.bbbvs1>1e7?0:3)),t("<td>",{class:"text-nowrap"}).append(e.eff1+'<span class="eff-percent">%</span>'),t("<td>",{class:"text-nowrap"}).append(Math.max(1,Math.round(e.points1/100)))):n.type==i.C153||n.type==i.C164?l.push(t("<td>",{class:"text-nowrap"}).append(e.points2>=1e3?m.d76(1/0):""," ",t("<a>",{"href-local":"game/"+e.game1Id}).append(b.g227(e.points2))),t("<td>",{class:"text-nowrap"}).append((e.bbbvs1/1e6).toFixed(e.bbbvs1>1e7?0:3)),t("<td>",{class:"text-nowrap"}).append(e.eff1+'<span class="eff-percent">%</span>'),t("<td>",{class:"text-nowrap"}).append(Math.max(1,Math.round(e.points1/100)))):n.type==i.C162?l.push(t("<td>",{class:"text-nowrap"}).append(e.diff>=1e3?m.d76(1/0):""," ",t("<a>",{"href-local":"game/"+e.game1Id}).append(b.g227(e.diff))),t("<td>",{class:"text-nowrap"}).append((Math.round(100*e.mines1/e.size1X/e.size1Y*100)/100).toFixed(2)+"%"),t("<td>",{class:"text-nowrap"}).append(Math.max(1,Math.round(e.points1/100)))):n.type==i.C158?l.push(t("<td>",{class:"text-nowrap"}).append("L"+e.points1)):n.type==i.C161&&l.push(t("<td>",{class:"text-nowrap"}).append(t("<a>",{"href-local":"arena/"+e.arenaId}).append('<i class="fa fa-ticket ticket ticket'+i.A96+'"></i>L'+e.points1)),t("<td>",{class:"text-nowrap"}).append(K.g200(e.points2,i.A80))),t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>",{class:e.userId==u.u61.id?"bold":""}).append(s),t("<td>").append(b.m106(e.userId,e,"right")),l,t("<td>",{class:"text-nowrap"}).append(i.g253(s)>0?t("<span>",{class:r?"":"transparent"}).append(b.g227(i.g253(s)),m.e89(n.resourceType,"big")):""))}static g160(){return{champId:he.c68}}};var ae=class{static $="ChatHistoryFilterBlock";static u64=null;static c103="";static t70="";static re(){let e=[i.C165.en,i.C165.de,i.C165.ru,i.C165.es,i.C165.pt,i.C165.it,i.C165.fr,i.C165.cn,i.C165.tw,i.C165.ja,i.C165.ko,i.C107,i.C106];u.u61.eliteAt&&e.push(i.C111),i.G133.indexOf(u.u61.id)!=-1&&e.push(i.C104,i.C105,i.C110),this.u64?e.unshift(""):this.c103||(this.c103=i.C165.en),t("#"+this.$).empty().append(At.l62("Chat history",this.u64),t("<div>",{class:"pull-left"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"only_my",type:"checkbox"}).prop("checked",this.u64!==null).on("change",()=>this.c95()),t("<span>").append(Q("My messages")))),t("<span>",{class:"dropdown pull-right"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"channel_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(ht.g72(this.c103)," ",ht.g71(this.c103),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[];for(let n=0;n<e.length;n++){let r=e[n];s.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c104(r)).append(ht.g72(r)," ",ht.g71(r))))}return s})())),t("<div>",{class:"clearfix"})),i.G133.indexOf(u.u61.id)!=-1&&t("#"+this.$).append("<br/>",t("<form>").on("submit",s=>{s.preventDefault(),this.t71()}).append("Message contains: ",t("<input>",{id:"chat_history_template",type:"text"}).val(this.t70)," ",t("<button>",{id:"chat_history_btn",type:"submit"}).html(">")))}static t71(){S.r172!==null&&(this.t70=t("#chat_history_template").val(),S.re())}static c95(){this.u64?x.n81("chat-history",!1):x.n81("chat-history/"+u.u61.id,!1)}static g85(){return this.u64}static c104(e){this.c103=e,S.re()}static g95(){return this.c103}static g96(){return this.t70}};var Fs=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return{title:Q("Chat history"),description:""}}static r167(e,s){s.append(t("<div>",{id:"ChatHistoryFilterBlock"})),ae.re()}static g159(){return[{title:a("market_date")},ae.g85()?null:{title:a("ranking_column_player")},ae.g95()?null:{title:Q("Chat")},{title:Q("Message")}]}static g74(){return"100%"}static g80(e){return t("<tr>").append(t("<td>").append(F.g203(e.createdAt,!0,!0)," ",F.g204(e.createdAt,!1)),ae.g85()?"":t("<td>").append(b.m106(e.userId,e,"right")),ae.g95()?"":t("<td>").append(ht.g72(e.channelId)," ",ht.g71(e.channelId)),t("<td>").append(t("<div>",{id:"chat_history_message_"+e.id}).append(e.isDeleted?t("<span>",{class:"gray"}).html(a("chat_message_removed")):t("<span>").css({"white-space":"pre-wrap"}).html(this.r83(e.message))," ",e.userId==u.u61.id&&!e.isDeleted||i.G133.indexOf(u.u61.id)!=-1&&i.G133.indexOf(e.userId)==-1?t("<span>",{class:"glyphicon glyphicon-remove chat-remove-icon",title:a("chat_message_remove")}).tooltip({trigger:"hover"}).on("click",()=>Qt.r84(e.id)):"")))}static r83(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let s=J.g287(V.e97),n=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s^<]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s^<]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s^<]{2,}|www\.[a-zA-Z0-9]+\.[^\s^<]{2,})/g;return e=e.replace(n,'<a href="$1" target="_blank">$1</a>'),e=e.replace(new RegExp(">https://"+s+"/","g"),">/"),e}static g160(){return{userId:ae.g85(),channelId:ae.g95(),template:ae.g96()}}};var pi=class{static $="EconomyBlock";static c138=null;static c139=null;static s112=0;static s113=0;static s114=17;static s115=1;static s116=0;static re(){H.u74({title:a("economy_title")});let e=t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(m.g212(this.s112,"icon-left icon-small"),this.s112==0?a("game_gem")+" ("+a("rates_avg")+")":a("gem_"+this.s112),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c88(0)).append(m.g212(0,"icon-left"),a("game_gem")+" ("+a("rates_avg")+")"))];for(let o=1;o<=i.G128;o++)p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c88(o)).append(m.g212(o,"icon-small")+" "+a("gem_"+o))));return p})())),s=t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(m.a102(this.s113,"icon-left icon-small"),this.s113==0?a("arena_coins")+" ("+a("rates_avg")+")":a("arena_coins_"+this.s113),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c140(0)).append(m.a102(0,"icon-left"),a("arena_coins")+" ("+a("rates_avg")+")"))];for(let o=i.A107;o<=i.A116;o++)p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c140(o)).append(m.a102(o,"icon-small")+" "+a("arena_coins_"+o))));return p})())),n=t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append('<i class="fa fa-ticket ticket ticket3 ticket-medium"></i>'+a("arena_ticket")+" L"+this.s115+" ("+a("rates_avg")+")",t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[];for(let o=1;o<=8;o++)p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c142(o)).append('<i class="fa fa-ticket ticket ticket3 ticket-left"></i>'+a("arena_ticket")+" L"+o+" ("+a("rates_avg")+")")));return p})())),r=t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(m.p96(this.s114)," "+a("equipment_parts_"+this.s114),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[];for(let o=i.P126;o<=i.P128;o++)p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c141(o)).append(m.p96(o)+" "+a("equipment_parts_"+o))));return p})())),l=t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(wt.r163(this.s116),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c121(0)).append(wt.r163(0)))];for(let o=1;o<=i.G128;o++)p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c121(o)).append(wt.r163(o))));return p})()));t("#"+this.$).empty().append(t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("economy_title")),t("<div>",{id:E.$,class:"pull-right"}),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',a("rates_last_update")+a(": "),t("<span>",{id:"richest_last_update"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'),"<br/>","<br/>",t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(m.c199("icon-left"),a("game_coins")+" (1K)"),t("<td>",{class:"text-nowrap"}),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_coins_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(e),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_gems_value"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_gems_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(s),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_ac_value"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_ac_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(n),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_ticket_value"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_ticket_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(r),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_parts_value"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_parts_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))),t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(l),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_perfect_value"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')),t("<td>",{class:"text-nowrap"}).append(t("<span>",{id:"richest_perfect_price"}).append('<img src="/img/loading_small.gif" class="loading-small"/>')))),"<br/>","<br/>",t("<h2>").append(a("economy_richest_players")),'<hr class="shop-hr"/>',t("<div>",{id:"richest_content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')),E.i92(()=>{y.m109("ShopController.getRichestDataWsAction",[],this.r61.bind(this))})}static r61(e,s){let n=1e3,r=e.values1k,l=s.values1k;this.c138=E.r148[E.u104]*i.B95*e.coins1bValue/1e9,this.c139=E.r149[E.u104]*i.B95*s.coins1bValue/1e9;let p=n*(this.c138-this.c139),o=100*p/n/this.c139;t("#richest_coins_price").empty().append(E.r152(n*this.c138,E.u104,!1,!0,4),this.r153(p,o,!0));let c=this.s112==0?(r[1]+r[2]+r[3]+r[4]+r[5]+r[6]+r[7]+r[8]+r[9]+r[10])/10/1e3:r[this.s112]/1e3,f=this.s112==0?(l[1]+l[2]+l[3]+l[4]+l[5]+l[6]+l[7]+l[8]+l[9]+l[10])/10/1e3:l[this.s112]/1e3;p=c-f,t("#richest_gems_value").empty().append(m.c199("icon-small icon-left"),b.g227(this.r154(c)),this.r153(p,null,!1));let h=c*this.c138,g=f*this.c139;p=h-g,o=100*p/g,t("#richest_gems_price").empty().append(E.r152(h,E.u104,!1,!0,4),this.r153(p,o,!0));let w=this.s113==0?(r[41]+r[42]+r[43]+r[44]+r[45]+r[46]+r[47]+r[48]+r[49]+r[50])/10/1e3:r[this.s113]/1e3,C=this.s113==0?(l[41]+l[42]+l[43]+l[44]+l[45]+l[46]+l[47]+l[48]+l[49]+l[50])/10/1e3:l[this.s113]/1e3;p=w-C,t("#richest_ac_value").empty().append(m.c199("icon-small icon-left"),b.g227(this.r154(w)),this.r153(p,null,!1));let A=w*this.c138,M=C*this.c139;p=A-M,o=100*p/M,t("#richest_ac_price").empty().append(E.r152(A,E.u104,!1,!0,4),this.r153(p,o,!0));let P=(r[110+this.s115]+r[120+this.s115]+r[130+this.s115]+r[140+this.s115]+r[150+this.s115]+r[160+this.s115]+r[170+this.s115]+r[180+this.s115]+r[190+this.s115]+r[200+this.s115])/10/1e3,B=(l[110+this.s115]+l[120+this.s115]+l[130+this.s115]+l[140+this.s115]+l[150+this.s115]+l[160+this.s115]+l[170+this.s115]+l[180+this.s115]+l[190+this.s115]+l[200+this.s115])/10/1e3;p=P-B,t("#richest_ticket_value").empty().append(m.c199("icon-small icon-left"),b.g227(this.r154(P)),this.r153(p,null,!1));let L=P*this.c138,mt=B*this.c139;p=L-mt,o=100*p/mt,t("#richest_ticket_price").empty().append(E.r152(L,E.u104,!1,!0,4),this.r153(p,o,!0));let j=r[this.s114]/1e3,zt=l[this.s114]/1e3;p=j-zt,t("#richest_parts_value").empty().append(m.c199("icon-small icon-left"),b.g227(this.r154(j)),this.r153(p,null,!1));let re=j*this.c138,ie=zt*this.c139;p=re-ie,o=100*p/ie,t("#richest_parts_price").empty().append(E.r152(re,E.u104,!1,!0,4),this.r153(p,o,!0));let De=(r[1]+r[2]+r[3]+r[4]+r[5]+r[6]+r[7]+r[8]+r[9]+r[10])/10/1e3,$e=r[41]?(r[41]+r[42]+r[43]+r[44]+r[45]+r[46]+r[47]+r[48]+r[49]+r[50])/10/1e3:0,ft=this.s116==0?1e6+5e3*De+1e4*$e:1e6+5e3*r[this.s116]/1e3+1e4*(r[this.s116+i.A104]?r[this.s116+i.A104]/1e3:0),st=(l[1]+l[2]+l[3]+l[4]+l[5]+l[6]+l[7]+l[8]+l[9]+l[10])/10/1e3,Re=l[41]?(l[41]+l[42]+l[43]+l[44]+l[45]+l[46]+l[47]+l[48]+l[49]+l[50])/10/1e3:0,as=this.s116==0?1e6+5e3*st+1e4*Re:1e6+5e3*l[this.s116]/1e3+1e4*(l[this.s116+i.A104]?l[this.s116+i.A104]/1e3:0);p=ft-as,t("#richest_perfect_value").empty().append(m.c199("icon-small icon-left"),b.g227(this.r154(ft)),this.r153(p,null,!1));let Ei=ft*this.c138,Ii=as*this.c139;p=Ei-Ii,o=100*p/Ii,t("#richest_perfect_price").empty().append(E.r152(Ei,E.u104,!1,!0,4),this.r153(p,o,!0)),t("#richest_content").empty(),t("#"+this.$).append(t("<div>",{id:S.$})),S.s130=i.S101,S.re()}static r153(e,s,n){let r="";if(e==0?r="+0":e>0?(n?r="+ "+E.r152(e,E.u104,!1,!1,4):r="+"+this.r154(e),s!==null&&(r+=" (+"+Math.round(s*100)/100+"%)")):e<0&&(n?r="- "+E.r152(-1*e,E.u104,!1,!1,4):r="-"+this.r154(-1*e),s!==null&&(r+=" ("+Math.round(s*100)/100+"%)")),e==0)return t("<span>",{class:"help text-success price-same",title:r}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-minus"></i>');if(e>0)return t("<span>",{class:"help text-success price-up",title:r}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-up"></i>');if(e<0)return t("<span>",{class:"help text-danger price-down",title:r}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-down"></i>')}static r154(e){return e<10?Math.round(e*1e3)/1e3:e<100?Math.round(e*100)/100:e<1e3?Math.round(e*10)/10:Math.round(e)}static c88(e){this.s112=e,E.f69=E.u104,this.re()}static c140(e){this.s113=e,E.f69=E.u104,this.re()}static c141(e){this.s114=e,E.f69=E.u104,this.re()}static c142(e){this.s115=e,E.f69=E.u104,this.re()}static c121(e){this.s116=e,E.f69=E.u104,this.re()}};var Us=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return null}static r167(e,s,n){s.append(n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("economy_worth"),colspan:2}]}static g74(){return"500px"}static g80(e,s){t("#richest_last_update").html(F.g202(new Date(e.day)));let n=e.worth*pi.c138,r=(e.worth-e.difference)*pi.c139,l=e.difference,p=Math.round((n-r)*100)/100,o="",c="";l>0?o=t("<span>",{class:"help price-up",title:"+"+l}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-up"></i>'):l<0&&(o=t("<span>",{class:"help price-down",title:l}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-down"></i>')),p>0?c=t("<span>",{class:"help price-up",title:"+"+p}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-up"></i>'):p<0&&(c=t("<span>",{class:"help price-down",title:p}).tooltip({trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-down"></i>'));let f=t("<div>");return e.detailedWorth&&(e.detailedWorth.eqWorth&&f.append(a("market_category_equipment")+a(": "),b.g228(e.detailedWorth.eqWorth),"<br/>"),e.detailedWorth.coinsWorth&&f.append(a("profile_coins")+a(": "),b.g228(e.detailedWorth.coinsWorth),"<br/>"),e.detailedWorth.gemsWorth&&f.append(a("market_category_gems")+a(": "),b.g228(e.detailedWorth.gemsWorth),"<br/>"),e.detailedWorth.hpWorth&&f.append(a("honor_points")+a(": "),b.g228(e.detailedWorth.hpWorth),"<br/>"),e.detailedWorth.eventResourcesWorth&&f.append(a("event_points")+a(": "),b.g228(e.detailedWorth.eventResourcesWorth),"<br/>"),e.detailedWorth.ticketsWorth&&f.append(a("market_category_tickets")+a(": "),b.g228(e.detailedWorth.ticketsWorth),"<br/>"),e.detailedWorth.storageWorth&&f.append(a("equipment_storage")+a(": "),b.g228(e.detailedWorth.storageWorth),"<br/>"),e.detailedWorth.partsWorth&&f.append(a("equipment_parts")+a(": "),b.g228(e.detailedWorth.partsWorth),"<br/>"),e.detailedWorth.arenaCoinsWorth&&f.append(a("arena_coins")+a(": "),b.g228(e.detailedWorth.arenaCoinsWorth),"<br/>"),e.detailedWorth.tokensWorth&&f.append(a("emc_tokens")+a(": "),b.g228(e.detailedWorth.tokensWorth),"<br/>")),t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>",{class:e.userId==u.u61.id?"bold":""}).append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap narrow-td"}).append(m.c199("icon-small icon-left"),t("<span>",{class:"help dotted-underline"}).append(b.g228(e.worth)).popover({trigger:"hover",placement:"top",html:!0,content:f}),o),t("<td>",{class:"text-nowrap narrow-td"}).append(E.r152(Math.round(n*100)/100,E.u104,!1,!0,4),c,"&nbsp;&nbsp;",u.p61&&e.userId==u.u61.id?t("<a>",{"href-local":"net-worth/y",title:a("economy_worth")}).tooltip({trigger:"hover"}).append('<i class="fa fa-line-chart"></i>'):""))}static g160(){return{}}};var Os=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return null}static r167(e,s,n){s.append(n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:a("emc_rep")},{title:""}]}static g74(){return"500px"}static g80(e,s){return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>",{class:e.userId==u.u61.id?"bold":""}).append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap"}).append(I.r214(e.rep,e.createdAt).append(b.g227(e.rep),m.r201("icon-right"))),t("<td>").append(e.rep>0?t("<a>",{"href-local":"nft/"+e.userId}).append(a("emc_nft")):""))}static g160(){return{}}};var oi=class{static $="ExchangeNewBlock";static re(){H.u74({title:a("new_exchange_title")}),t("#"+this.$).html("").append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("ExchangeController.checkExchangesExistWsAction",[],this.r61.bind(this))}static r61(e){t("#"+this.$).html("").append(t("<div>",{id:pe.$}),"<hr/>",t("<div>",{id:Be.$})),Be.r145=s=>{x.n81("exchange/new/"+s,!0)},Be.re(),pe.s93=e,pe.re()}};var pe=class{static $="ExchangeFilterBlock";static t61=null;static s93=!0;static re(){let e=t("#"+oi.$).is(":visible"),s=t(window).width()>600;t("#"+this.$).empty().append(At.l62("Exchanges",Bt.u64),t("<div>").append(t("<div>",{class:s?"pull-left":""}).append(t("<a>",{"href-local":"marketplace"+(Bt.u64?"/"+Bt.u64:"")}).append(a("menu_market")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<strong>").append(a("exchange_title"))),t("<div>",{class:s?"pull-right":"market-second-line"}).append(Bt.u77?D.r211(Bt.u77,Bt.u65,Bt.u106,Bt.t74,"bottom"):D.r211(it.u77)),s?t("<div>",{class:"clearfix"}):""),this.s93?t("<div>").append("<br/>",t("<a>",{href:"javascript:void(0)",class:e?"active":""}).on("click",{},()=>{x.n81("exchange/new")}).append(a("exchange_new_exchange")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:!e&&this.g83()==i.E78?"active":""}).on("click",()=>this.c96(i.E78)).append(a("exchange_search")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:!e&&this.g83()==i.E79?"active":""}).on("click",()=>this.c96(i.E79)).append(a("exchange_completed"),t("<span>",{class:"menu_exchange_not_viewed"}))):""),x.r226(),Bt.u107(),!e&&this.g83()==i.E79&&Bt.s122()}static g83(){return this.t61?this.t61:i.E78}static c96(e){this.t61=e,t("#"+oi.$).is(":visible")?x.n81("exchanges"):S.re()}};var Bt=class{static u64=null;static u77=null;static u65=null;static u106=null;static t74=null;static n69=0;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this),setExtra:this.s120.bind(this)}}static g158(){return{title:a("exchange_title"),description:""}}static r167(e,s,n){s.append(t("<div>",{id:pe.$})),pe.s93=!0,pe.re()}static g159(){return[{title:"#"},{title:a("exchange_date")},{title:a("exchange_player")},{title:a("exchange_my_items")},{title:a("exchange_their_items")},{title:""}]}static g74(){return"100%"}static g80(e,s){let n=this.u64?this.u64:u.u61.id,r=pe.g83();if(r==i.E78)return t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"exchange/"+e.id}).append(e.id)),t("<td>").append(F.g202(e.createdAt,!0)),t("<td>").append(n==e.sellerId?b.m106(e.buyerId,{username:e.buyerUsername,country:e.buyerCountry},"right"):b.m106(e.sellerId,{username:e.sellerUsername,country:e.sellerCountry},"right")),t("<td>").append(n==e.sellerId?D.r211(e.sellerCoins,e.sellerItems,null,{},"top"):D.r211(e.buyerCoins,e.buyerItems,null,{},"top")),t("<td>").append(n==e.sellerId?D.r211(e.buyerCoins,e.buyerItems,null,{},"top"):D.r211(e.sellerCoins,e.sellerItems,null,{},"top")),t("<td>").append(n==e.sellerId?t("<span>").append(t("<a>",{"href-local":"exchange/"+e.id,class:"btn btn-xs btn-default",title:a("exchange_view_button")}).tooltip({trigger:"hover"}).append('<i class="fa fa-eye"></i>'),"&nbsp;",t("<a>",{"href-local":"exchange/"+e.id+"/edit",class:"btn btn-xs btn-default",title:a("exchange_edit_button")}).tooltip({trigger:"hover"}).append('<i class="fa fa-pencil"></i>'),"&nbsp;",t("<button>",{class:"btn btn-xs btn-default",title:a("exchange_cancel_button")}).tooltip({trigger:"hover"}).on("click",()=>this.c92(e.id)).append('<i class="fa fa-close"></i>')):t("<span>").append(t("<a>",{"href-local":"exchange/"+e.id,class:"btn btn-xs btn-default"}).append('<i class="fa fa-eye"></i> '+a("exchange_view_button")),"&nbsp;",t("<button>",{class:"btn btn-xs btn-default",title:a("exchange_cancel_button")}).tooltip({trigger:"hover"}).on("click",()=>this.c92(e.id)).append('<i class="fa fa-close"></i>'))));if(r==i.E79)return t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"exchange/"+e.id}).append(e.id)),t("<td>").append(F.g202(e.confirmedAt,!0)),t("<td>").append(n==e.sellerId?b.m106(e.buyerId,{username:e.buyerUsername,country:e.buyerCountry},"right"):b.m106(e.sellerId,{username:e.sellerUsername,country:e.sellerCountry},"right")),t("<td>").append(n==e.sellerId?D.r211(e.sellerCoins,e.sellerItems,null,{},"top"):D.r211(e.buyerCoins,e.buyerItems,null,{},"top")),t("<td>").append(n==e.sellerId?D.r211(e.buyerCoins,e.buyerItems,null,{},"top"):D.r211(e.sellerCoins,e.sellerItems,null,{},"top")),t("<td>").append(t("<a>",{"href-local":"exchange/"+e.id,class:"btn btn-xs btn-default"}).append('<i class="fa fa-eye"></i> '+a("exchange_view_button"))));x.r226()}static c92(e){tt.t81=a("exchange_sure_cancel"),tt.c136=()=>{y.m109("ExchangeController.cancelExchangeWsAction",[e],()=>{S.re()})},tt.s143()}static g160(){return{type:pe.g83(),userId:this.u64}}static s120(e){this.u77=e.userCoins,this.u65=e.userItems,this.u106=e.userEq,this.t74=e.tokensUsed,pe.s93=!0,pe.re()}static c152(){y.m109("ExchangeController.checkSuccessExchangesWsAction",[],this.s121.bind(this))}static s121(e){this.n69=e,this.u107()}static u107(){this.n69?t(".menu_exchange_not_viewed").html('<i class="fa fa-circle new-quest-icon"></i>'):t(".menu_exchange_not_viewed").empty(),v.u142()}static s122(){y.m109("ExchangeController.setExchangesAsViewedWsAction",[],()=>{}),this.n69=0,this.u107()}};var Ws=class{static $="RewardFilterBlock";static re(){let e=Fe.r168;t("#"+this.$).empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"reward_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("rewards_column_reward")+a(": "),t("<img>",{src:"/img/rewards/"+i.R107[e],class:"reward reward"+e})," ",a("reward_"+e+"_name"),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[];for(let n=0;n<i.A102.length;n++){let r=i.A102[n];r!=i.R95&&s.push(t("<li>").append(t("<a>",{"href-local":"reward/"+r}).append(t("<img>",{src:"/img/rewards/"+i.R107[r],class:"reward reward"+r})," ",a("reward_"+r+"_name"))))}return s})()))),x.r226()}};var Fe=class{static r168=null;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return e==i.S92?{title:a("rewards_list_title")}:{title:a("seo_title_news"),description:a("seo_description_news"),hiddenSeo:!0}}static r167(e,s){e==i.S92?(s.append(t("<div>",{id:"RewardFilterBlock",class:"pull-right"}),t("<div>",{class:"clearfix"})),Ws.re()):e==i.S93&&(s.append(t("<div>",{id:"NewsFilterBlock"})),Ae.re())}static g159(){return null}static g74(){return"100%"}static r169(e,s){for(let n=0;n<s.length;n++){let r=s[n];r.items=this.f72(r.items);let l=r.isFirstTime?"news_solved_first_time_message":"news_solved_message",p=t("<span>");r.level&&p.append(a(l,{"%level%":t("<span>").append(q.g206(r.level,!0,!0),m.d76(r.diff,!0))[0].outerHTML,"%diff%":r.diff!==null?b.g227(r.diff):"","%size%":t("<span>").append(q.g210(r.level,r.sizeX,r.sizeY,r.mines))[0].outerHTML,"%duration%":t("<a>",{"href-local":"game/"+r.gameId,class:"text-nowrap level"+r.level+"-link"}).append(m.t105("icon-small icon-time-news level"+r.level),(r.duration/1e3).toFixed(3))[0].outerHTML}));let o=v.l85=="ja"||v.l85=="cn"||v.l85=="tw"?"":" ";r.isNewRecord&&!r.isFirstTime&&(v.l85=="ja"&&p.html(p.html().substring(0,p.html().length-2)),p.append(r.newRankScore||r.items||r.reward?a("news_comma"):o+a("news_and"),o,a("news_new_record"))),r.newRankScore&&(v.l85=="ja"&&p.html(p.html().substring(0,p.html().length-2)),p.append(r.items||r.reward?a("news_comma"):o+a("news_and"),o,a("news_new_rank",{"%rank%":'<strong class="darkgray">'+a(et.g279(r.newRankScore))+"</strong>"}))),r.items&&(v.l85=="ja"&&p.html(p.html().substring(0,p.html().length-2)),p.append(r.level?r.reward?a("news_comma"):o+a("news_and"):"",o,a("news_found_items",{"%items%":this.i94(r.items)[0].outerHTML}))),r.reward&&(v.l85=="ja"&&p.html(p.html().substring(0,p.html().length-2)),p.append(r.level?o+a("news_and"):"",o,a("news_reward",{"%reward%":t("<nobr>").append(t("<img>",{src:"/img/rewards/"+i.R107[r.reward],class:"reward reward"+r.reward,alt:a("reward_"+r.reward+"_name")}),o,t("<strong>",{class:"darkgray"}).append(a("reward_"+r.reward+"_name")))[0].outerHTML})));let c=t(window).width()<420;e.append(t("<tr>").append(t("<td>",{class:"text-center table-stat-list-column"}).css("width","1%").append(t("<a>",{"href-local":"game/"+r.gameId,class:"gray"}).append(t("<nobr>").append(r.mobile?'<span class="glyphicon glyphicon-phone icon-mobile gray"></span> ':"",F.g203(r.finishedAt,!0,!0)),"<br/>",t("<nobr>").append(F.g204(r.finishedAt,!0)))),t("<td>",{class:"table-stat-list-column"}).css("width","99%").append(t("<table>").append(c?"":t("<tr>").append(t("<td>",{class:"table-stat-list-subcolumn"}).css("width","1%").append(b.m106(r.userId,r,"right"),"&nbsp;","<br/>&nbsp;"),t("<td>",{class:"table-stat-list-subcolumn"}).css("width","99%").append(p)),c?t("<tr>").append(t("<td>",{class:"table-stat-list-subcolumn"}).css("width","99%").append(b.m106(r.userId,r,"right"),"&nbsp;",p)):""))))}for(let n=0;n<S.g165()-s.length;n++)e.append(t("<tr>").append(t("<td>").html("&nbsp;<br/>&nbsp;"),t("<td>").html("&nbsp;")));this.r170(),t(".tooltip-extra").tooltip({trigger:"hover"})}static f72(e){if(!e)return null;let s=[];for(let n in e){let r=parseInt(n);(r<=i.G128||r>=i.A67&&r<=i.A68)&&(s[n]=e[n])}return Object.keys(s).length==0?null:s}static i94(e){let s=t("<span>"),n=0;for(let r in e)n++!=0&&s.append(", "),s.append(t("<span>",{class:"news-item","item-type":r,"item-amount":e[r]}));return s}static r170(){t(".news-item").each((e,s)=>{s=t(s);let n=parseInt(s.attr("item-type")),r=parseInt(s.attr("item-amount"));if(n<=i.G128)s.append(r>1?r+'<span class="gem-news-x">\xD7</span>':"",m.g212(n,"gem-news"),a("gem_"+n));else if(n>=i.A67&&n<=i.A68){let l=Math.floor((n-i.A66)/10),p=(n-i.A66)%10;s.append(r>1?r+'<span class="gem-news-x">\xD7</span>':"",K.m92(n,null,"left",null).append('<i class="fa fa-ticket ticket ticket'+l+'"></i>L'+p))}})}static g160(e){return{season:e==i.S92?0:Y.g106(),userId:Ae.g85(),sortBy:Ae.g102(),reward:e==i.S92?this.r168:null}}};var ci=class _{static $="QuestsFilterBlock";static u64=null;static t61=0;static l65=0;static re(){t("#"+this.$).empty().append(At.l62("Quests",_.u64))}static g85(){return this.u64}};var Ns=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return{title:a("quests_title"),description:""}}static r167(e,s){s.append(t("<div>",{id:"QuestsFilterBlock"})),ci.re()}static g159(){return[{title:a("market_date")},{title:Q("Type")},{title:a("quests_quest")},{title:a("quests_progress")},{title:a("quests_reward")},{title:Q("Friend quest")}]}static g74(){return"100%"}static g80(e){let s=e.options?e.options:{};return t("<tr>").append(t("<td>").append(F.g203(e.createdAt,!0,!0),"<br/>",F.g204(e.createdAt,!1)),t("<td>").append(this.r171(e.period),"<br/>","<br/>","<br/>","&nbsp;"),t("<td>").append(s.secret?"Secret":t("<div>").append(nt.g116(e)," ",nt.g117(e))),t("<td>").append(s.secret?"Secret":e.completed?t("<span>",{class:"glyphicon glyphicon-ok reward-success"}):(e.progress===null?0:e.progress)+" / "+e.required),t("<td>").append(Dt.r215(e,null)),t("<td>").append(e.fromId?t("<div>").append(Q("From"),a(": "),b.m106(e.fromId,{username:e.fromUsername,country:e.fromCountry},"right")):"",e.toId?t("<div>").append(Q("To"),a(": "),b.m106(e.toId,{username:e.toUsername,country:e.toCountry},"right")):""))}static r171(e){return e===i.Q71?t("<span>",{class:"label label-success"}).append(Q("Daily")):e===i.Q72?t("<span>",{class:"label label-primary"}).append(Q("Season")):e===i.Q73?t("<span>",{class:"label label-danger"}).append(Q("Friend")):e===i.Q74?t("<span>",{class:"label label-info"}).append(Q("Wheel")):e===i.Q75?t("<span>",{class:"label label-unique"}).append(Q("Champ")):e===i.Q76||e===i.Q77?t("<span>",{class:"label label-warning"}).append(Q("Global")):t("<span>",{class:"label label-default"}).append(Q("Unknown"))}static g160(){return{userId:ci.g85()}}};var js=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return{title:location.pathname.indexOf("/ng")==-1?a("seo_title_ranking_all_time"):a("seo_title_ng_ranking"),description:location.pathname.indexOf("/ng")==-1?a("seo_description_ranking_all_time"):a("seo_description_ng_ranking"),hiddenSeo:!0}}static r167(e,s,n){t(window).width()>=600?s.append(t("<div>",{class:"pull-left"}).append(n,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t("<div>",{id:"RankingFilterBlock",class:"pull-right"}),t("<div>",{class:"clearfix"})):s.append(t("<div>",{id:"RankingFilterBlock",class:"text-right"}).css("margin-bottom","15px"),t("<div>").append(n)),Mt.re()}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{class:"stat-time-column",title:a("ranking_column_time")},{class:"stat-nf-column",title:""},{title:t("<abbr>",{title:a("3bv_description")}).tooltip({trigger:"hover"}).html("3BV")},{class:"stat-3bvs-column",title:t("<abbr>",{title:a("3bvs_description")}).tooltip({trigger:"hover"}).html("3BV/s")},{class:"stat-eff-column",title:t("<abbr>",{title:a("eff_description")?a("eff_description"):a("game_eff")}).tooltip({trigger:"hover"}).html("Eff")},{title:a("ranking_column_date")}]}static g74(){return"100%"}static g80(e,s){let n=Mt.g93(),r=Mt.g90();return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>",{class:e.userId==u.u61.id?"bold":""}).append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>").append(t("<a>",{"href-local":"game/"+e.gameId}).append('<span class="fa fa-caret-square-o-right game-play">',(e.duration/1e3).toFixed(3))),t("<td>",{class:n?"bg-info":""}).html(e.nf?t("<abbr>",{title:a("nf")}).tooltip({trigger:"hover"}).html("NF"):""),t("<td>").html(e.bbbv),t("<td>",{class:r=="bbbvs"?"bg-warning":""}).html((e.bbbvs/1e6).toFixed(e.bbbvs>1e7?0:3)),t("<td>",{class:r=="eff"?"bg-warning":""}).html(e.eff?e.eff+'<span class="eff-percent">%</span>':"\u2014"),t("<td>").append(e.mobile?'<span class="glyphicon glyphicon-phone icon-mobile"></span> ':"",F.g202(e.finishedAt)))}static g160(){let e=z.g111(),s=[i.G70,i.G75].indexOf(e)!=-1;return{level:e,sizeX:s?pt.g74():i.G135[e].SX,sizeY:s?pt.g75():i.G135[e].SY,mines:s?pt.g76():i.G135[e].MINES,nfOnly:Mt.g93(),sortBy:Mt.g90(),season:Y.g106()}}};var Ge=class _{static $="StatisticsFilterBlock";static u64=null;static s90="timeAll";static re(){let e={timeAll:a("stat_sort_by_time"),games:a("stat_sort_by_games"),winsAll:a("stat_sort_by_wins"),exp:a("stat_sort_by_exp"),coins:a("stat_sort_by_coins")};t("#"+this.$).empty().append(At.l62("Statistics",_.u64),t("<div>",{class:"pull-left"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"only_my",type:"checkbox"}).prop("checked",this.u64!==null).on("change",()=>this.c95()),t("<span>").append(a("stat_my_results")))),t("<span>",{class:"dropdown pull-right hidden-xs"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_sort_by")+a(": "),e[this.s90],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[];for(let n in e){let r=e[n];s.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98(n)).append(r)))}return s})())),t("<div>",{id:"SeasonFilterBlock",class:"pull-right"}),t("<div>",{class:"clearfix"})),Y.e71=!0,Y.re()}static c95(){this.u64?x.n81("statistics",!1):x.n81("statistics/"+u.u61.id,!1)}static g85(){return this.u64}static c98(e){this.s90=e,S.re()}static g90(){return this.s90}};var Fi=class{static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(){return{title:a("seo_title_statistics"),description:a("seo_description_statistics"),hiddenSeo:!0}}static r167(e,s){s.append(t("<div>",{id:"StatisticsFilterBlock"})),Ge.re()}static g159(){return[{title:a("stat_column_level")},{title:a("stat_column_games")},{title:a("stat_column_wins")},{title:a("time_in_hours")},{class:"hidden-xs",title:a("stat_column_exp")},{class:"hidden-xs",title:a("stat_column_coins")},{class:"hidden-xs",title:a("stat_column_best_time")}]}static g74(){return"100%"}static g80(e){let s=Math.round(e.timeAll/1e3/3600*10)/10;return s>=10&&(s=Math.round(s)),t("<tr>").append(t("<td>").append(q.g206(e.level,!0),m.d76(e.diff,!0),q.g210(e.level,e.sizeX,e.sizeY,e.mines)),t("<td>").append(b.g227(e.games)),t("<td>").append(b.g227(e.winsAll),e.games>0?' <span class="gray">('+Math.round(e.winsAll/e.games*1e3)/10+"%)</span>":""),t("<td>").append(b.g227(s)),t("<td>",{class:"hidden-xs"}).append(b.g227(e.exp)),t("<td>",{class:"hidden-xs"}).append(b.g227(e.coins)),t("<td>",{class:"hidden-xs"}).append(e.timeId?q.m95({userId:e.userId,username:e.username,country:e.country,finishedAt:e.finishedAt,level:e.level,sizeX:e.sizeX,sizeY:e.sizeY,mines:e.mines,duration:e.duration,bbbv:e.bbbv,bbbvs:e.bbbvs}).append(q.m94(e.timeId,e.level,e.duration,!1,!0,"black-link")):""))}static u111(e,s){if(t("#aggregate").empty(),s){let n=Math.round(s.timeAll/1e3/3600*10)/10;n>=10&&(n=Math.round(n));let r=s.extraStat?s.extraStat:{},l=(r.qd?r.qd:0)+(r.qs?r.qs:0)+(r.qe?r.qe:0),p=0;for(let P=1;P<=8;P++)r["a"+P]&&(p+=r["a"+P]),r["a"+P+"e"]&&(p+=r["a"+P+"e"]);let o=(r.eg?r.eg:0)+(r.eq?r.eq:0)+(r.ea?r.ea:0),c=(r.cg?r.cg:0)+(r.cq?r.cq:0)+(r.ca?r.ca:0)+(r.cs?r.cs:0),f=0,h={};for(let P=i.G117;P<=i.G128;P++)r["g"+P]&&(f+=r["g"+P],h[P]=r["g"+P]);let g=0;for(let P=1;P<=8;P++)r["t"+P]&&(g+=r["t"+P]);let w=(r.acg?r.acg:0)+(r.acq?r.acq:0)+(r.aca?r.aca:0),C=(r.eig?r.eig:0)+(r.eiq?r.eiq:0)+(r.eia?r.eia:0)+(r.eic?r.eic:0);Y.g106()==R.g257()&&R.i142()&&(C=0);let A=0,M={};for(let P=i.A105;P<=i.A117;P++)r["arc"+(P-i.A104)]&&(A+=r["arc"+(P-i.A104)],M[P]=r["arc"+(P-i.A104)]);t("#aggregate").append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-md-6 col-xs-12"}).css("margin-bottom","10px").append(a("stat_total_games")+a(": ")+"<strong>"+b.g227(s.games)+"</strong>","<br/>",a("stat_total_wins")+a(": ")+"<strong>"+b.g227(s.winsAll)+"</strong> ",s.games>0?"("+Math.round(s.winsAll/s.games*1e3)/10+"%)":"","<br/>",a("stat_total_time")+a(": ")+"<strong>"+b.g227(n)+"</strong> "+(n>0?a("time_hours"):""),"<br/>",a("ranking_quests_completed")+a(": "),l?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(l)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("quests_daily_quests")+a(": "),b.g227(r.qd?r.qd:0),"<br/>",a("quests_season_quests")+a(": "),b.g227(r.qs?r.qs:0),"<br/>",a("quests_event_quests")+a(": "),b.g227(r.qe?r.qe:0))}):"<strong>0</strong>","<br/>",a("ranking_arenas_completed")+a(": "),p?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(p)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append((()=>{let P=t("<table>");for(let B=1;B<=8;B++)if(r["a"+B]||r["a"+B+"e"]){let L=t("<tr>");r["a"+B]?L.append(t("<td>").append("L"+B+a(": "),b.g227(r["a"+B]))):L.append(t("<td>").append("&nbsp;")),r["a"+B+"e"]?L.append(t("<td>").append("&nbsp;&nbsp; L"+B+"E"+a(": "),b.g227(r["a"+B+"e"]))):L.append(t("<td>").append("&nbsp;")),P.append(L)}return P})())}):"<strong>0</strong>","<br/>",a("ranking_3bv_solved")+a(": ")+"<strong>"+b.g227(s.bbbvAll?s.bbbvAll:0)+"</strong>","<br/>"),t("<div>",{class:"col-md-6 col-xs-12"}).append(a("game_exp")+a(": "),o?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(o)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("stat_column_in_games")+a(": "),b.g227(r.eg?r.eg:0),"<br/>",a("quests_title")+a(": "),b.g227(r.eq?r.eq:0),"<br/>",a("arena_title")+a(": "),b.g227(r.ea?r.ea:0))}):"<strong>0</strong>","<br/>",a("stat_total_coins")+a(": "),c?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(c)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("stat_column_in_games")+a(": "),b.g227(r.cg?r.cg:0),"<br/>",a("quests_title")+a(": "),b.g227(r.cq?r.cq:0),"<br/>",a("arena_title")+a(": "),b.g227(r.ca?r.ca:0),"<br/>",a("gem_location_10")+a(": "),b.g227(r.cs?r.cs:0))}):"<strong>0</strong>","<br/>",a("game_gems")+a(": "),f?t("<span>",{class:"bold"}).append(q.m96(h,"right",!0,!0)):"<strong>0</strong>","<br/>",a("arena_tickets")+a(": "),g?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(g)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append((()=>{let P=[];for(let B=1;B<=8;B++)r["t"+B]&&P.push(t("<span>").append("L"+B+a(": "),b.g227(r["t"+B])),"<br/>");return P})())}):"<strong>0</strong>","<br/>",a("activity_points")+a(": "),w?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(w)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(a("stat_column_in_games")+a(": "),b.g227(r.acg?r.acg:0),"<br/>",a("quests_title")+a(": "),b.g227(r.acq?r.acq:0),"<br/>",a("arena_title")+a(": "),b.g227(r.aca?r.aca:0),"<br/>")}):"<strong>0</strong>","<br/>",a("event_reward_event_points")+a(": "),C?t("<span>",{class:"help bold dotted-underline"}).append(b.g227(C)).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content"}).append(r.eig?t("<div>").append(a("stat_column_in_games")+a(": "),b.g227(r.eig?r.eig:0)):"",r.eiq?t("<div>").append(a("quests_title")+a(": "),b.g227(r.eiq?r.eiq:0)):"",r.eia?t("<div>").append(a("arena_title")+a(": "),b.g227(r.eia?r.eia:0)):"",r.eic?t("<div>").append(a("menu_championship")+a(": "),b.g227(r.eic?r.eic:0)):"")}):"<strong>0</strong>","<br/>",a("arena_coins")+a(": "),A?t("<span>",{class:"bold"}).append(q.m97(M,"right",!0,!0)):"<strong>0</strong>","<br/>")),"<br/>"),x.r226()}}static g160(){return{season:Y.g106(),userId:Ge.g85()!==null?Ge.g85():0,sortBy:Ge.g90()}}};var S=class{static $="StatTableBlock";static p65=null;static p79=1;static s129=null;static r172=null;static m73=null;static s130=null;static R64=150;static I61=10;static I62=5;static I63=50;static I64=100;static re(e){let s=this.g164().getMeta(this.s130);s!==null&&H.u74(s),e||(this.s129?(this.p65=Math.floor((this.s129-1)/this.g165())+1,this.s129=null):this.p65=1),this.r172=null,this.m73=null,t("#"+this.$).empty();let n=t("<div>",{id:"stat_filters",class:"stat-filters"}).css("width",this.g164().getWidth()).appendTo(t("#"+this.$)),r=t("<nobr>").append(a("ranking_my_rank")+a(": "),t("<span>",{id:"stat_my_rank"}).append(t("<span>",{class:"gray"}).html("n/a")));this.g164().renderFilters(this.s130,n,r),t("#"+this.$).append(t("<div>",{id:"aggregate"}));let l=this.g164().getColumns();l?t("#"+this.$).append(t("<table>",{id:"stat_table",class:"table table-bordered table-stat stat-loading"}).css("width",this.g164().getWidth()).append(t("<thead>",{id:"stat_table_head"}).append((()=>{let o=t("<tr>");for(let c=0;c<l.length;c++)l[c]&&o.append(t("<th>",{class:l[c].class?l[c].class:"",colspan:l[c].colspan?l[c].colspan:1}).html(l[c].title));return o})()),t("<tbody>",{id:"stat_table_body"}).append(t("<tr>").append(t("<td>",{colspan:l.length}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'))))):t("#"+this.$).append(t("<table>",{id:"stat_table",class:"table table-stat-list"}).append(t("<tbody>",{id:"stat_table_body"}).append(t("<tr>").append(t("<td>",{colspan:1}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'))))),t("#"+this.$).append(t("<nav>",{id:"stat_pagination_nav"}).append(t("<ul>",{id:"stat_pagination",class:"pagination pagination-sm noselect"})));let p=location.pathname;setTimeout(()=>{p==location.pathname&&this.s131(i.S105,(this.p65-1)*this.g165(),this.g165())},this.R64),[i.S90,i.S91,i.S98,i.S99,i.S101,i.S104].indexOf(this.s130)!=-1&&setTimeout(()=>{p==location.pathname&&this.s131(i.S106)},2*this.R64),this.s130==i.S94&&setTimeout(()=>{p==location.pathname&&this.s131(i.S107)},2*this.R64),x.r226(),window._p===void 0&&(window._p=o=>{this.s132(o)})}static g164(){if(this.s130==i.S90)return js.g157();if(this.s130==i.S98)return Ls.g157();if(this.s130==i.S99)return Ue.g157();if(this.s130==i.S101)return Us.g157();if(this.s130==i.S104)return Os.g157();if(this.s130==i.S100)return $t.g157();if(this.s130==i.S89)return ke.g157();if(this.s130==i.S94)return Fi.g157();if(this.s130==i.S95)return it.g157();if(this.s130==i.S97)return Bt.g157();if(this.s130==i.S96)return Rs.g157();if(this.s130==i.S102)return Ns.g157();if(this.s130==i.S103)return Fs.g157();if(this.s130==i.S93||this.s130==i.S92)return Fe.g157();if(this.s130==i.S91&&W.g90()=="score")return Gs.g157();if(this.s130==i.S91&&W.g90()=="timePoints")return Is.g157();if(this.s130==i.S91&&W.g90()=="effPoints")return cs.g157();if(this.s130==i.S91&&W.g90()=="exp")return ms.g157();if(this.s130==i.S91&&W.g90()=="coinsSeason")return Ri.g157();if(this.s130==i.S91&&W.g90()=="quality")return us.g157();if(this.s130==i.S91&&W.g90()=="diff")return os.g157();if(this.s130==i.S91&&W.g90()=="mastery")return fs.g157();if(this.s130==i.S91&&W.g90()=="ws")return $s.g157();if(this.s130==i.S91&&W.g90()=="end")return ds.g157();if(this.s130==i.S91&&W.g90()=="wins")return Ds.g157();if(this.s130==i.S91&&W.g90()=="rewardsAll")return _s.g157();if(this.s130==i.S91&&W.g90()=="arena")return ps.g157();if(this.s130==i.S91&&W.g90()=="coinsAll")return Ri.g157();if(this.s130==i.S91&&W.g90()=="gemsAll")return hs.g157();if(this.s130==i.S91&&W.g90()=="ticketScoreAll")return Es.g157();if(this.s130==i.S91&&W.g90()=="questScoreAll")return gs.g157();if(this.s130==i.S91&&W.g90()=="activityTotal")return rs.g157();if(this.s130==i.S91&&W.g90()=="eventItems")return Ue.g157();if(this.s130==i.S91&&W.g90()=="arenaCoinsAll")return ls.g157()}static s131(e,s,n,r){e==i.S105&&t("#stat_table").addClass("stat-loading");let l=this.g164().getStatParams(this.s130),p=new Date().getTimezoneOffset(),o;e==i.S106?o=this.m74.bind(this):e==i.S105?o=this.u112.bind(this):e==i.S107&&(o=this.a90.bind(this)),y.m109("StatController.getStatWsAction",[location.pathname,this.s130,e,l,s,n,!!r,p],o)}static m74(e,s,n){if(e==location.pathname&&(this.m73=s,this.u113(),n)){let r=Math.floor((this.m73-1)/this.g165())+1;this.s132(r)}}static u112(e,s,n,r,l){if(e!=location.pathname||r&&this.m75(s))return;this.s130==i.S100&&$t.u110(n),l&&this.g164().setExtra!==void 0&&this.g164().setExtra(l),n!==null&&(this.r172=n,this.u113(),this.p79=Math.ceil(n/this.g165())),this.u114(),t("#stat_table").removeClass("stat-loading");let p=t("#stat_table_body").html("");if(this.s130==i.S93||this.s130==i.S92)Fe.r169(p,s);else{let o=this.g164().getColumns();for(let c=0;c<s.length;c++){let f=s[c],h=(this.p65-1)*this.g165()+c+1;p.append(this.g164().getRow(f,h))}for(let c=0;c<this.g165()-s.length;c++)p.append((()=>{let f=t("<tr>");for(let h=0;h<o.length;h++)if(o[h]&&(f.append(t("<td>",{class:o[h].class?o[h].class:""}).html("&nbsp;")),o[h].colspan&&o[h].colspan>1))for(let g=0;g<o[h].colspan-1;g++)f.append(t("<td>",{class:o[h].class?o[h].class:""}).html("&nbsp;"));return f})())}x.r226()}static a90(e,s){e==location.pathname&&Fi.u111(e,s)}static s132(e,s){this.p65=e,this.u114(),this.s131(i.S105,(this.p65-1)*this.g165(),this.g165(),s),this.s130==i.S103&&t("html, body").animate({scrollTop:0},"fast")}static u113(){if(this.m73&&this.r172){let e=Math.floor((this.m73-1)/this.g165())+1;t("#stat_my_rank").html("").append(t("<a>",{class:"position",href:"javascript:void(0);"}).on("click",()=>this.s132(e,!0)).html(this.m73)," / "+this.r172)}}static u114(){let e=!1;[i.S91,i.S99].indexOf(this.s130)!=-1&&(e=!0),this.s130==i.S93&&!Ae.g85()&&(e=!0),ve.u114(t("#stat_pagination"),{totalPages:this.p79,startPage:this.p65,noLastButton:e,onPageClick:(s,n)=>this.s132(n)})}static g165(){return this.s130==i.S100?this.I63:this.s130==i.S102?this.I62:this.s130==i.S103?this.I64:this.I61}static m75(e){for(let s=0;s<e.length;s++)if(e[s].userId==u.u61.id)return this.m73=(this.p65-1)*this.g165()+s+1,!1;return this.s131(i.S106,null,null,!0),!1}};var nt=class{static $="QuestsBlock";static Q62=10;static T61=1;static T62=2;static T63=3;static T64=4;static T65=1;static T66=2;static T67=4;static T68=5;static T69=6;static T70=7;static T71=8;static T72=10;static T73=11;static W61=500;static R64=250;static t61=null;static s105=null;static d68=null;static d69=null;static u98=null;static a85=null;static g114=null;static a86=null;static n68=null;static r137=null;static s106=null;static w63=null;static c126=null;static u89=null;static b65=null;static r138=1;static a87=null;static a88=!0;static g115={};static p65=[];static re(){H.u74({title:a("seo_title_quests"),description:a("seo_description_quests"),hiddenSeo:!0}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),this.r139()}static r139(e){setTimeout(()=>{y.m109("QuestsController.getQuestsWsAction",[],this.q61.bind(this))},e?0:this.R64)}static q61(e,s,n,r,l,p,o,c,f,h,g,w,C,A,M,P,B){this.p65[this.T65]=1,this.p65[this.T66]=1,this.p65[this.T67]=1,this.p65[this.T68]=1,this.p65[this.T69]=1,this.p65[this.T70]=1,this.p65[this.T71]=1,this.p65[this.T72]=1,this.p65[this.T73]=1,this.d68=e,this.d69=s,this.s105=n,this.u98=r,this.a85=l,this.g114=p,this.a86=o,this.n68=c,this.r137=f,this.s106=h,this.w63=g,this.c126=w,this.u89=C,this.b65=A,this.r138=M,this.a87=P,this.a88=B,this.g115={};for(let L=0;L<r.length;L++)this.g115[r[L].globalQuestId]=1;this.u99(),t("#"+this.$).is(":visible")&&this.r140()}static r140(){if(t("#"+this.$).empty(),this.t61==this.T61){if(!this.u89){t("#"+this.$).append(t("<h2>").append(a("quests_daily_quests")),"<hr/>",t("<span>").append(a("arena_rank_required")+a(": ")),b.m107(1,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(1))))),x.r226();return}this.w63.length>0&&t("#"+this.$).append(t("<h2>").append(a("wheel_fortune_quests")),"<hr/>",this.r141(this.w63,this.T70),"<br/>"),this.d69.length>0&&(this.d68&&!this.d68.collected&&!t("#quest_row_null").length&&this.d69.unshift({id:null,period:i.Q71,daynum:this.d68.daynum,slot:-1,level:this.d68.level,type:i.Q106,options:null,progress:0,required:0,exp:0,coins:0,items:this.d68.items,completed:!1,isElite:!1,replaced:0}),t("#"+this.$).append(t("<h2>").append(a("quests_daily_quests")),"<hr/>",this.r141(this.d69,this.T65),this.i87()?t("<div>",{id:"refreshes_in_daily_quests_wrapper",class:"text-right"}).append(a("quests_new_quests_in"),a(": "),t("<span>",{id:"refreshes_in_daily_quests"})):""),this.i87()&&lt.i85("refreshes_in_daily_quests",lt.E71,null,()=>{this.re()})),this.s105.length>0&&(t("#"+this.$).append("<br/>",t("<h2>").append(a("quests_season_quests")),"<hr/>",this.r141(this.s105,this.T66),t("<div>",{id:"refreshes_in_quests_wrapper",class:"text-right"}).append(this.i88()?a("quests_new_quests_in"):a("quests_reset_time"),a(": "),t("<span>",{id:"refreshes_in_quests"}))),lt.i85("refreshes_in_quests",lt.E70,null,()=>{this.re()}))}else if(this.t61==this.T62){if(H.u74({title:a("menu_event_quests"),description:"",hiddenSeo:!0}),!this.u89||this.u89.score<100){t("#"+this.$).append(t("<span>").append(a("arena_rank_required")+a(": ")),t("<span>",{class:"help"}).append(b.m107(100,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(100))))));return}this.n68.length>0&&t("#"+this.$).append(Ht.r110("/img/event-other/quests-to-send-"+(new Date().getMonth()+1)+".svg",Ht.t68(a("quests_quests_to_send")),R.g258(),{height:"32px"}),this.r141(this.n68,this.T67),"<br/>"),this.r137.length>0&&t("#"+this.$).append(Ht.r110("/img/event-other/quests-received-"+(new Date().getMonth()+1)+".svg",Ht.t68(a("quests_received_quests")),R.g258(),{height:"32px"}),this.r141(this.r137,this.T68),"<br/>"),this.s106.length>0&&t("#"+this.$).append(Ht.r110("/img/event-other/quests-sent-"+(new Date().getMonth()+1)+".svg",Ht.t68(a("quests_sent_quests")),R.g258(),{height:"32px"}),this.r141(this.s106,this.T69)),t("#"+this.$).append("<br/>","<hr/>",t("<p>",{class:"text-right"}).append(a("activity_points")+a(": "),this.u89&&this.u89.items&&this.u89.items[i.A103]?this.u89.items[i.A103]:0,m.a101("icon-right")),t("<div>",{class:"text-right"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"allow_friend_quests",type:"checkbox",class:"cursor-pointer"}).prop("checked",!this.a88).on("click",()=>this.c127()),"&nbsp;&nbsp;"+a("quests_i_dont_want_message"))))}else if(this.t61==this.T63){if(H.u74({title:a("menu_event_quests"),description:"",hiddenSeo:!0}),!this.u89){t("#"+this.$).append(t("<span>").append(a("arena_rank_required")+a(": ")),b.m107(1,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(1)))));return}if(this.a85.length>0&&(t("#"+this.$).append(Ht.r110(null,Ht.t68(a("quests_active_quests")),R.g258()),this.u98.length>0?this.r141(this.u98,this.T72):a("quests_no_active_quests")+"<br/><br/>","<br/>",Ht.r110(null,Ht.t68(a("quests_all_quests")),null),t("<p>").append(t("<div>",{class:"pull-left"}).append(a("activity_points")+a(": "),this.a86,I.a105("icon-right")),t("<div>",{id:"refreshes_next_quest_wrapper",class:"pull-right"}).append(a("quests_next_quest_in")," ",t("<span>",{id:"refreshes_next_quest"})),t("<div>",{class:"clearfix"})),t("<div>").append(t("<div>",{class:"pull-left"}).append(),t("<div>",{class:"pull-right"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>{this.re()}).html('<span class="glyphicon glyphicon-refresh"></span> '+a("market_update_button"))),t("<div>",{class:"clearfix"})),"<br/>",this.r141(this.a85,this.T73),"<br/>"),this.a85.length>0)){let s=new Date(this.a85[0].expiresAt).getTime()-i.G134+i.N67;lt.i85("refreshes_next_quest",null,s,()=>{this.re()})}}else this.t61==this.T64&&this.c126.length>0&&t("#"+this.$).append(this.r141(this.c126,this.T71),"<br/>");this.t61==this.T61&&this.b65&&this.b65[i.B79]&&(t("#"+this.$).append("<br/>","<hr/>",t("<div>",{id:ii.$}),"<br/>"),ii.u89=this.u89,ii.b65=this.b65,ii.re()),t('[data-toggle="tooltip"]').tooltip(),x.r226()}static r141(e,s){let n=[],r=0;for(let f=0;f<e.length;f++)r=Math.max(r,e[f].replaced);let l=r<this.r138;(s==this.T70||s==this.T71)&&(l=!1);let p=[],o=!0;for(let f=(this.p65[s]-1)*this.Q62;f<Math.min(this.p65[s]*this.Q62,e.length);f++){let h=e[f];if(h.type==i.Q106&&h.completed)continue;let g=h.options?h.options:{},w=[],C=h.expiresAt?h.expiresAt:h.reserveExpiresAt?h.reserveExpiresAt:null,A=C&&new Date(C).getTime()<Date.now(),M=h.completed||h.completedByInitiator||A;o&&p.push(t("<th>",{class:"text-nowrap hidden-xs"}).append(a("quests_level")),t("<th>",{class:"text-nowrap hidden-sm hidden-md hidden-lg"}).append(t("<span>",{title:a("quests_level")}).append("L").tooltip({trigger:"hover"})),t("<th>",{class:"text-nowrap quest-column"}).append(s==this.T71?a("champ_mission"):a("quests_quest")));let P=s!=this.T67&&s!=this.T69&&s!=this.T73&&!h.completed;if(w.push(t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(this.g116(h)),t("<td>",{class:M?"transparent":""}).append(g.secret?'<span class="top-secret text-nowrap">TOP SECRET</span>':this.g117(h,P))),s!=this.T67&&s!=this.T73&&(o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_progress"))),w.push(t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(this.r142(h)))),s==this.T72){o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_reward")),t("<th>",{class:"text-nowrap"}).append(a("quests_expires_at")));let B=h.globalQuestId;w.push(t("<td>",{class:"text-nowrap"}).append(t("<div>",{id:"global_quest_reward_"+B}).append(h.completed?Dt.r215(h,this.b65):"",!h.completed&&h.progress>=h.required&&s==this.T72?t("<div>").append(t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect"))):"")),h.completed?t("<td>",{class:"text-nowrap transparent"}):t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(A?a("quests_expired"):F.g202(C)))}if(s==this.T73){o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_winners")),t("<th>",{class:"text-nowrap"}).append(a("quests_expires_at")));let B=h.id;w.push(t("<td>",{class:"text-nowrap"}).append(t("<div>",{id:"winners_"+B}).append(this.r99(h))),t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(A?a("quests_expired"):t("<span>").append(F.g203(C,!0,!0),"<br/>",F.g204(C,!1))))}if(s!=this.T72&&s!=this.T73){o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_reward")));let B=(s==this.T65||s==this.T66||s==this.T70||s==this.T71)&&!h.completed&&h.progress>=h.required;w.push(A&&!h.completed&&!h.completedByInitiator&&!B?t("<td>",{class:"text-nowrap transparent"}).append("\u2014"):t("<td>",{class:"text-nowrap"}).append(Dt.r215(h,this.b65),B?t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs hidden-sm hidden-md hidden-lg","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect")):""))}if(s==this.T70||s==this.T71){o&&p.push(t("<th>",{class:"text-nowrap"}).append(s==this.T70?a("quests_expires_at"):""));let B="";h.completed?B="<strong>"+a("quests_completed")+"</strong>":!h.completed&&h.progress>=h.required?B=t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs hidden-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect")):s==this.T70&&(B=A?a("quests_expired"):C?F.g202(C):""),w.push(t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(B))}if((s==this.T65||s==this.T66)&&(o&&p.push(t("<th>",{class:"text-nowrap quests-column-last"})),w.push(t("<td>",{class:M?"transparent":""}).append(h.completed?"<strong>"+a("quests_completed")+"</strong>":"",l&&!h.completed&&h.progress<h.required?t("<button>",{id:"replace_btn_"+h.id,class:"btn btn-default btn-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.r144(h.id,h.progress)).append('<i class="fa fa-refresh"></i> '+a("quests_replace")):"",!h.completed&&h.progress>=h.required?t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs hidden-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect")):""))),s==this.T67&&(o&&p.push(t("<th>",{class:"text-nowrap quests-column-last"})),w.push(t("<td>").append(t("<button>",{class:"btn btn-danger btn-xs"}).on("click",()=>this.s107(h)).append('<i class="fa fa-send"></i> '+a("quests_send_button"))))),s==this.T68){o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_sent_by")),t("<th>",{class:"text-nowrap"}).append(a("quests_expires_at")));let B="";h.completed?B="<strong>"+a("quests_completed")+"</strong>":!h.completed&&h.progress>=h.required?B=t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect")):B=t("<span>").append(A?a("quests_expired"):F.g202(C),A?"":t("<button>",{class:"btn btn-default btn-xs btn-quest-delete",title:a("quests_delete_button")}).on("click",()=>this.d70(h.id)).tooltip({trigger:"hover"}).append('<i class="fa fa-trash"></i>')),w.push(t("<td>",{class:"username-overflow-column"}).append(b.m106(h.initiatorId,h,"left")),t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(B))}if(s==this.T69){o&&p.push(t("<th>",{class:"text-nowrap"}).append(a("quests_sent_to")),t("<th>",{class:"text-nowrap"}).append(a("quests_expires_at")));let B="";h.completedByInitiator?B="<strong>"+a("quests_completed")+"</strong>":!h.completedByInitiator&&h.progress>=h.required?B=t("<button>",{class:"collect_btn_"+h.id+" btn btn-danger btn-xs","data-loading-text":a("loading")+"..."}).on("click",()=>this.c128(h.id,!0)).append('<i class="fa fa-check-square-o"></i> '+a("quests_collect")):B=A?a("quests_expired"):C?F.g202(C):"",w.push(t("<td>",{class:"username-overflow-column"}).append(b.m106(h.sentTo,h,"top")),t("<td>",{class:"text-nowrap "+(M?"transparent":"")}).append(B))}s==this.T73&&(o&&p.push(t("<th>",{class:"text-nowrap quests-column-last"})),w.push(t("<td>").append(!this.g115[h.id]&&!A?t("<button>",{id:"participate_btn_"+h.id,class:"btn btn-default btn-xs","data-loading-text":a("loading")+"..."}).prop("disabled",(h.isElite?3*h.level:h.level)>this.a86).on("click",()=>this.p74(h.id)).append(a("quests_participate"),"<br/>",h.isElite?3*h.level:h.level,m.a101("icon-right")):""))),n.push(t("<tr>",{id:"quest_row_"+h.id}).append(w)),o=!1}let c=null;return e.length>this.Q62&&(c=t("<ul>",{class:"pagination pagination-sm noselect"}),ve.u114(c,{totalPages:Math.ceil(e.length/this.Q62),startPage:this.p65[s],onPageClick:(f,h)=>{this.p65[s]=h,this.r140()}})),[t("<table>",{class:"table table-bordered"}).append(t("<thead>").append(t("<tr>").append(p)),t("<tbody>").append(n)),c]}static r142(e){let s=e.progress===null?0:e.progress,n=e.options?e.options:{};return s>=e.required?t("<span>",{class:"glyphicon glyphicon-ok reward-success"}):e.required==1||n.secret||e.type==i.Q103?"\u2014":s+" / "+e.required}static s107(e){yi.f77=e,yi.f78=null,yi.s143()}static r99(e){let s=e.id,n=this.g114[s],r=t("<table>");if(n===void 0)return setTimeout(()=>{this.r143(s,!0)},this.W61),t("<div>").append('<img src="/img/loading_small.gif" class="loading-small"/> '+a("loading")+"...");for(let l=0;l<n.positions.length;l++){let p=n.positions[l],o=p.items,c=Object.keys(o)[0],f=p.baseReward;p.userId==u.u61.id&&o[c]>p.baseReward&&(f+="+"+(o[c]-p.baseReward));let h="event-pos-"+(p.position>6?6:p.position);r.append(t("<tr>").append(t("<td>",{class:"vertical-align-top"}).append(t("<span>",{class:"event-quest-place "+h}).append(p.position)),t("<td>",{class:"vertical-align-top username-overflow-column",width:"100%"}).append(b.m106(p.userId,p,"top",null,!1,!1,h+" "+(p.userId==u.u61.id?"bold":""))),t("<td>",{class:"vertical-align-top text-nowrap text-right"}).append(t("<span>",{class:"event-quest-reward "+h}).append(f),t("<span>",{class:"help",title:a("candy_"+c)}).tooltip({trigger:"hover"}).append(m.e89(c,"micro")))))}return t("<div>").append(r,n&&n.count-n.positions.length?t("<div>",{class:"event-quest-other text-nowrap"}).append(t("<a>",{id:"winners_link_"+s,href:"javascript:void(0)",class:"event-pos-4"}).append('<i class="fa fa-angle-double-right"></i> ',a("quests_other_winners")," ("+(n.count-n.positions.length)+")").on("click",()=>{t("#winners_link_"+s).empty().append('<img src="/img/loading_small.gif" class="loading-small"/> '+a("loading")+"..."),this.r143(s,!1)})):"")}static i87(){for(let e=0;e<this.d69.length;e++)if(!this.d69[e].completed)return!1;return!0}static i88(){for(let e=0;e<this.s105.length;e++)if(!this.s105[e].completed)return!1;return!0}static r143(e,s){y.m109("QuestsController.getQuestPositionsWsAction",[e,s],this.q62.bind(this))}static q62(e,s){let n=null;for(let r=0;r<this.a85.length;r++)if(this.a85[r].id==e){n=this.a85[r];break}if(this.g114[e]=s,!n){console.error("Quest was not found");return}t("#winners_"+e).empty().append(this.r99(n)),x.r226()}static c127(){let e=!t("#allow_friend_quests").prop("checked");y.m109("FriendQuestsController.updateAllowFriendQuestsWsAction",[e],()=>{})}static c128(e,s){t(".collect_btn_"+e).button("loading"),e===null?y.m109("QuestsController.collectDailyLoginRewardWsAction",[],this.c129.bind(this)):s?y.m109("QuestsController.collectSentFriendQuestWsAction",[e],this.c130.bind(this)):y.m109("QuestsController.collectQuestWsAction",[e],this.c130.bind(this))}static c129(){this.d68.collected=!0,t("#quest_row_null").hide(500),this.u99()}static c130(e,s){this.r139(),R.g256()==i.E112&&ce.u115(!1),t("#"+S.$).is(":visible")&&S.re()}static p74(e){t("#participate_btn_"+e).button("loading"),y.m109("QuestsController.participateInQuestWsAction",[e],()=>{this.re()})}static d70(e){tt.t81=a("quests_delete_sure"),tt.c136=()=>{y.m109("FriendQuestsController.deleteFriendQuestWsAction",[e],()=>{this.r139()})},tt.s143()}static r144(e,s){s==0?(t("#replace_btn_"+e).button("loading"),y.m109("QuestsController.replaceQuestWsAction",[e],()=>{this.re()})):(tt.t81=a("quests_replace_sure"),tt.c136=()=>{t("#replace_btn_"+e).button("loading"),y.m109("QuestsController.replaceQuestWsAction",[e],()=>{this.re()})},tt.s143())}static u99(){let e=0,s=!1,n=0,r=0,l=!1,p=!1,o=!1;for(let c=0;c<this.d69.length;c++)this.d69[c].type!=i.Q106&&!this.d69[c].completed&&(e++,this.d69[c].progress>=this.d69[c].required&&(s=!0));for(let c=0;c<this.s105.length;c++)this.s105[c].completed||(e++,this.s105[c].progress>=this.s105[c].required&&(s=!0));for(let c=0;c<this.w63.length;c++){let f=this.w63[c].expiresAt&&new Date(this.w63[c].expiresAt).getTime()<Date.now();!this.w63[c].completed&&!f&&(e++,this.w63[c].progress>=this.w63[c].required&&(s=!0))}for(let c=0;c<this.u98.length;c++){let f=this.u98[c].expiresAt&&new Date(this.u98[c].expiresAt).getTime()<Date.now();!this.u98[c].completed&&!f&&r++,!this.u98[c].completed&&this.u98[c].progress>=this.u98[c].required&&(p=!0)}for(let c=0;c<this.c126.length;c++)!this.c126[c].completed&&this.c126[c].progress>=this.c126[c].required&&(o=!0);for(let c=0;c<this.n68.length;c++)n++;for(let c=0;c<this.r137.length;c++){let f=this.r137[c].expiresAt&&new Date(this.r137[c].expiresAt).getTime()<Date.now();!this.r137[c].completed&&!f&&n++,!this.r137[c].completed&&this.r137[c].progress>=this.r137[c].required&&(l=!0)}for(let c=0;c<this.s106.length;c++)!this.s106[c].completedByInitiator&&this.s106[c].progress>=this.s106[c].required&&(l=!0);t(".menu_quests_count").html("("+e+")"),t(".menu_friend_quests_count").html("("+n+")"),t(".menu_global_quests_count").html("("+r+")"),t(".menu_champ_quests_new").html(""),(s||this.d68&&!this.d68.collected)&&t(".menu_quests_count").append('<i class="fa fa-circle new-quest-icon"></i>'),l&&t(".menu_friend_quests_count").append('<i class="fa fa-circle new-quest-icon"></i>'),p&&t(".menu_global_quests_count").append('<i class="fa fa-circle new-quest-icon"></i>'),o&&t(".menu_champ_quests_new").append('<i class="fa fa-circle new-quest-icon"></i>'),v.u142()}static g116(e){return"L"+e.level+(e.isElite?"E":"")}static g117(e,s){let n=e.options?e.options:{},r={};if(r["%amount%"]=e.required,n.level&&(r["%level%"]=s?'<a href-local="start/'+n.level+'">'+a("level_"+n.level)+"</a>":a("level_"+n.level),i.i139(n.level)&&(r["%level%"]+=' <abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'),e.required==1&&(r["%level%"]=a("level_"+n.level+"_article")+" "+r["%level%"])),n.duration&&(r["%duration%"]=Math.round(n.duration/1e3)),n.sizeX&&(r["%size%"]=s?'<a href-local="start/'+n.sizeX+"x"+n.sizeY+"/"+n.mines+'">'+n.sizeX+"x"+n.sizeY+"/"+n.mines+"</a>":n.sizeX+"x"+n.sizeY+"/"+n.mines),n.eff&&(r["%eff%"]=n.eff+"%"),n.type){let c=Math.floor((n.type-i.A66)/10),f=(n.type-i.A66)%10;r["%type%"]=s?'<a href-local="arena/start/'+n.type+'">L'+f+" "+a("arena_type_"+c)+"</a>":"L"+f+" "+a("arena_type_"+c)}n.gem&&(r["%gem%"]=a("gem_"+n.gem),r["%gems%"]=a("gems_"+n.gem));let l="";[i.Q101,i.Q89,i.Q90,i.Q91,i.Q92,i.Q93,i.Q94,i.Q95,i.Q96,i.Q102,i.Q103,i.Q87,i.Q84,i.Q86,i.Q81].indexOf(e.type)!=-1&&(l=e.required==1?"_single":"_multiple"),v.l85=="ru"&&(r["%games_ending%"]="",r["%tickets_ending%"]="\u043E\u0432",r["%gems_ending%"]="\u043E\u0432",r["%hp_ending%"]="\u043E\u0432",(e.required<10||e.required>20)&&(e.required%10==1?(r["%games_ending%"]="\u0443",r["%tickets_ending%"]="",r["%gems_ending%"]="",r["%hp_ending%"]="\u043E"):e.required%10>=2&&e.required%10<=4&&(r["%games_ending%"]="\u044B",r["%tickets_ending%"]="\u0430",r["%gems_ending%"]="\u0430",r["%hp_ending%"]="\u0430")));let p=e.type;[i.Q89,i.Q90,i.Q91,i.Q92,i.Q93,i.Q94].indexOf(e.type)!=-1&&(p="wins");let o=a("quests_"+p+l,r);return e.type==i.Q88&&R.g260()!=i.D83&&(o+=" ("+dt.n80(a("candies_"+R.g260()))+")"),s&&(e.type==i.Q101&&(e.level==1||e.level==2||e.level==3)?o+=' <a href-local="help/efficiency" data-toggle="tooltip" title="'+a("help_title")+'"><i class="fa fa-question-circle-o gray"></i></a>':e.type==i.Q81&&(e.level==1||e.level==2)?o+=' <i class="fa fa-question-circle-o gray help" data-toggle="tooltip" title="'+a("hp_info")+'"></i>':e.type==i.Q84&&(e.level==1||e.level==2)&&(o+=' <a href-local="help/gems" data-toggle="tooltip" title="'+a("help_title")+'"><i class="fa fa-question-circle-o gray"></i></a>')),o}};var Dt=class{static r215(e,s){let n=e.exp,r=e.coins,l=e.items?e.items:null;if((e.period===i.Q74||e.period===i.Q75)&&!e.completed)return this.r217(!1,0,0,e.items,!1,s,!1);if(e.period===void 0&&!e.isSent)return this.r217(!1,n,r,l,!1,null,!1);if(e.period===void 0&&e.isSent||e.period===i.Q73)return e.completed||e.completedByInitiator?this.r217(!1,n,r,l,!0,null,!1):this.r217(!1,0,0,e.items,!1,s,!1);if(n||r||l){let p=e.type==i.Q106;return this.r217(!1,n,r,l,e.completed,null,!1,p)}else{let p=e.level,o=0;return e.isElite&&(p*=i.Q69),e.period==i.Q72&&(p*=i.Q70),e.period==i.Q72?(n=p*i.Q65/2,r=p*i.Q66/2,o=p*i.Q67/2):e.slot==0?n=p*i.Q65:e.slot==1?r=p*i.Q66:e.slot==2?(o=p*i.Q67,o<.4&&(o=0,n=p*i.Q65/2,r=p*i.Q66/2)):e.slot==3?(n=p*i.Q65/2,o=p*i.Q67/2):e.slot==4?(r=p*i.Q66/2,o=p*i.Q67/2):(n=p*i.Q65/2,r=p*i.Q66/2),l={},o&&(l[i.G125]=o),e.period==i.Q71&&(R.i142()?s&&s[i.B81]?l[i.H97]=Math.round(100*p*i.Q68*(1+s[i.B81]/100))/100:l[i.H97]=p*i.Q68:l[i.A103]=p*i.Q68),this.r217(!1,n,r,l,!1,s,!1)}}static r216(e,s,n,r,l){let p=ut.g167(s,n,null),o=Math.floor((s-i.A66)/10),c=o==i.A93||o==i.A94||o==i.A95,f=p.reward,h=f[2],g=f[1],w={};if(f[0]>0&&(w[p.ac]=f[0]),c){let C=i.E105[R.g257()];w[C]=p.reward[3]}else{let C=null,A=i.E105[R.g257()];if(A&&i.E75[A]&&i.E75[A][p.gem]&&(C=i.E75[A][p.gem]),C)f[4]>0&&(w[i.A103]=f[4]),n==i.A101&&f[3]>0&&(w[C]=f[3]);else{if(f[4]>0){let M=r&&r[i.B81]?r[i.B81]:0;w[i.H97]=Math.round(100*f[4]*(1+M/100))/100}if(n==i.A101&&f[3]>0){let M=r&&r[i.B82]?r[i.B82]:0;w[i.H97]===void 0?w[i.H97]=Math.round(100*f[3]*(1+M/100))/100:w[i.H97]+=Math.round(100*f[3]*(1+M/100))/100}}}return this.r217(e,h,g,w,r===null,r,c,l)}static r217(e,s,n,r,l,p,o,c){if(r||(r={}),s==0&&n==0&&Object.keys(r).length==0)return t("<span>").append("\u2014");let f=e?"&nbsp;&nbsp;":"<br/>",h=0;p&&p[i.B72]&&(h=p[i.B72]/100);let g=0;p&&p[i.B73]&&(g=p[i.B73]/100);let w=0;p&&p[i.B82]&&(w=p[i.B82]/100);let C=r&&r[i.A103]?r[i.A103]:0,A=0;p&&p[i.B81]&&(A=p[i.B81]/100);let M=t("<span>").append(s?t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(s,h,l,e,c),c?m.e85("icon-small icon-right"):I.e92("icon-small icon-right")),f):"",n?t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(n,g,l,e,c),c?m.c199("icon-small icon-right"):I.c200("icon-small icon-right")),f):"");for(let P=i.G117;P<=i.G128;P++)if(r[P]&&r[P]>0){let B=r[P],L=0;P==i.G125&&(L=p&&p[i.B74]?p[i.B74]/100:0,L+=p&&p[i.B91]?p[i.B91]/100:0),M.append(t("<span>",{class:B*(1+L)<1?"transparent":""}).append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(B,L,l,e,c),c?m.g212(P,"icon-small icon-right"):I.g221(P,"icon-small icon-right")),f))}for(let P=i.A105;P<=i.A117;P++)if(r[P]&&r[P]>0){let B=r[P],L=p&&p[i.B80]?p[i.B80]/100:0;M.append(t("<span>",{class:B*(1+L)<1?"transparent":""}).append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(B,L,l,e,c),c?m.a102(P,"icon-right"):I.a104(P,"icon-right")),f))}C&&M.append(t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(C,A,l,e,c),c?m.a101("icon-right"):I.a105("icon-right")),f));for(let P=i.E86;P<=i.E100;P++)r[P]&&r[P]>0&&M.append(t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(r[P],w,l,e,c),c?m.e89(P,"small"):I.e93(P,"small")),f));for(let P=i.A67;P<=i.A68;P++)if(r[P]&&r[P]>0){let B=Math.floor((P-i.A66)/10),L=(P-i.A66)%10;M.append(t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(r[P]>1?r[P]+"x":"",K.m92(P,nt.a87,"top",null).append('<i class="fa fa-ticket ticket ticket'+B+'"></i>L'+L)),f))}if(r[i.H97]&&M.append(t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append("+",Math.round(r[i.H97]*100)/100,c?m.h76("icon-small icon-right"):I.h77("icon-small icon-right")),f)),o&&!l)for(let P=i.T106;P<=i.T107;P++)r[P]&&r[P]>0&&M.append(t("<span>").append(t("<span>",{class:"text-nowrap-inline"}).append(this.r218(r[P],w,l,e,c),t("<span>",{class:"help",title:a("candy_"+P)}).tooltip({trigger:"hover"}).append(m.e89(P,"small"))),f));return M}static r218(e,s,n,r,l){let p=n?e:e*(1+s),o,c=!1;p<1?(o=Math.round(p*100),c=!0):p<10?(o=Math.round(p*100)/100,c=!0):p<100?(o=Math.round(p*10)/10,c=!0):o=Math.round(p);let f=t("<span>").append(p<1?"":"+",r&&o%1e3==0?b.g228(o):o+(c&&!n&&s&&o%1==0&&p>=1?".0":""),p<1?"%":"");return!n&&!l&&f.addClass("help").popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>t("<span>").append(a("arena_base_reward")+a(": "),Math.round(e*100)/100,"<br/>",s>0?t("<span>").append(a("arena_bonus")+a(": "),"+"+Math.round(s*100)+"%"):"")}),f}};var K=class{static m92(e,s,n,r){let l=ut.g167(e,r===null?i.A100:r,null),p=Math.floor((e-i.A66)/10),o=(e-i.A66)%10,c=null;e>=i.A69&&e<=i.A70&&(c=lt.g219(lt.E70)-Date.now());let f=location.href.indexOf("exchange/")!=-1;return t("<span>",{class:"help"}).popover({trigger:"hover",placement:n,html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(r===null?t("<div>").append('<i class="fa fa-ticket ticket-medium ticket ticket'+p+'"></i>',t("<strong>").append(a("arena_ticket")),'<hr class="narrow-hr"/>'):"",t("<div>").append(a("arena_type")+a(": ")+a("arena_type_"+p)+" L"+o,r==i.A101?"E":""),r!==null?t("<div>").append(a("arena_mode")+a(": ")+a("arena_mode_"+r)):"",t("<div>").append(a("arena_time")+a(": "),this.g197(l.time)),l.games>1?t("<div>").append(a("arena_games")+a(": ")+l.games):"",l.diffMin?t("<div>").append(a("arena_diff")+a(": "),l.diffMin==l.diffMax?l.diffMin:l.diffMin+"-"+l.diffMax):"",l.penalty?t("<div>").append(a("arena_penalty")+a(": ")+l.penalty+a("time_minutes_abbr")):"",l.wrMin?t("<div>").append(a("arena_winrate")+a(": "),l.wrMin+"-"+l.wrMax+"%"):"",r===null?t("<div>").append(a("arena_rank_required")+a(": ")+a(et.g279(i.A98*(o-1)+1))):"",r===null&&this.g199(s,e)>0?t("<div>").append(a("arena_points")+a(": "),"+"+this.g199(s,e),m.a103("icon-small icon-right")):"",r===null?t("<div>").append(a("arena_base_reward")+a(": "),e<i.A69?"<br/>":"",Dt.r216(!0,e,i.A100,{},!0)):"",r===null?t("<div>").append(a("market_market_price")+a(": "),t("<span>",{class:"text-nowrap market_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')):"",r===null&&f?t("<div>").append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')):"",c&&c>0?t("<div>").append(a("event_remaining_time")+a(": "),t("<span>",{class:"bold"}).append(lt.g220(c))):"")}).on("shown.bs.popover",()=>{r===null&&Gt.g216(i.M74,p,o,null,e),r===null&&f&&Gt.g217(e,"icon-small")})}static m93(e){let s=i.A100;e.mode!==void 0&&(s=e.mode);let n=ut.g167(e.type,s,null),r=Math.floor((e.type-i.A66)/10),l=(e.type-i.A66)%10;return t("<span>",{class:"custom-popover"}).popover({trigger:"hover",placement:"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(e.userId?t("<div>").append(t("<img>",{src:u.f62(e.country),class:"player-flag",alt:e.country}),t("<a>",{"href-local":"player/"+e.userId}).text(b.g225(e.userId,e.username))):"",t("<div>").append(a("arena_type")+a(": ")+a("arena_type_"+r)),t("<div>").append(a("arena_level")+a(": ")+"L"+l,s==i.A101?"E":""),t("<div>").append(a("arena_games")+a(": ")+n.games+" / "+n.games),e.duration?t("<div>").append(a("arena_time")+a(": "),this.g200(e.duration-(e.penaltyTotal?e.penaltyTotal:0),null)):"",n.penalty&&e.penaltyTotal?t("<div>").append(a("arena_penalty")+a(": "),this.g200(e.penaltyTotal,null)):"",t("<div>").append(a("arena_points")+a(": ")+n.points,m.a103("icon-small icon-right")),e.finishedAt?t("<div>",{class:"gray"}).html(F.g202(e.finishedAt)):"")})}static g197(e){return e<60?e+a("time_minutes_abbr"):e>=24*60?Math.round(e/60/24)+a("time_days_abbr"):e%60==0?Math.round(e/60)+a("time_hours_abbr"):Math.floor(e/60)+a("time_hours_abbr")+" "+e%60+a("time_minutes_abbr")}static g198(e,s){s===void 0&&(s=i.A100);let n=ut.g167(e,s,null),r=Math.floor((e-i.A66)/10),l=r==i.A91||r==i.A92;return a("arena_description_"+n.descrType,{NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>',"%games%":s==i.A100||!l?n.games:"<strong>"+n.games+"</strong>","%diff%":s==i.A100||l?n.diffMin==n.diffMax?n.diffMin:n.diffMin+"-"+n.diffMax:"<strong>"+n.diffMin+"-"+n.diffMax+"</strong>","%time%":s==i.A100||l?a("arena_time_"+n.time):"<strong>"+a("arena_time_"+n.time)+"</strong>","%penalty%":n.penalty?a("arena_penalty_"+n.penalty):""})}static g199(e,s){if(!e)return 0;let n=ut.g167(s,i.A100,null),r=Math.floor((s-i.A66)/10),l=n.points;return e&&e[r]!==void 0&&(l-=e[r]),l}static g200(e,s){if(s===null||s==i.A78||s==i.A80){let n=Math.floor(e/1e3),r=Math.floor(n/60/60),l=Math.floor(n%(60*60)/60),p=Math.round(n%60);return t("<span>").append((r<10?"0":"")+r+":"+(l<10?"0":"")+l+":"+(p<10?"0":"")+p)}else return s==i.A79?a("arena_expired"):"\u2014"}static g201(e,s,n){s===void 0&&(s=i.A100);let r=ut.g167(e,s,n),l=a("arena_description_full",{"%games%":r.games,"%diff%":s==i.A100?r.diffMin+"-"+r.diffMax:"<strong>"+r.diffMin+"-"+r.diffMax+"</strong>","%time%":s==i.A100?a("arena_time_"+r.time):"<strong>"+a("arena_time_"+r.time)+"</strong>","%eff%":r.eff?r.eff>100?'<span class="text-danger">'+r.eff+"%</span>":r.eff+"%":"","%penalty%":r.penalty?a("arena_penalty_"+r.penalty):"","%skin%":a("settings_skin_"+i.S78[r.skin])});return l=l.replace(/\[ng:(.+?)]/i,r.ng?"$1":"").replace(/\[ag:(.+?)]/i,r.games==1?"$1":"").replace(/\[gs:(.+?)]/i,r.games==1?"":"$1").replace(/\[nf:(.+?)]/i,r.nf?"$1":"").replace(/\[eff:(.+?)]/i,r.eff?"$1":"").replace(/\[hc:(.+?)]/i,r.penalty?"$1":"").replace(/\[s:(.+?)]/i,r.skin?"$1":""),l}};var D=class{static r202(e){return'<img src="/img/item/'+e+'.svg" class="equipment-item-simple" alt="'+a("equipment_item_"+e)+'"/>'}static r203(e){return t("<img>",{src:"/img/item/"+e+".svg",class:"equipment-item-gray equipment-item-big equipment-item-type-"+e,alt:a("equipment_item_"+e)})}static r204(e,s){let n=T.g268(e);return t("<img>",{src:"/img/item/"+e.type+".svg",class:"equipment-item-"+s+" equipment-item-type-"+e.type+" equipment-item-rarity-"+n,alt:a("equipment_item_"+e.type)})}static r205(e,s){let n=T.g268(e),r=T.i145(e);return t("<span>",{class:"equipment-rarity-"+n}).append(s?a("equipment_item_"+n+"_"+e.type):a("equipment_item_"+e.type)," "+r)}static r206(e,s){return this.r207(T.g274(e,!!s,!0),T.g268(e),s)}static r207(e,s,n){let r=t("<div>"),l=[i.B72,i.B73,i.B74,i.B75,i.B77,i.B78,i.B79,i.B81,i.B82,i.B80,i.B83,i.B84,i.B85,i.B86,i.B87,i.B88,i.B89,i.B90,i.B91,i.B92];for(let p=0;p<l.length;p++){let o=l[p];if(e[o]!==void 0){let c;o==i.B77||o==i.B78||o==i.B79?c="+"+e[o]:c="+"+e[o]+"%",n&&(c='<strong class="equipment-rarity-'+s+'">'+c+"</strong>"),r.append(t("<div>",{class:"text-nowrap bonus-"+o}).append(a("equipment_bonus_"+o)+a(": ")+c))}}return n&&n<Date.now()+i.B69*24*60*60*1e3&&r.append(t("<div>",{class:"text-nowrap bold equipment-rarity-"+s}).append(a("equipment_boost_property")+a(": ")," ",lt.g220(n-Date.now(),!0))),r}static r208(e){let s=t("<div>"),n;e[i.B84]||e[i.B85]||e[i.B86]||e[i.B87]||e[i.B88]||e[i.B89]||e[i.B90]||e[i.B91]||e[i.B92]?n=[i.B72,i.B73,i.B75,i.B77,i.B78,i.B81,i.B82,i.B80,i.B84,i.B85,i.B86,i.B87,i.B88,i.B89,i.B90,i.B91,i.B92]:n=[i.B72,i.B73,i.B74,i.B75,i.B77,i.B78,i.B81,i.B82,i.B80];for(let l=0;l<n.length;l++){let p=n[l];p==i.B84&&s.append(t("<div>").append('<hr class="narrow-hr"/>'));let o=100,c=500;p>=i.B84&&p<=i.B92?(o=100+e[i.B74],c=700):p==i.B77||p==i.B78?(o=3,u.p61&&(o+=1),c=8):p==i.B81||p==i.B82||p==i.B80?c=200:p==i.B74&&(c=700),e[p]!==void 0?s.append(t("<div>",{class:"text-nowrap bonus-"+p}).append(a("equipment_bonus_"+p)+a(": "),p==i.B77||p==i.B78?o+e[p]:this.g214(o+e[p]),o+e[p]==c?" (MAX)":"")):s.append(t("<div>",{class:"text-nowrap "+(p>=i.B84&&p<=i.B92?"bonus-"+p:"gray")}).append(a("equipment_bonus_"+p)+a(": "),p==i.B77||p==i.B78?o:this.g214(o)))}return s}static g214(e){return e%100==0?(e/100).toFixed(0)+"x":e%10==0?(e/100).toFixed(1)+"x":(e/100).toFixed(2)+"x"}static r209(e,s,n,r,l){e===null&&(e=[]),s===null&&(s={});let p=Math.min(100,T.g270(e));if(p==0)return"";let o=T.g271(e),c;return p==100&&o>0?n?c=t("<span>").append(t("<span>",{class:"equipment-nice-small equipment-rarity-5"}).append("L"),t("<span>",{class:"equipment-nice-big equipment-rarity-5"}).append(o)):c="100% L"+o:n?c=t("<span>",{class:"equipment-nice-small equipment-rarity-"+this.e90(p)}).append(p+"%"):c=p+"%",l?t("<span>").append(q.m95({rank:l.qualityRank,score:l.qualityScore,category:a("ranking_category_equipment"),eq:e,boosts:s,quality:p},r).append(c)):t("<span>").append(q.m95({eq:e,boosts:s,quality:p},r).append(c))}static e90(e){return e<20?0:e<40?1:e<70?2:e<100?3:4}static r210(e,s,n,r){if(e.eq===null)return"";let l=e.eq,p=e.boosts?e.boosts:{},o=t("<tr>");for(let c=0;c<5;c++)if(l[c]!==void 0){let f=T.i143(l[c]),h=p[f.itemType]&&p[f.itemType]>Date.now(),g=h&&p[f.itemType]>Date.now()+i.B69*24*60*60*1e3?"i":"";o.append(t("<td>",{class:"vertical-align-top text-center"}).append(this.m104(f,"top",n?p[f.itemType]:null).append(n&&h?t("<div>",{class:"equipment-plus-relative"}).append(t("<div>",{class:"equipment-plus-absolute-small"}).append(t("<img>",{src:"/img/item/plus"+T.g268(f)+g+".svg",class:"equipment-plus-small equipment-plus"+T.g268(f)+g}))):"",this.r204(f,"small")),s&&f.perfectLevel>=1?t("<div>",{class:"perfect-level-small"}).append("L"+f.perfectLevel):""),t("<td>").css("padding-right","1px").append("&nbsp;"))}return r&&o.append(t("<td>",{class:"vertical-align-top"}).css("padding-top","1px").append("&nbsp;",this.r209(e.eq,e.boosts,!0,e.quality>=100?"left":"top",e))),t("<table>",{class:"no-margin"}).append(o)}static m104(e,s,n,r){let l=T.i145(e),p=T.g268(e),o=n&&n>Date.now(),c=o&&n>Date.now()+i.B69*24*60*60*1e3?"i":"";return(r?t("<span>",{class:"help"}):b.p98({"href-local":"item/"+l+(o?"/b":""),class:"no-underline"})).popover({trigger:"hover",placement:s||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<div>",{class:"text-center"}).append(t("<strong>").append(this.r205(e,!0))),'<hr class="narrow-hr"/>',t("<table>",{class:"equipment-popover-table"}).append(t("<tr>").append(t("<td>",{class:"vertical-align-middle text-center"}).css("padding-top","2px").append(o?t("<div>",{class:"equipment-plus-relative"}).append(t("<div>",{class:"equipment-plus-absolute-big"}).append(t("<img>",{src:"/img/item/plus"+p+c+".svg",class:"equipment-plus-big equipment-plus"+p+c}))):"",this.r204(e,"big"),e.perfectLevel>=1?t("<div>",{class:"perfect-level-big"}).append("L"+e.perfectLevel):""),t("<td>").append("&nbsp;&nbsp;&nbsp;&nbsp;"),t("<td>").css("vertical-align","middle").append(this.r206(e,n&&n>Date.now()?n:null),t("<div>",{class:"equipment-item-extra-props"}).append(e.upgrade>0?t("<span>").append(a("equipment_upgrade_property",{"%val%":e.upgrade,"%max%":T.g272(e.gem)}),"<br/>"):"",a("equipment_quality")+a(": "),p<=3?e.quality+"%":"100%","<br/>",a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e.itemType}).append('<img src="/img/loading_small.gif" class="loading-small"/>'))))))}).on("shown.bs.popover",()=>{Gt.g217(e.itemType,"icon-small")})}static r211(e,s,n,r,l,p){let o=t("<span>"),c,f,h,g,w,C,A,M,P,B,L,mt,j=0,zt=0,re=0,ie=0,De=0,$e=0,ft=0;if(s)for(let st in s)if(st<=i.G128)j++,c=st,A=s[st];else if(st>=i.A105&&st<=i.A117)zt++,f=st,M=s[st];else if(st>=i.T86&&st<=i.T95){let Re=s[st];r[st-i.T85]&&(Re-=r[st-i.T85]),Re>0&&($e++,C=st,mt=Re)}else st>=i.A67&&st<=i.A68?(re++,h=st,P=s[st]):st>=i.P125&&st<=i.P139?(De++,w=st,L=s[st]):st>=i.E102?(ie++,g=st,B=s[st]):(st>=i.T106&&st<=i.T107||st==i.A103)&&ft++;if(e&&o.append(b.g227(e),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-right"))),j&&(o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),!p||j>1?o.append(q.m96(s,l)):o.append(A,I.g221(c,"icon-small icon-right"))),zt&&(o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),!p||zt>1?o.append(q.m97(s,l)):o.append(M,I.a104(f,"icon-small icon-right"))),re)if(o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),!p||re>1)o.append(q.m98(s,l));else{let st=Math.floor((h-i.A66)/10),Re=(h-i.A66)%10;o.append(P>1?P:"",K.m92(h,null,"top",null).append('<i class="fa fa-ticket ticket ticket'+st+' ticket-small icon-right"></i>L'+Re))}if(ie){let st=q.m102(s,n,l);st&&o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),o.append(st)}return De&&(o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),!p||De>1?o.append(q.m99(s,l)):o.append(L>1?L:"",I.p97(w,"icon-right"))),u.u61.eliteAt&&$e&&(o.children().length>0&&o.append("&nbsp;&nbsp;&nbsp;"),!p||$e>1?o.append(q.m100(s,r,l)):o.append(mt,I.t110(C,"icon-small icon-right"))),o}static g215(e,s){let n={};for(let l in e){n[l]=e[l];let p=!1;if(s!==null){for(let o=0;o<5;o++)if(s[o]!==void 0&&s[o]==l){p=!0;break}}p&&(n[l]==1?delete n[l]:n[l]--)}let r=[];for(let l in n)l>=i.E102&&r.push(T.i143(l));return r=r.sort((l,p)=>l.type==p.type?l.quality-p.quality:l.type-p.type),r}static r212(e){let s=t("<span>"),n=[i.P129,i.P130,i.P131,i.P132,i.P133,i.P134,i.P135,i.P136,i.P137,i.P138,i.P128,i.P127,i.P126];for(let r=0;r<n.length;r++){let l=n[r];e[l]&&s.append(t("<strong>",{class:"equipment-rarity-"+T.g275(l)}).append(e[l])," ",I.p97(l),"&nbsp;&nbsp;")}return s}};var Ee=class{static $="SellingDialog";static i113=null;static c131=null;static i107=null;static t84=null;static e65=null;static t74=null;static s148=null;static P64=1e3;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_sell"))),t("<div>",{id:"selling_content",class:"modal-body"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),this.r182()}static r182(){t("#selling_content").html("").append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("MarketController.getSellInfoWsAction",[this.c131],this.r183.bind(this))}static r183(e,s,n,r,l){if(this.c131=e,this.i107=s,this.t84=n,this.e65=r,this.t74=l,this.i113)for(let p in this.i107)p!=this.i113&&delete this.i107[p];this.s148=!0;for(let p in this.i107)if(this.i107[p]>1){this.s148=!1;break}this.r170()}static r170(){let e=[],s;if(this.c131==i.M73){s=a("game_gem");for(let n=1;n<=10;n++)this.i107[n]>0&&e.push(this.g80(n,this.i107[n]))}else if(this.c131==i.M77){s=a("arena_coins");for(let n=i.A107;n<=i.A116;n++)this.i107[n]>0&&e.push(this.g80(n,this.i107[n]))}else if(this.c131==i.M74){s=a("arena_ticket");for(let n=1;n<=8;n++)for(let r=1;r<=i.A97;r++){let l=i.A66+r*10+n;this.i107[l]>0&&e.push(this.g80(l,this.i107[l]))}}else if(this.c131==i.M75){s=a("equipment_item");let n=D.g215(this.i107,this.e65);for(let r=0;r<n.length;r++)T.i143(n[r].itemType).perfectLevel>=2||e.push(this.g80(n[r].itemType,this.i107[n[r].itemType]))}else if(this.c131==i.M76){s=a("equipment_parts");let n=[i.P126,i.P127,i.P128,i.P129,i.P130,i.P131,i.P132,i.P133,i.P134,i.P135,i.P136,i.P137,i.P138];for(let r=0;r<n.length;r++){let l=n[r];this.i107[l]>0&&e.push(this.g80(l,this.i107[l]))}}else if(this.c131==i.M78){s=a("emc_tokens");for(let n=i.T87;n<=i.T94;n++)if(this.i107[n]>0){let r=this.i107[n];this.t74[n-i.T85]&&(r-=this.t74[n-i.T85]),r>0&&e.push(this.g80(n,r))}}t("#selling_content").html("").append(e.length>0?t("<table>",{class:"table table-bordered no-margin"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(s),this.s148?"":t("<th>").append(a("market_quantity")),t("<th>").append(this.s148?a("market_selling_price"):a("market_price_for_one")),t("<th>"))),t("<tbody>").append(e)):a("market_no_items")),x.r226()}static g80(e,s){return t("<tr>",{id:"selling_item_"+e}).append(t("<td>").append(it.r123(e,s,!1,"right")),this.s148?"":t("<td>",{class:"text-nowrap"}).append(s>1?t("<input>",{id:"selling_item_"+e+"_amount",type:"number",class:"market-amount-small",min:1,max:s,autocomplete:"off"}).val(this.t84[e]?this.t84[e].amount:""):""),t("<td>",{class:"text-nowrap"}).append(t("<input>",{id:"selling_item_"+e+"_price",type:"number",class:"market-price-small",min:1,autocomplete:"off"}).val(this.t84[e]?this.t84[e].itemPrice:"")," ",m.c199("icon-right")),t("<td>").append(this.t84[e]?t("<span>").append(t("<button>",{id:"selling_item_"+e+"_btn",class:"btn btn-xs btn-primary selling-update-btn","data-loading-text":a("loading")+"..."}).on("click",()=>this.s149(e)).append('<i class="fa fa-check-circle"></i> '+a("market_update_button")),"&nbsp;&nbsp;",t("<button>",{class:"btn btn-xs btn-default"}).on("click",()=>this.c154(this.t84[e].id)).append('<i class="fa fa-close"></i> '+a("market_cancel"))):t("<button>",{id:"selling_item_"+e+"_btn",class:"btn btn-xs btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.s149(e)).append('<i class="fa fa-check-circle"></i> '+a("market_sell"))))}static s149(e){let s=!1,n=parseInt(t("#selling_item_"+e+"_price").val());isNaN(n)||n<=0||n>i.M80?(t("#selling_item_"+e+"_price").addClass("has-error"),s=!0):t("#selling_item_"+e+"_price").removeClass("has-error");let r;this.i107[e]==1||t("#selling_item_"+e+"_amount").length==0?r=1:(r=parseInt(t("#selling_item_"+e+"_amount").val()),isNaN(r)||r<=0||r>this.i107[e]?(t("#selling_item_"+e+"_amount").addClass("has-error"),s=!0):t("#selling_item_"+e+"_amount").removeClass("has-error")),s||(t("#selling_item_"+e+"_btn").button("loading"),y.m109("MarketController.sellItemWsAction",[e,r,n],this.s150.bind(this)))}static s150(e,s){let n=s?this.P64:0;setTimeout(()=>{e?(this.r182(),S.re()):(t(".selling-update-btn").button("reset"),S.re())},n)}static c154(e){y.m109("MarketController.cancelTradeWsAction",[e],this.c175.bind(this))}static c175(){S.re(),this.i113?t("#"+this.$).modal("hide"):this.r182()}};var Tt=class{static $="MarketFilterBlock";static t61=null;static c109=0;static c110=0;static c111=0;static s90=null;static i79=!0;static re(){t("#"+this.$).empty().append(At.l62("Marketplace",it.u64));let e=t(window).width()>600,s=t(window).width()<500&&v.l85!="en";t("#"+this.$).append(t("<div>").append(t("<div>",{class:e?"pull-left":""}).append(t("<a>",{href:"javascript:void(0)",class:this.g83()==i.M70?"active":""}).on("click",()=>this.c96(i.M70)).append(a("market_search_title")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:this.g83()==i.M71?"active":""}).on("click",()=>this.c96(i.M71)).append(a("market_sell_title")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:this.g83()==i.M72?"active":""}).on("click",()=>this.c96(i.M72)).append(a("market_completed_title"),t("<span>",{class:"menu_market_new"})),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{"href-local":it.u64?"exchanges/"+it.u64:"exchange/new"}).append(a("exchange_title"),t("<span>",{class:"menu_exchange_not_viewed"}))),it.u77?t("<div>",{class:e?"pull-right":"market-second-line"}).append(b.g227(it.u77),m.c199("icon-right")):"",e?t("<div>",{class:"clearfix"}):"")),this.g83()==i.M71&&t("#"+this.$).append("<br/>",t("<div>",{class:"market-sell-row"}).append(a("market_sell")+a(":"),"&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M73)).append(m.g212(0,"icon-left")+a("market_category_gems")),"&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M77)).append(m.a102(0,"icon-left")+a("arena_coins")),"&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M74)).append('<i class="fa fa-ticket ticket ticket-left"></i>'+a("market_category_tickets")),"&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M75)).append('<img src="/img/eq.svg" class="eq-icon icon-left"/>'+a("market_category_equipment")),"&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M76)).append(m.p96(0,"icon-left")+a("equipment_parts")),"&nbsp;&nbsp;&nbsp;&nbsp;",u.u61.eliteAt?t("<a>",{href:"javascript:void(0)",class:"text-nowrap"}).on("click",()=>this.s94(i.M78)).append(m.t108(0,"icon-left")+a("emc_tokens")):""));let n={};if(n[0]=this.g83()==i.M70?a("market_category_best_offers"):a("market_category_all_items"),n[i.M73]=a("market_category_gems"),n[i.M77]=a("arena_coins"),n[i.M74]=a("market_category_tickets"),n[i.M75]=a("market_category_equipment"),n[i.M76]=a("equipment_parts"),u.u61.eliteAt&&(n[i.M78]=a("emc_tokens")),t("#"+this.$).append("<br/>",t("<div>").append(t("<div>",{id:"market_search_filters_left",class:"pull-left"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"category_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_category")+a(": "),n[this.g98()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let r=[],l=[0,i.M73,i.M77,i.M74,i.M75,i.M76];u.u61.eliteAt&&l.push(i.M78);for(let p=0;p<l.length;p++){let o=l[p],c=n[o];r.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c112(+o)).append(c)))}return r})()))),t("<div>",{id:"market_search_filters_right",class:"pull-right"}),t("<div>",{class:"clearfix"}))),this.g98()==i.M73){let r={};r[0]=a("market_all");for(let l=1;l<=i.G128;l++)r[l]=m.g212(l,"icon-left")+a("gem_"+l);t("#market_search_filters_left").append("<br>","<br>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),r[this.g99()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let l=[];for(let p in r){let o=r[p];l.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c113(+p)).append(o)))}return l})())))}else if(this.g98()==i.M77){let r={};r[0]=a("market_all");for(let l=i.A107;l<=i.A116;l++)r[l]=m.a102(l)+" "+a("arena_coins_short_"+l);t("#market_search_filters_left").append("<br>","<br>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),r[this.g99()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let l=[];for(let p in r){let o=r[p];l.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c113(+p)).append(o)))}return l})())))}else if(this.g98()==i.M74){let r={};r[0]=a("market_all");for(let o=1;o<=10;o++)r[o]='<i class="fa fa-ticket ticket ticket'+o+'"></i> '+a("arena_type_"+o);let l=R.g256();if(l==i.E108||l==i.E109){let o;R.g260()==i.F114?o=i.A94:R.g260()==i.F115?o=i.A95:o=i.A93,r[o]='<i class="fa fa-ticket ticket ticket'+o+'"></i> '+a("arena_type_"+o)}t("#market_search_filters_left").append("<br>","<br>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),r[this.g99()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c in r){let f=r[c];o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c113(+c)).append(f)))}return o})())));let p={};p[0]=a("market_all");for(let o=1;o<=8;o++)p[o]="L"+o;t("#market_search_filters_left").append(t(window).width()<500?'<div class="line-break"/>':"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_level")+a(": "),p[this.g100()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c in p){let f=p[c];o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c114(+c)).append(f)))}return o})())))}else if(this.g98()==i.M75){let r={};r[0]=a("market_all");for(let p=0;p<=4;p++)r[p+1]=D.r202(p)+" "+a("equipment_item_"+p);t("#market_search_filters_left").append("<br>","<br>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),r[this.g99()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[];for(let o in r){let c=r[o];p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c113(+o)).append(c)))}return p})())));let l={};l[0]=a("market_all");for(let p=0;p<=4;p++)l[p+1]=a("equipment_rarity_"+p);t("#market_search_filters_left").append(t(window).width()<500?'<div class="line-break"/>':"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_rarity")+a(": "),t("<span>",{class:this.g100()>0?"equipment-rarity-"+(this.g100()-1):""}).append(l[this.g100()]),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[];for(let o in l){let c=l[o];p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)",class:o>0?"equipment-rarity-"+(o-1):""}).on("click",()=>this.c114(+o)).append(c)))}return p})())))}else if(this.g98()==i.M76){let r={};r[0]=a("market_all");for(let l=1;l<=4;l++)r[l+1]=a("equipment_rarity_"+l);if(t("#market_search_filters_left").append("<br/><br/>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_rarity")+a(": "),t("<span>",{class:this.g99()>0?"equipment-rarity-"+(this.g99()-1):""}).append(r[this.g99()]),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let l=[];for(let p in r){let o=r[p];l.push(t("<li>").append(t("<a>",{href:"javascript:void(0)",class:p>0?"equipment-rarity-"+(p-1):""}).on("click",()=>this.c113(+p)).append(o)))}return l})()))),this.g99()==5){let l={};l[0]=a("market_all");for(let p=i.P129;p<=i.P138;p++)l[p]=m.g212(p-i.P129+1,"icon-left")+a("gem_"+(p-i.P129+1));t("#market_search_filters_left").append(t(window).width()<500?'<div class="line-break"/>':"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),l[this.g100()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let p=[];for(let o in l){let c=l[o];p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c114(+o)).append(c)))}return p})())))}}else if(this.g98()==i.M78){let r={};r[0]=a("market_all");for(let l=1;l<=8;l++)r[l]=a("emc_token")+" ["+l+"]";t("#market_search_filters_left").append("<br/><br/>",t("<span>",{class:"dropdown"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("emc_token_type")+a(": "),t("<span>").append(r[this.g99()]),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let l=[];for(let p in r)l.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c113(+p)).append(r[p])));return l})())))}this.g83()==i.M72?t("#market_search_filters_right").append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.g101()?a("market_completed_sales"):a("market_completed_purchases"),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c115(!0)).html(a("market_completed_sales"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c115(!1)).html(a("market_completed_purchases")))))):(this.g83()==i.M70&&this.g98()==0||s||t("#market_search_filters_right").append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_sort_by")+a(": "),a("market_sort_by_"+this.g90()),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("itemPrice")).html(a("market_sort_by_itemPrice"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98("createdAt")).html(a("market_sort_by_createdAt")))))),this.g83()==i.M70&&t("#market_search_filters_right").append(this.g98()!=0?"<br/>":"",this.g98()!=0?"<br/>":"",t("<div>",{class:"text-right"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>S.re()).html('<span class="glyphicon glyphicon-refresh"></span> '+a("market_update_button"))))),it.u108(),Bt.u107()}static s94(e){Ee.i113=null,Ee.c131=e,Ee.s143()}static g83(){return this.t61?this.t61:i.M70}static c96(e){this.t61=e,S.re()}static g98(){return this.c109}static c112(e){this.c109=e,this.c110=0,this.c111=0,S.re()}static g99(){return this.c110}static c113(e){this.c110=e,this.c109==i.M76&&(this.c111=0),S.re()}static g100(){return this.c111}static c114(e){this.c111=e,S.re()}static g90(){return this.s90?this.s90:"itemPrice"}static c98(e){this.s90=e,S.re()}static g101(){return this.i79}static c115(e){this.i79=e,S.re()}static r113(){this.c109=0,this.c110=0,this.c111=0,this.i79=!0,t("#"+S.$).is(":visible")&&S.re()}};var it=class{static u64=null;static u77=null;static a89=null;static s123=0;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this),setExtra:this.s120.bind(this)}}static g158(){return{title:a("seo_title_marketplace"),description:a("seo_description_marketplace"),hiddenSeo:!0}}static r167(e,s,n){s.append(t("<div>",{id:Tt.$})),Tt.re(),this.c155()}static g159(){let e=Tt.g83(),s=Tt.g98();if(e==i.M70)return[{title:""},{title:a("market_item")},{title:s==3?a("market_price"):a("market_price_for_one")},{title:a("market_seller")},s!=0?{title:a("market_date")}:""];if(e==i.M71)return[{title:""},{title:a("market_item")},{title:a("market_price_for_one")},{title:a("market_expires_at")},{title:a("market_date")}];if(e==i.M72)return[{title:""},{title:a("market_item")},{title:a("market_price")},Tt.g101()?{title:a("market_buyer")}:{title:a("market_seller")},{title:a("market_date")}]}static g74(){return"100%"}static g80(e,s){let n=Tt.g83();if(n==i.M70)return t("<tr>").append(t("<td>",{class:"narrow-td"}).append(t("<button>",{class:"btn btn-xs market-btn-wide "+(this.u77>=e.itemPrice&&e.sellerId!=u.u61.id?"btn-success":"btn-default")}).prop("disabled",e.sellerId==u.u61.id).on("click",()=>this.b78(e.id,this.u77,e.itemPrice)).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy"))),t("<td>",{class:"narrow-td"}).append(this.r123(e.itemType,e.amount,!1,"top")),t("<td>",{class:"narrow-td"}).append(b.g227(e.itemPrice),m.c199("icon-right icon-small")),t("<td>",{class:"narrow-td"}).append(b.m106(e.userId,e,"left")),Tt.g98()!=0?t("<td>",{class:"narrow-td"}).append(t("<a>",{"href-local":"trade/"+e.id}).append(F.g202(e.createdAt,!0))):"");if(n==i.M71)return t("<tr>").append(t("<td>",{class:"narrow-td"}).append(t("<button>",{class:"btn btn-xs btn-default market-btn-wide",title:a("market_edit_button")}).tooltip({trigger:"hover"}).on("click",()=>this.e75(e.itemType,e.cat1)).append('<i class="fa fa-pencil"></i>'),"&nbsp;&nbsp;",t("<button>",{class:"btn btn-xs btn-default market-btn-wide",title:a("market_cancel")}).tooltip({trigger:"hover"}).on("click",()=>this.c154(e.id)).append('<i class="fa fa-close"></i>')),t("<td>",{class:"narrow-td"}).append(this.r123(e.itemType,e.amount,!1,"top")),t("<td>",{class:"narrow-td"}).append(b.g227(e.itemPrice),m.c199("icon-right icon-small")),t("<td>",{class:"narrow-td"}).append(F.g202(e.expiresAt,!0)),t("<td>",{class:"narrow-td"}).append(t("<a>",{"href-local":"trade/"+e.id}).append(F.g202(e.createdAt,!0))));if(n==i.M72)return t("<tr>").append(t("<td>",{class:"narrow-td"}).append(e.completed||!Tt.g101()?t("<div>",{class:"market-text-wide transparent"}).append(t("<strong>").append(a("quests_completed"))):t("<button>",{id:"collect_btn_"+e.id,class:"btn btn-danger btn-xs market-btn-wide","data-loading-text":a("loading")+"..."}).on("click",()=>this.c153(e.id)).append('<i class="fa fa-check-square-o"></i> '+a("market_collect"))),t("<td>",{class:"narrow-td"}).append(this.r123(e.itemType,e.amount,!1,"top")),t("<td>",{class:"narrow-td"}).append(e.amount>1?e.amount+'<span class="market-x">\xD7</span>':"",b.g227(e.itemPrice),m.c199("icon-right icon-small")),t("<td>",{class:"narrow-td"}).append(b.m106(e.userId,e,"left")),t("<td>",{class:"narrow-td"}).append(t("<a>",{"href-local":"trade/"+e.id}).append(F.g202(e.boughtAt,!0))))}static g160(){return{sortBy:Tt.g83()==i.M72?"boughtAt":Tt.g90(),type:Tt.g83(),isMySales:Tt.g101(),cat1:Tt.g98(),cat2:Tt.g99(),cat3:Tt.g100(),userId:this.u64}}static s120(e){this.u77=e.userCoins,this.a89=e.arenaPoints,Tt.re()}static r123(e,s,n,r,l){if(e<=i.G128)return I.g221(e,"icon-left",r).append(a("gem_"+e),!n&&s!=1?" ("+s+")":"");if(e>=i.A105&&e<=i.A117)return I.a104(e,"icon-left",r).append(a("arena_coins_short_"+e),!n&&s!=1?" ("+s+")":"");if(e>=i.T86&&e<=i.T95)return I.t110(e,"icon-left",r).append(a("emc_token"),!n&&s!=1?" ("+s+")":"");if(e>=i.P125&&e<=i.P139)return I.p97(e,"icon-left",r).append(t("<span>",{class:"equipment-rarity-"+T.g275(e)}).append(a("equipment_parts_"+e)),!n&&s!=1?" ("+s+")":"");if(e>=i.A67&&e<=i.A68){let p=Math.floor((e-i.A66)/10),o=(e-i.A66)%10;return K.m92(e,this.a89,r,null).append('<i class="fa fa-ticket ticket ticket'+p+' ticket-medium"></i>L'+o+" | "+a("arena_type_"+p),!n&&s!=1?" ("+s+")":"")}else{if(e>=i.T106&&e<=i.T107)return t("<span>").append(m.e89(e,"big"),"&nbsp;&nbsp;",a("candy_"+e));if(e>=i.E102){let p=T.i143(e),o=T.g268(p);return t("<table>").append(t("<tr>").append(t("<td>",{width:"100%"}).append(D.m104(p,r,null,l).append(D.r204(p,"small")," ",D.r205(p,!1),!n&&s>1?" ("+s+")":"")),t("<td>").css({"vertical-align":"middle"}).append(t("<span>",{class:"help gray",title:a("equipment_quality")+a(": ")+(o<=3?p.quality+"%":"100%")}).tooltip({trigger:"hover"}).append("&nbsp;"+(o<=3?p.quality+"%":"100%")))))}}}static b78(e,s,n){He.t75=e,He.u77=s,He.e79=n,He.s143()}static c153(e){t("#collect_btn_"+e).button("loading"),y.m109("MarketController.collectTradeWsAction",[e],()=>{S.re(!0)})}static c154(e){y.m109("MarketController.cancelTradeWsAction",[e],()=>{S.re()})}static e75(e,s){Ee.i113=e,Ee.c131=s,Ee.s143()}static c155(){y.m109("MarketController.checkSuccessTradesWsAction",[],this.s124.bind(this))}static s124(e){this.s123=e,this.u108(),!this.u64&&this.s123>0&&Tt.g83()==i.M72&&(Tt.g98()||!Tt.g101())&&Tt.r113()}static u108(){this.s123?t(".menu_market_new").html('<i class="fa fa-circle new-quest-icon"></i>'):t(".menu_market_new").empty(),v.u142()}};var Ui=class{static $="BoostItemDialog";static i108=null;static i109=!0;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=T.B96[this.i108.quality];if(this.i108.perfectLevel&&this.i109&&(e=i.B70),!e)return;let s=e;u.p61&&(e=Math.floor(e*i.P124));let n=rt.u65[i.H97]?rt.u65[i.H97]:0,r=n<e;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("equipment_boost_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(it.r123(this.i108.itemType,1,!1,"top"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_boost_period")+a(":"))),this.i108.perfectLevel?"":t("<div>",{class:"col-xs-8 form-text"}).append(rt.a79[this.i108.itemType]?"+":"",a("equipment_boost_period_days",{"%amount%":i.B67})),this.i108.perfectLevel?t("<div>",{class:"col-xs-8 form-text"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.i109?a("equipment_boost_unlimited"):a("equipment_boost_period_days",{"%amount%":i.B67}),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c168(!0)).html(a("equipment_boost_unlimited"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c168(!1)).html(a("equipment_boost_period_days",{"%amount%":i.B67}))))):""),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("honor_points")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<strong>",{class:"text-warning"}).append(e),u.p61?t("<span>").append(" ",t("<span>",{class:"shop-strike-danger text-warning"}).append(s)):"",t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_available")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<span>",{class:r?"text-danger bold":"text-success bold"}).append(n),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))),r?t("<div>",{class:"text-center bold text-danger modal-warning"}).append(a("equipment_boost_no_honor_points")):"")),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"boost_btn",type:"button",class:"btn btn-success","data-loading-text":a("loading")+"..."}).prop("disabled",r).on("click",()=>this.b71()).html('<i class="fa fa-plus-circle"></i> '+a("equipment_boost_button")))))),x.r226()}static c168(e){this.i109=e,this.re()}static b71(){t("#boost_btn").button("loading"),y.m109("BoostController.boostItemWsAction",[this.i108.itemType,this.i109],this.b86.bind(this))}static b86(e){rt.re(),t("#"+this.$).modal("hide"),e&&setTimeout(()=>{ns.s143()},1e3)}};var Oi=class{static $="DisassembleDialog";static i108=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=T.g268(this.i108),s=100,n={};for(let p=0;p<5;p++){if(rt.e65===null||rt.e65[p]===void 0){s=0;break}let o=T.i143(rt.e65[p]);s=Math.min(s,o.perfectLevel)}for(let p in rt.u65)if(p>=T.I88){let o=T.i143(p);n[o.type]===void 0?n[o.type]=o.quality:n[o.type]=Math.max(o.quality,n[o.type])}let r=e==4&&s==0,l="";if(this.i108.perfectLevel>0&&rt.a79[this.i108.itemType]&&rt.a79[this.i108.itemType]>Date.now()+i.B69*24*60*60*1e3){let p=i.B70*i.B71;l=t("<span>").append(t("<strong>",{class:"text-warning"}).append(p),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))}t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("equipment_disassemble_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(it.r123(this.i108.itemType,1,!1,"top"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_materials")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(D.r212(T.g277(this.i108)),l))),r?"":t("<div>",{id:"disassemble_message",class:"text-center text-danger modal-warning"}).append(a("equipment_disassemble_message")),r?t("<div>",{class:"text-center text-danger modal-warning"}).append(a("equipment_dissasemble_all_perfect_required")):"",t("<div>",{id:"disassemble_warning",class:"text-center text-danger modal-warning bold hide"}).append(a("equipment_disassemble_best_item_message"),"<br/>","<br/>",t("<button>",{id:"dis_warning_btn",type:"button",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.d66(!1)).html('<i class="fa fa-times"></i> '+a("equipment_disassemble_button")))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),r?"":t("<button>",{id:"dis_btn",type:"button",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.d66(this.i108.quality>n[this.i108.type])).html('<i class="fa fa-times"></i> '+a("equipment_disassemble_button")))))),x.r226()}static d66(e){e?(t("#dis_btn").remove(),t("#disassemble_message").addClass("hide"),t("#disassemble_warning").removeClass("hide")):(t("#dis_btn").button("loading"),t("#dis_warning_btn").button("loading"),y.m109("UpgradeController.disassembleItemWsAction",[this.i108.itemType],this.d74.bind(this)))}static d74(){rt.re(),t("#"+this.$).modal("hide")}};var Wi=class{static $="HonorShopBuyingDialog";static p85=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=T.g275(this.p85);t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(m.p95(this.p85)," ",t("<span>",{class:"equipment-rarity-"+e}).append(a("equipment_parts_"+this.p85)))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_price")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(b.g227(rt.p69[this.p85]),m.h76("icon-right"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_available")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(b.g227(rt.u65[i.H97]),m.h76("icon-right"))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"buy_item_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b69()).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),x.r226()}static b69(){t("#buy_item_btn").button("loading"),y.m109("StoreController.buyPartsWsAction",[this.p85],this.b87.bind(this))}static b87(){rt.re(),t("#"+this.$).modal("hide")}};var Ni=class{static $="StoreBuyingDialog";static s144=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e,s;this.s144.itemType<=i.G128?e=t("<span>").append(m.g212(this.s144.itemType)," ",a("gem_"+this.s144.itemType)):this.s144.itemType>=i.E102&&(e=it.r123(this.s144.itemType,1,!1,"top")),s=t("<div>").append(b.g227(this.s144.price[0]),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-right")),"&nbsp;&nbsp;",this.s144.price[1]?t("<span>").append(b.g227(this.s144.price[1]),t("<span>",{class:"help",title:a("gem_"+this.s144.gemType)}).tooltip({trigger:"hover"}).append(m.g212(this.s144.gemType,"gem-store")),"&nbsp;&nbsp;"):"",this.s144.price[2]?t("<span>").append(b.g227(this.s144.price[2]),t("<span>",{class:"help",title:a("arena_coins_"+(this.s144.gemType+i.A104))}).tooltip({trigger:"hover"}).append(m.a102(this.s144.gemType+i.A104,"icon-right"))):""),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("equipment_craft"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(e)),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("equipment_materials")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(s)))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"buy_item_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b69()).html('<i class="fa fa-wrench"></i> '+a("equipment_craft")))))),x.r226()}static b69(){t("#buy_item_btn").button("loading"),y.m109("StoreController.buyItemWsAction",[this.s144.id,this.s144.perfectItemType?this.s144.perfectItemType:null],this.b87.bind(this))}static b87(){rt.re(),t("#"+this.$).modal("hide")}};var di=class{static $="StoreRefreshDialog";static r185=null;static r186=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("equipment_refresh_title"))),t("<div>",{class:"modal-body text-center"}).append(a("equipment_refresh_text",{"%minecoins%":(this.r185>5&&this.r185<=i.S112&&this.r185%5==0?"<strong>"+this.r186+"</strong>":this.r186)+m.c199("icon-right")+"&nbsp;"})),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"store_refresh_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"...",disabled:rt.u77<this.r186}).on("click",()=>this.r187()).html(a("equipment_refresh_confirm_btn"))))))}static r187(){t("#store_refresh_btn").button("loading"),y.m109("StoreController.refreshSlotsWsAction",[this.r186],this.r188.bind(this))}static r188(){rt.re(),t("#"+this.$).modal("hide")}};var rt=class{static $="EquipmentBlock";static R61=1;static R62=2;static R63=3;static u77=null;static u65=null;static u63=null;static e65=[];static s83=[];static a79={};static p69={};static r101=null;static r102=null;static s84=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("StoreController.getEquipmentInfoWsAction",[],this.r61.bind(this))}static r61(e,s,n,r,l,p,o,c,f){H.u74({title:a("seo_title_equipment"),description:a("seo_description_equipment"),hiddenSeo:!0}),this.u77=e,this.u65=s,this.u63=n,this.e65=l,this.s83=p,o.refreshesAtTimestamp=new Date(o.refreshesAt).getTime(),this.r101=o,this.a79=c,this.p69=f;let h=[],g=!0;for(let B=0;B<5;B++)if(l!==null&&l[B]!==void 0){let L=T.i143(l[B]);h.push(this.r103(null,L,this.R61)),L.perfectLevel<1&&(g=!1)}else g=!1,h.push(this.r103(B,null,this.R61));let w=D.g215(r,l),C=[];for(let B=0;B<w.length;B++)C.push(this.r103(null,w[B],this.R62));let A=[];for(let B=0;B<p.length;B++){let L=T.i143(p[B].itemType);A.push(this.r103(null,L,this.R63,p[B]))}let M={};for(let B in s)B>=i.P125&&B<=i.P139&&(M[B]=s[B]);this.s84||(this.s84=i.P129);let P=[this.r105(i.P126),this.r105(i.P127),this.r105(i.P128),this.r105(this.s84)];t("#"+this.$).html("").append(a("translation_required")?t("<div>",{class:"alert alert-danger"}).append(a("translation_required")):"",t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("equipment_my_equipment")),l&&Object.keys(l).length>0?t("<div>",{class:"pull-right"}).append(m.e88(),D.r209(l,c,!0,"bottom"),t("<span>").append('<span class="gray"> | </span>',t("<img>",{src:"/img/other/all-stats.svg",class:"all-stats-icon help"}).popover({container:"body",trigger:"hover",placement:"bottom",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(a("equipment_all_stats"),'<hr class="narrow-hr"/>',D.r208(T.g273({eq:l,boosts:c,exp:n,items:s})))}))):"",t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<table>",{class:"table table-bordered"}).append(h),"<br/>",C.length>0?t("<div>").append(t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("equipment_storage")),t("<div>",{class:"pull-right"}).append(Object.keys(M).length>0?D.r211(0,M,{},{},"top"):""),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<table>",{class:"table table-bordered"}).append(C),"<br/>"):"",t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("equipment_workshop")),t("<div>",{class:"pull-right"}).append(b.g227(e),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-right")),"&nbsp;&nbsp;&nbsp;",q.m96(s,"bottom",!0),"&nbsp;&nbsp;&nbsp;",q.m97(s,"bottom",!0)),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{id:"refreshes_in_wrapper",class:"refreshes-in"}).append(a("equipment_refreshes_in")," ",t("<span>",{id:"refreshes_in"}),"&nbsp;&nbsp;",t("<button>",{class:"btn btn-default btn-xs"}).on("click",()=>this.r106()).append('<span class="glyphicon glyphicon-refresh"></span> '+a("equipment_update_button")," ",this.r101.refreshPrice?m.c199("icon-small"):"("+(5-this.r101.refreshments)+")")),t("<table>",{class:"table table-bordered equipment-table"}).append(g?this.r104():"",A),"<br/>",t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("equipment_honor_shop")),t("<div>",{class:"pull-right"}).append(this.u65&&this.u65[i.H97]?b.g227(this.u65[i.H97]):"0",t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right"))),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<table>",{class:"table table-bordered equipment-table"}).append(P)),this.r101.refreshesAtTimestamp<Date.now()?t("#refreshes_in_wrapper").empty():(this.u79(),this.r102&&clearInterval(this.r102),this.r102=setInterval(()=>{this.u79()},1e3)),x.r226()}static r103(e,s,n,r){let l=s?T.g268(s):0,p=s&&this.a79[s.itemType]&&n!=this.R63,o=p&&this.a79[s.itemType]>Date.now()+i.B69*24*60*60*1e3?"i":"",c=!1;if(r){let g=r.gemType+i.A104;c=this.u77>=r.price[0],r.price[1]&&(c=c&&this.u65&&this.u65[r.gemType]>=r.price[1]),r.price[2]&&(c=c&&this.u65&&this.u65[g]>=r.price[2])}let f=t(window).width()>500,h=[];return h.push(t("<td>",{class:"equipment-table-column equipment-item-column text-center "+(r&&r.isSold?"transparent":"")}).append(e===null?t("<div>").append(t("<a>",{"href-local":"item/"+T.i145(s)+(p?"/b":"")}).css("display","inline-block").append(n!=this.R63&&p?t("<div>",{class:"equipment-plus-relative"}).append(t("<div>",{class:"equipment-plus-absolute-big"}).append(t("<img>",{src:"/img/item/plus"+l+o+".svg",class:"equipment-plus-big equipment-plus"+l+o}))):"",D.r204(s,"big")),s.perfectLevel>=1&&n==this.R61?t("<div>",{class:"perfect-level-big"}).append("L"+s.perfectLevel):"",r&&r.perfectItemType?t("<div>",{class:"text-center event-shop-swap"}).append(t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c84(-1)),t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c84(1)))):""):D.r203(e)),t("<td>",{class:"equipment-table-column equipment-info-column "+(r&&r.isSold?"transparent":"")}).append(e===null?t("<table>").append(t("<tr>").append(t("<td>",{width:"100%"}).css({"vertical-align":"top"}).append(t("<strong>").append(D.m104(s,"top").append(t(window).width()<500?t("<span>",{class:"text-nowrap equipment-rarity-"+l}).append(a("equipment_item_"+l+"_"+s.type),"<br/>",T.i145(s)):D.r205(s,!0)),n==this.R62&&this.u65[s.itemType]>1?" ("+(this.i75(s.itemType)?this.u65[s.itemType]-1:this.u65[s.itemType])+")":"","&nbsp;&nbsp;",r&&r.perfectItemType?t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default event-shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c85(-1)),t("<button>",{class:"btn btn-xs btn-default event-shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c85(1))):""),"<br/>",D.r206(s,n!=this.R63?this.a79[s.itemType]:null),!f&&l<=3?t("<div>",{class:"gray"}).append(a("equipment_quality")+a(": "),s.quality+"%"):""),f?t("<td>",{class:"text-nowrap"}).css({"vertical-align":"middle"}).append(t("<span>",{class:"help gray",title:a("equipment_quality")+a(": ")+(l<=3?s.quality+"%":"100%")}).tooltip({trigger:"hover"}).append(l<=3?s.quality+"%":"100%")):"")):t("<strong>",{class:"gray"}).append(a("equipment_item_"+e)))),n==this.R61?h.push(t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(e===null?t("<div>").append(t("<button>",{class:"btn btn-xs btn-default eq-btn"}).on("click",()=>this.r107(s.type)).append('<i class="fa fa-arrow-circle-down"></i> '+a("equipment_remove_btn"))):"",e===null&&l!=0&&l!=6?t("<div>").append(t("<button>",{class:"btn btn-xs btn-default eq-btn"}).on("click",()=>this.u78(s)).append('<i class="fa fa-gear"></i> '+a("equipment_upgrade_button"))):"",e===null&&(!this.a79[s.itemType]||this.a79[s.itemType]<Date.now()+i.B69*24*60*60*1e3)?t("<div>").append(t("<button>",{class:"btn btn-xs btn-default eq-btn"}).on("click",()=>this.b71(s)).append('<i class="fa fa-plus-circle"></i> '+a("equipment_boost_button"))):"")):n==this.R62?h.push(t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(t("<div>").append(t("<button>",{class:"btn btn-xs btn-default"}).on("click",()=>this.e66(s.itemType)).append('<i class="fa fa-arrow-circle-up"></i> '+a("equipment_equip_btn"))),s.perfectLevel>=2?"":t("<div>").append(t("<button>",{class:"btn btn-xs btn-default eq-btn"}).on("click",()=>this.d66(s)).append('<i class="fa fa-times"></i> '+a("equipment_disassemble_button"))))):n==this.R63&&(h.push(t("<td>",{class:"equipment-table-column text-center equipment-price-column "+(r&&r.isSold?"transparent":"")}).append(t("<div>",{class:"text-nowrap"}).append(b.g227(r.price[0]),I.c200("icon-right")),r.price[1]?t("<div>",{class:"text-nowrap"}).append(b.g227(r.price[1]),I.g221(r.gemType,"gem-store")):"",r.price[2]?t("<div>",{class:"text-nowrap"}).append(b.g227(r.price[2]),I.a104(r.gemType+i.A104,"icon-right")):"")),r.isSold?h.push(t("<td>",{class:"equipment-table-column equipment-button-column text-center "+(r.isSold?"transparent":"")}).append()):h.push(t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(r.id!==null?t("<button>",{id:"eq_lock_btn_"+r.id,class:"btn "+(r.isLocked?"btn-danger":"btn-default equipment-button-lock")}).on("click",()=>this.t66(r)).append(t("<i>",{id:"eq_lock_icon_"+r.id,class:r.isLocked?"fa fa-lock":"fa fa-unlock-alt"})):"","&nbsp;&nbsp;&nbsp;",t("<button>",{class:"btn "+(c?"btn-primary":"btn-default"),disabled:!c}).on("click",()=>this.b69(r)).append('<i class="fa fa-wrench"></i> '+a("equipment_craft"))))),t("<tr>").append(h)}static r104(){let e=U.g172("perfectItemType",T.P162),s=T.i143(e),n={id:null,price:T.P165[s.quality],gemType:s.gem,itemType:e,perfectItemType:e};return this.r103(null,s,this.R63,n)}static c84(e){let s=U.g172("perfectItemType",T.P162),n=T.i143(s);e==1?(n.type+=1,n.type==5&&(n.type=0)):(n.type-=1,n.type==-1&&(n.type=4)),U.s142("perfectItemType",T.i144(n)),this.re()}static c85(e){let s=U.g172("perfectItemType",T.P162),n=T.i143(s);e==1?(n.gem+=1,n.gem==11&&(n.gem=1)):(n.gem-=1,n.gem==0&&(n.gem=10)),U.s142("perfectItemType",T.i144(n)),this.re()}static i75(e){return this.e65!==null&&(this.e65[0]===e||this.e65[1]===e||this.e65[2]===e||this.e65[3]===e||this.e65[4]===e)}static r105(e){let s=T.g275(e),n=this.u65&&this.u65[i.H97]>=this.p69[e],r=[];return r.push(t("<td>",{class:"equipment-table-column equipment-item-column text-center"}).append(t("<div>").append(m.p95(e,"equipment-parts-big"),e>=i.P129?t("<div>",{class:"text-center event-shop-swap"}).append(t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c86(-1)),t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c86(1)))):"")),t("<td>",{class:"equipment-table-column"}).css("min-width","170px").append(t("<div>",{class:"event-shop-product-title equipment-rarity-"+s}).append(a("equipment_parts_"+e)),e>=i.P129?a("equipment_parts_"+i.P129+"_description"):a("equipment_parts_"+e+"_description")),t("<td>",{class:"equipment-table-column text-center equipment-price-column"}).append(t("<div>",{class:"text-nowrap"}).append(b.g227(this.p69[e]),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))),t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(t("<button>",{class:"btn "+(n?"btn-primary":"btn-default"),disabled:!n}).on("click",()=>this.b70(e)).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))),t("<tr>").append(r)}static c86(e){this.s84+=e,this.s84<i.P129?this.s84=i.P138:this.s84>i.P138&&(this.s84=i.P129),this.re()}static t66(e){y.m109("StoreController.toggleLockWsAction",[e.id],s=>{t("#eq_lock_btn_"+s).toggleClass("btn-danger").toggleClass("btn-default").toggleClass("equipment-button-lock"),t("#eq_lock_icon_"+s).toggleClass("fa-lock").toggleClass("fa-unlock-alt")})}static b69(e){Ni.s144=e,Ni.s143()}static b70(e){Wi.p85=e,Wi.s143()}static d66(e){Oi.i108=e,Oi.s143()}static u78(e){si.i108=e,si.s143()}static b71(e){Ui.i108=e,Ui.s143()}static r106(){di.r185=this.r101.refreshments,di.r186=this.r101.refreshPrice,this.r101.refreshPrice==0?di.r187():di.s143()}static u79(){if(t("#refreshes_in").length==0){clearInterval(this.r102);return}let e=this.r101.refreshesAtTimestamp-Date.now();if(e<=0){t("#refreshes_in_wrapper").html(a("loading")+"..."),clearInterval(this.r102),setTimeout(()=>{this.re()},1e3);return}e=Math.floor(e/1e3);let s=Math.floor(e/60/60),n=Math.floor(e%(60*60)/60),r=Math.round(e%60),l=(s<10?"0":"")+s+":"+(n<10?"0":"")+n+":"+(r<10?"0":"")+r;t("#refreshes_in").html(l)}static e66(e){y.m109("StoreController.equipItemWsAction",[e],()=>{this.re()})}static r107(e){y.m109("StoreController.removeItemWsAction",[e],()=>{this.re()})}};var I=class{static e92(e,s){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:s||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.e85()," "+a("game_exp")),'<hr class="narrow-hr"/>',t("<p>").append(a("exp_info")),a("source")+a(": "),dt.n80(a("source_games"))+", ",dt.n80(a("source_quests"))+", ",dt.n80(a("source_arena")))}).append(m.e85(e))}static c200(e,s){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:s||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.c199()," "+a("profile_coins")),'<hr class="narrow-hr"/>',t("<p>").append(a("coins_info")),a("source")+a(": "),dt.n80(a("source_games"))+", ",dt.n80(a("source_quests"))+", ",dt.n80(a("source_arena")))}).append(m.c199(e))}static g221(e,s,n){let r=e;e>=i.J61&&e<=i.J69&&(e=i.G126);let l=location.href.indexOf("exchange/")!=-1;return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:n||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.g212(r)," "+a("gem_"+e)),'<hr class="narrow-hr"/>',t("<p>").append(a("gems_info")),a("source")+a(": "),e<=i.G124?dt.n80(a("source_games")):"",e==i.G125?dt.n80(a("source_quests")):"",e==i.G126?dt.n80(a("source_arena")):"",e==i.G127?dt.n80(a("source_season_rewards")):"","<br/>",e<=i.G124&&a("gem_location_"+e)?a("gem_location")+a(": ")+dt.n80(a("gem_location_"+e))+"<br/>":"",e<=i.G124&&a("gem_game_style_"+e)?a("gem_game_style")+a(": ")+dt.n80(a("gem_game_style_"+e))+"<br/>":"",a("equipment_item_series")+a(": "),T.G136[e-1][0],"<br/>",a("market_market_price")+a(": "),t("<span>",{class:"text-nowrap market_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>'),"<br/>",l?t("<span>").append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')):"")}).on("shown.bs.popover",()=>{Gt.g216(i.M73,e,null,null,e),l&&Gt.g217(e,"icon-small")}).append(m.g212(r,s))}static a104(e,s,n){if(e==i.A106)return m.a102(e,s);let r=location.href.indexOf("exchange/")!=-1;return t("<span>",{class:"help"}).popover({container:"html",trigger:"hover",placement:n||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.a102(e)," "+a("arena_coins_"+e)),'<hr class="narrow-hr"/>',t("<p>").append(a("gems_info")),a("source")+a(": "),dt.n80(a("source_arena_rewards")),"<br/>",a("arena_title")+a(": "),dt.n80(a("arena_type_"+ut.g246(e))),"<br/>",a("equipment_item_series")+a(": "),T.G136[e-i.A104-1][0],"<br/>",a("market_market_price")+a(": "),t("<span>",{class:"text-nowrap market_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>'),"<br/>",r?t("<span>").append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')):"")}).on("shown.bs.popover",()=>{Gt.g216(i.M77,e,null,null,e),r&&Gt.g217(e,"icon-small")}).append(m.a102(e,s))}static e93(e,s,n,r){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:r||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.e89(e,"big")," "+a("candy_"+e)),'<hr class="narrow-hr"/>',t("<p>").append(a("event_points_info")),a("source")+a(": "),dt.n80(a("source_games"))+", ",dt.n80(a("quests_event_quests")))}).append(m.e89(e,s,n))}static h77(e,s){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:s||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.h76()," "+a("honor_points")),'<hr class="narrow-hr"/>',t("<p>").append(a("hp_info")),a("source")+a(": "),dt.n80(a("source_games"))+", ",dt.n80(a("source_quests"))+", ",dt.n80(a("source_arena")))}).append(m.h76(e))}static a105(e,s,n){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:n||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.a101("",s)," "+a("activity_points")),'<hr class="narrow-hr"/>',t("<p>").append(a("activity_info")),a("source")+a(": "),dt.n80(a("source_games"))+", ",dt.n80(a("source_quests"))+", ",dt.n80(a("source_arena")))}).append(m.a101(e,s))}static p97(e,s,n){let r=T.g275(e),l=location.href.indexOf("exchange/")!=-1;return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:n||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>",{class:"equipment-rarity-"+r}).append(m.p95(e)," "+a("equipment_parts_"+e)),'<hr class="narrow-hr"/>',t("<p>").append(a("equipment_parts_"+(e>=i.P129?i.P129:e)+"_description")),a("source")+a(": "),dt.n80(a("equipment_title")),"<br/>",location.pathname.indexOf(v.l86+"/equipment")==0?t("<div>").append(a("market_available")+a(": ")+(rt.u65[e]?rt.u65[e]:0)):"",e>=i.P129||l?t("<span>").append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')):t("<span>").append(a("market_market_price")+a(": "),t("<span>",{class:"text-nowrap market_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')))}).on("shown.bs.popover",()=>{e>=i.P129||l?Gt.g217(e,"icon-small"):Gt.g216(i.M76,r+1,null,null,e)}).append(m.p95(e,s))}static t110(e,s,n){let r=e-i.T85;return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:n||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.t108(e)," "+a("emc_token")),'<hr class="narrow-hr"/>',t("<p>").append(a("emc_tokens_info")),a("emc_rep")+a(": "),"+"+r,"<br/>",t("<span>").append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>')))}).on("shown.bs.popover",()=>{Gt.g217(e,"icon-small")}).append(m.t108(e,s))}static r214(e,s,n,r){return t("<span>",{class:"help"}).popover({container:"body",trigger:"hover",placement:r||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<p>").append(a("emc_member_info",{"%date%":F.g203(s)})),a("emc_rep")+a(": "),b.g227(e),"<br/>",be.g264(e)>0?t("<div>").append(a("emc_tier")+a(": "),a("emc_tier_"+be.g264(e))):"")})}static t111(e,s,n){return t("<span>",{class:"help "+e}).popover({container:"body",trigger:"hover",placement:s||"top",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(t("<strong>").append(m.t106("icon-left"),this.g222(n,!1)),'<hr class="narrow-hr"/>',t("<p>").append(a("equipment_bonus_"+i.B72)+a(": ")+" +"+i.T104+"%<br/>",a("equipment_bonus_"+i.B73)+a(": ")+" +"+i.T104+"%<br/>",a("equipment_bonus_"+i.B74)+a(": ")+" +"+i.T104+"%<br/>",a("equipment_bonus_"+i.B75)+a(": ")+" +"+i.T104+"%<br/>",n<i.T105?a("special_boost_expires_at")+a(": ")+" "+n+"M"+m.e85("icon-small icon-right"):""),n<i.T105?t("<div>",{class:"turbo-boost-descr"}).append(a("special_boost_descr",{"%exp%":n+"M"})):"")}).append(this.g222(n,!0)," ",t('<i class="fa fa-question-circle-o gray help"></i>'))}static g222(e,s){return e>=i.T105?a("special_permanent_ultra_boost"):e==1?a("special_starter_boost"):e<=10?a("special_turbo_boost")+(s?" ["+e+"M]":""):a("special_ultra_boost")+(s?" ["+e+"M]":"")}};var ji=class{static $="TokenResultDialog";static i113=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(a("emc_new_token_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("emc_new_token")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(I.t110(this.i113,"icon-left"))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var Ci=class{static $="GenerateTokenDialog";static G62=1e3;static u119=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=this.u119<i.T96;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(a("emc_generate_token_full"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_price")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(b.g227(i.T96),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_available")+a(":"))),t("<div>",{class:"col-xs-7 form-text "+(e?"text-danger bold":"")}).append(b.g227(this.u119),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-12 form-text"}).append(t("<table>",{class:"table table-bordered width-auto"}).css("margin","auto").append(t("<tr>").append(t("<td>").append(I.t110(i.T87)),t("<td>").append(I.t110(i.T88)),t("<td>").append(I.t110(i.T89)),t("<td>").append(I.t110(i.T90)),t("<td>").append(I.t110(i.T91)),t("<td>").append(I.t110(i.T92)),t("<td>").append(I.t110(i.T93)),t("<td>").append(I.t110(i.T94))),t("<tr>").append(t("<td>").append(i.T109[1]*100+"%"),t("<td>").append(i.T109[2]*100+"%"),t("<td>").append(i.T109[3]*100+"%"),t("<td>").append(i.T109[4]*100+"%"),t("<td>").append(i.T109[5]*100+"%"),t("<td>").append(i.T109[6]*100+"%"),t("<td>").append(i.T109[7]*100+"%"),t("<td>").append(i.T109[8]*100+"%"))))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"generate_token_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).prop("disabled",e).on("click",()=>this.g173()).html(a("emc_generate_token")))))),x.r226()}static g173(){t("#generate_token_btn").button("loading"),t("#emc_generate_token_btn").button("loading"),setTimeout(()=>{y.m109("EmcController.generateTokenWsAction",[],this.g174.bind(this))},this.G62)}static g174(e){t("#"+this.$).modal("hide"),fe.re(),ji.i113=e,ji.s143()}};var fe=class{static $="EmcBlock";static re(){if(!u.u61.eliteAt){t("#"+this.$).empty().append(this.r91());return}H.u74({title:a("emc_title")});let e=ye.g172("emcStage");e=="rules"?this.r94():e=="ok"?u.u61.registeredAt?(t("#"+this.$).empty().append('<img src="/img/loading_big.gif" class="loading-big"/>'),y.m109("EmcController.getEmcDataWsAction",[],this.r61.bind(this))):this.r95():this.r93(),x.r226()}static r61(e,s){this.u89=s,e?s.items[i.R108]?this.r97():x.n81("nft/edit"):this.r96()}static r91(){return t("<div>").append(t("<h2>").append(a("emc_title")),"<hr/>",t("<p>",{class:"text-danger"}).append(a("emc_access_denied")),t("<p>").append(a("emc_access_denied_message")),t("<p>").append(this.r92(0),this.r92(1),this.r92(2),this.r92(3),this.r92(4),t("<div>",{class:"clearfix"})))}static r92(e){let s=T.i143(T.P162+e),n="i";return t("<div>",{class:"pull-left"}).append(t("<div>",{class:"equipment-plus-relative"}).append(t("<div>",{class:"equipment-plus-absolute-small"}).append(t("<img>",{src:"/img/item/plus"+T.g268(s)+n+".svg",class:"equipment-plus-small equipment-plus"+T.g268(s)+n}))),D.r204(s,"small"),"&nbsp;")}static r93(){let e=u.u61.premiumTo&&new Date(u.u61.premiumTo).getTime()>Date.now()||u.u61.patronState==1||u.u61.patronState==2;t("#"+this.$).empty().append(t("<h2>").append(a("emc_welcome_title")),"<hr/>",e?"":t("<div>").append(a("emc_welcome_premium"),"<br/>","<br/>"),t("<h3>").append(a("emc_welcome_rules_title")),t("<ul>").append(t("<li>").append(a("emc_welcome_rule1")),t("<li>").append(a("emc_welcome_rule2")),t("<li>").append(a("emc_welcome_rule3"))).css("margin-bottom","20px"),"<hr/>",t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{type:"checkbox"}).on("change",()=>{t("#rules_confirmation").toggleClass("bold"),t("#rules_btn").prop("disabled",function(s,n){return!n})}),t("<span>",{id:"rules_confirmation"}).append(a("emc_welcome_rules_confirm"))),"<br/>","<br/>",t("<button>",{id:"rules_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).prop("disabled",!0).on("click",()=>this.a77()).html(a("shop_continue_button")))}static r94(){t("#"+this.$).empty().append(t("<h2>").append(a("emc_rules_title")),"<hr/>",t("<p>").append(a("emc_rules_text")).css("margin-bottom","20px"),"<hr/>",t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{type:"checkbox"}).on("change",()=>{t("#rules_confirmation").toggleClass("bold"),t("#rules_btn").prop("disabled",function(e,s){return!s})}),t("<span>",{id:"rules_confirmation"}).append(a("emc_rules_confirm"))),"<br/>","<br/>",t("<button>",{id:"rules_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).prop("disabled",!0).on("click",()=>this.a78()).html(a("shop_continue_button")))}static r95(){t("#"+this.$).empty().append(t("<h2>").append(a("profile_sign_up_button")),"<hr/>",t("<p>").append(a("emc_anonymous_text")),"<br/>",t("<button>",{class:"btn btn-primary"}).on("click",()=>Te.s143()).append(a("profile_sign_up_button")))}static r96(){t("#"+this.$).empty().append(t("<h2>").append(a("emc_generate_token_first")),"<hr/>",t("<span>").append(a("emc_tokens_info_full")),"<br/>","<br/>",t("<button>",{id:"emc_generate_token_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.g77()).html(a("emc_generate_token")))}static r97(){t("#"+this.$).empty().append(t("<h2>").append(a("emc_title")),"<hr/>"),t("#"+this.$).append(t("<div>",{id:S.$})),S.s130=i.S104,S.re(),t("#"+this.$).append(t("<div>",{class:"text-nowrap"}).append(t("<a>",{"href-local":"nft/"+u.u61.id,class:"btn btn-success"}).html(a("emc_nft")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<a>",{"href-local":"emc/privileges",class:"btn btn-info"}).html(a("emc_privileges")),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<button>",{type:"button",class:"btn btn-primary"}).on("click",()=>this.g78()).html(a("emc_generate_token_full"))),"<br/>","<br/>"),t("#"+this.$).append(t("<div>",{id:li.$})),li.re(),t("#"+this.$).append('<hr class="medium-hr"/>',t("<div>").append(t("<a>",{"href-local":"emc/rules",class:"gray"}).append('<i class="fa fa-book"></i> '+a("emc_welcome_rules_title"))))}static g77(){Ci.g173()}static g78(){Ci.u119=this.u89.items?this.u89.items[i.H97]:0,Ci.s143()}static a77(){t("#rules_btn").button("loading"),ye.s142("emcStage","rules"),this.re()}static a78(){t("#rules_btn").button("loading"),ye.s142("emcStage","ok"),this.re()}};var ue=class{static $="NftBlock";static u64=null;static i86=!1;static n67=null;static u89=null;static re(e){if(!u.u61.eliteAt){t("#"+this.$).empty().append(fe.r91());return}e||t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),jt.i95(this.u64,i.V68),y.m109("NftsController.getNftWsAction",[!1,this.u64],this.r61.bind(this))}static r61(e,s,n){if(e){this.u89=n,t("#nft_tokens_table").empty().append(this.r132()),this.u91();return}if(this.n67=s,this.u89=n,this.n67.rep==0&&u.u61.id!=this.u64){v.r223([Pe]);return}H.u74({title:"NFT: "+b.g225(this.u64,n.username)});let r=this.n67.rep==0;t("#"+this.$).html("").append(r?t("<h2>").append(a("emc_create_your_nft")):"",r?"":t("<h2>").append(t("<img>",{src:u.f62(n.country),class:"player-flag help",title:a(n.country),alt:n.country}).tooltip({trigger:"hover"}),t("<span>").text(b.g225(this.u64,n.username))),t("<hr>",{class:"medium-hr"}),this.i86?t("<div>",{id:"nft_tokens_table"}).append(this.r132()):"",this.i86?this.r131():"",this.i86?"<br/>":"",this.n67.rep==0?t("<p>").append(a("emc_click_to_create")):"",t("<div>",{id:"WrapperBlock"}),"<br/>",this.i86?t("<button>",{id:"nft_save_btn",type:"button",class:"btn btn-primary"}).on("click",()=>this.s89()).html(a("exchange_save_button")):""),this.u64==u.u61.id&&!this.i86&&t("#"+this.$).append(t("<a>",{"href-local":"nft/edit",class:"btn btn-primary"}).append('<i class="fa fa-pencil"></i> '+a("exchange_edit_button"))),this.u91(),t("#game").css("margin-left","0px"),x.r226()}static r131(){return t("<form>",{class:"form-inline"}).on("submit",e=>{e.preventDefault(),this.u93()}).append(t("<div>",{class:"form-group"}).append(t("<label>",{for:"nft_width"}).html(a("game_width")+a(":")),t("<input>",{id:"nft_width",type:"number",class:"form-control custom-level-input",min:i.G90,max:i.G91,value:this.n67.sizeX})),t("<div>",{class:"form-group"}).append(t("<label>",{for:"nft_height"}).html(a("game_height")+a(":")),t("<input>",{id:"nft_height",type:"number",class:"form-control custom-level-input",min:i.G92,max:i.G93,value:this.n67.sizeY})),t("<button>",{type:"submit",class:"btn btn-default btn-custom-update"}).html(a("game_update_size_button")),"&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"gray help",title:a("emc_aspect_info")}).append('<i class="glyphicon glyphicon-info-sign icon-diff-info-big"></i>').tooltip({trigger:"hover"}))}static r132(){return t("<table>",{class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<td>",{class:"text-center"}).append(I.t110(i.T87)),t("<td>",{class:"text-center"}).append(I.t110(i.T88)),t("<td>",{class:"text-center"}).append(I.t110(i.T89)),t("<td>",{class:"text-center"}).append(I.t110(i.T90)),t("<td>",{class:"text-center"}).append(I.t110(i.T91)),t("<td>",{class:"text-center"}).append(I.t110(i.T92)),t("<td>",{class:"text-center"}).append(I.t110(i.T93)),t("<td>",{class:"text-center"}).append(I.t110(i.T94)),t("<td>",{class:"text-center"}).append(" ")),t("<tr>").append((()=>{let e=[];for(let s=1;s<=8;s++)e.push(t("<td>",{id:"nft_size_"+s,class:"text-center text-nowrap"}).append(t("<span>",{id:"nft_size_amount_"+s}),this.u89.items[s+i.T85]>0?" / "+this.u89.items[s+i.T85]:""));return e})(),t("<td>",{class:"text-center"}).append(t("<a>",{href:"javascript:void(0)",title:a("market_update_button")}).tooltip({trigger:"hover"}).on("click",()=>this.u92()).append('<span class="glyphicon glyphicon-refresh"></span>'))))}static u90(e){for(let s=1;s<=8;s++)t("#nft_size_amount_"+s).empty().append(e[s]),e[s]>0&&(!this.u89.items[s+i.T85]||e[s]>this.u89.items[s+i.T85])?t("#nft_size_"+s).addClass("text-danger").addClass("bold"):t("#nft_size_"+s).removeClass("text-danger").removeClass("bold")}static u91(){let e=this.g112(),s={sizeX:this.n67.sizeX,sizeY:this.n67.sizeY,mines:this.n67.flags.length,state:i.G99,time:e.rep*1e3,lpe:!1};d.i85(s,e.cells,[],[],null,null,e.rep*1e3,0,0,0),X.re(),X.i85(),Z.re(),this.i86&&(this.u90(e.types),t("#nft_save_btn").prop("disabled",e.rep==0))}static g112(){let e={t:[],o:[],f:[]},s={};for(let l=0;l<this.n67.flags.length;l++)this.n67.flags[l][0]<this.n67.sizeX&&this.n67.flags[l][1]<this.n67.sizeY&&(s[this.n67.flags[l][0]*this.n67.sizeY+this.n67.flags[l][1]]=1);for(let l=0;l<this.n67.sizeX;l++)for(let p=0;p<this.n67.sizeY;p++){let o=0;for(let c=l-1;c<=l+1;c++)for(let f=p-1;f<=p+1;f++)c>=0&&c<this.n67.sizeX&&f>=0&&f<this.n67.sizeY&&s[c*this.n67.sizeY+f]&&o++;e.t[l*this.n67.sizeY+p]=s[l*this.n67.sizeY+p]?0:o,e.o[l*this.n67.sizeY+p]=s[l*this.n67.sizeY+p]?0:1,e.f[l*this.n67.sizeY+p]=s[l*this.n67.sizeY+p]?1:0}let n={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},r=0;for(let l=0;l<this.n67.sizeX;l++)for(let p=0;p<this.n67.sizeY;p++)e.t[l*this.n67.sizeY+p]&&(n[e.t[l*this.n67.sizeY+p]]+=1,r+=e.t[l*this.n67.sizeY+p]);return{cells:e,types:n,rep:r}}static c80(e,s){if(this.i86){for(let n=0;n<this.n67.flags.length;n++)if(this.n67.flags[n][0]==e&&this.n67.flags[n][1]==s){this.n67.flags.splice(n,1),this.u91();return}this.n67.flags.push([e,s]),this.u91()}}static s89(){let e=this.g112(),s=!1;for(let n=1;n<=8;n++)if(e.types[n]>0&&(!this.u89.items[n+i.T85]||e.types[n]>this.u89.items[n+i.T85])){s=!0;break}s?($i.n71=s,$i.s143()):(t("#nft_save_btn").button("loading"),y.m109("NftsController.saveNftWsAction",[this.n67.sizeX,this.n67.sizeY,this.n67.flags],()=>{x.n81("emc",!0)}))}static u92(){for(let e=1;e<=8;e++)t("#nft_size_"+e).empty().append('<i class="fa fa-refresh fa-spin"></i>');setTimeout(()=>{this.re(!0)},500)}static u93(){return this.n67.sizeX=parseInt(t("#nft_width").val()),this.n67.sizeY=parseInt(t("#nft_height").val()),this.n67.sizeX=Math.max(this.n67.sizeX,Math.ceil(this.n67.sizeY/i.N66)),this.n67.sizeY=Math.max(this.n67.sizeY,Math.ceil(this.n67.sizeX/i.N66)),t("#nft_width").val(this.n67.sizeX),t("#nft_height").val(this.n67.sizeY),document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),this.u91(),!0}};var qt=class{static c179(e,s){let n=0,r=0;for(let l=e-1;l<=e+1;l++)for(let p=s-1;p<=s+1;p++)l>=0&&l<d.s164&&p>=0&&p<d.s165&&(d.c187.f[l*d.s165+p]&&n++,!d.c187.o[l*d.s165+p]&&!d.c187.f[l*d.s165+p]&&(r++,d.c190[l*d.s165+p].check=1,Z.u123(l,p)));return r>0&&d.c187.t[e*d.s165+s]==n}static u126(e,s){for(let n=e-1;n<=e+1;n++)for(let r=s-1;r<=s+1;r++)n>=0&&n<d.s164&&r>=0&&r<d.s165&&d.c190[n*d.s165+r].check&&(d.c190[n*d.s165+r].check=0,Z.u123(n,r))}static o63(e,s,n){if(d.i115())return!1;let r=[];if(d.c187.o[e*d.s165+s]&&this.c180(e,s)==d.c187.t[e*d.s165+s])for(let l=e-1;l<=e+1;l++)for(let p=s-1;p<=s+1;p++)l>=0&&l<d.s164&&p>=0&&p<d.s165&&!d.c187.o[l*d.s165+p]&&!d.c187.f[l*d.s165+p]&&(d.c190[l*d.s165+p].pressed=1,d.c190[l*d.s165+p].clicked=1,Z.u123(l,p),r.push([l,p]));return r.length>0?(d.g185(i.C94,e,s,r),!0):(n||d.g185(i.C93,e,s,r),!1)}static c180(e,s){let n=0;for(let r=e-1;r<=e+1;r++)for(let l=s-1;l<=s+1;l++)r>=0&&r<d.s164&&l>=0&&l<d.s165&&d.c187.f[r*d.s165+l]&&n++;return n}};var _t=class _{static l72=!1;static m83=!1;static r189=!1;static m91={x:0,y:0};static i123=!1;static i124=!1;static b93(){t(document).on("keydown",e=>{if((e.keyCode==32||e.keyCode==113)&&t("#"+X.$).is(":visible")&&t(".modal:visible").length==0){if(e.preventDefault(),e.keyCode==32&&k.g124()&&(k.g131()==32||k.g130()==32))return;X.s171()}else e.keyCode==27&&kt.t112&&kt.t114();i.i141(navigator.userAgent)&&(e.keyCode==37&&(e.altKey||e.metaKey)?history.back():e.keyCode==39&&(e.altKey||e.metaKey)&&history.forward())}).on("mousedown",e=>{e.which==1?_.l72=!0:e.which==2?_.m83=!0:e.which==3&&(_.r189=!0)}).on("mouseup",e=>{e.which==1?_.l72=!1:e.which==2?_.m83=!1:e.which==3&&(_.r189=!1)}),k.g124()&&this.u134(),k.g125()&&this.u135()}static u134(){this.i123||(t(document).on("keydown",e=>{if(["INPUT","TEXTAREA","SELECT","OPTION"].indexOf(e.target.tagName)==-1&&k.g124()&&document.getElementById(X.$)&&document.getElementById(X.$).innerHTML){if(e.keyCode==k.g130()&&!_.l72){_.l72=!0;let s=_.g193();s?ne.m79.apply(s,[{which:1}]):document.elementFromPoint(_.m91.x,_.m91.y).id=="top_area_face"&&X.s171()}else if(e.keyCode==k.g131()){_.r189=!1;let s=_.g193();s&&ne.m79.apply(s,[{which:3}])}}}).on("keyup",e=>{if(k.g124()&&document.getElementById(X.$)&&document.getElementById(X.$).innerHTML)if(e.keyCode==k.g130()){_.l72=!1;let s=_.g193();s&&ne.m80.apply(s,[{which:1}])}else e.keyCode==k.g131()&&(_.r189=!1)}).on("mousemove",e=>{_.m91.x=e.clientX,_.m91.y=e.clientY}),this.i123=!0)}static u135(){this.i124||(t(document).on("keydown",e=>{["INPUT","TEXTAREA","SELECT","OPTION"].indexOf(e.target.tagName)==-1&&k.g125()&&document.getElementById(X.$)&&document.getElementById(X.$).innerHTML&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode==72?Et.h64():e.keyCode==84?Et.t77():e.keyCode==67?Et.r174():e.keyCode==69?t("#edit_btn")[0].click():e.keyCode==83&&t("#screen_btn")[0].click())}),this.i124=!0)}static g193(){let e=document.elementFromPoint(_.m91.x,_.m91.y);if(e&&e.id&&e.id.substring(0,4)=="cell"){if(ne.l71){let s=e.id.substring(5).split("_"),n=s[0],r=s[1];(ne.l71.x!=n||ne.l71.y!=r)&&Math.abs(ne.l71.x-n)<=1&&Math.abs(ne.l71.y-r)<=1&&(e=document.getElementById("cell_"+ne.l71.x+"_"+ne.l71.y))}return e}return null}};var Kt=class{static l72(e,s){_t.r189?(d.c190[e*d.s165+s].checking=1,Z.u123(e,s),qt.c179(e,s)):d.c190[e*d.s165+s].pressed?d.l75[e*d.s165+s]=1:(d.c190[e*d.s165+s].pressed=1,Z.u123(e,s))}static m83(e,s){d.c190[e*d.s165+s].checking=1,Z.u123(e,s),qt.c179(e,s)}static r189(e,s){d.i115()||(_t.l72?(d.c190[e*d.s165+s].pressed&&(d.c190[e*d.s165+s].pressed=0),d.c190[e*d.s165+s].checking=1,Z.u123(e,s),qt.c179(e,s)):d.c187.o[e*d.s165+s]||d.g185(i.C92,e,s,[[e,s]]))}static l73(e,s){d.i115()||(d.c190[e*d.s165+s].pressed?(d.c190[e*d.s165+s].clicked=1,d.g185(i.C91,e,s,[[e,s]])):d.c190[e*d.s165+s].checking&&(d.c190[e*d.s165+s].checking=0,Z.u123(e,s),qt.o63(e,s),Z.u125()))}static m84(e,s){d.c190[e*d.s165+s].checking&&(d.c190[e*d.s165+s].checking=0,Z.u123(e,s),qt.o63(e,s),Z.u125())}static r190(e,s){d.c190[e*d.s165+s].checking&&(d.c190[e*d.s165+s].checking=0,Z.u123(e,s),qt.o63(e,s),Z.u125())}static m85(e,s){_t.l72?this.l72(e,s):_t.m83&&this.m83(e,s)}static m86(e,s){d.c190[e*d.s165+s].pressed?(d.c190[e*d.s165+s].pressed=0,Z.u123(e,s)):d.c190[e*d.s165+s].checking&&(d.c190[e*d.s165+s].checking=0,Z.u123(e,s),Z.u125())}};var Vt=class{static l72(e,s){d.c190[e*d.s165+s].pressed?d.l75[e*d.s165+s]=1:(d.c190[e*d.s165+s].pressed=1,Z.u123(e,s))}static m83(e,s){}static r189(e,s){d.i115()||d.g185(i.C92,e,s,[[e,s]])}static l73(e,s){d.i115()||d.c190[e*d.s165+s].pressed&&(d.c190[e*d.s165+s].clicked=1,d.g185(i.C91,e,s,[[e,s]]))}static m84(e,s){}static r190(e,s){}static m85(e,s){_t.l72&&this.l72(e,s)}static m86(e,s){d.c190[e*d.s165+s].pressed&&(d.c190[e*d.s165+s].pressed=0,Z.u123(e,s))}};var Xt=class{static l72(e,s){if(d.c187.o[e*d.s165+s]){if(this.c183(e,s)){k.q63();return}if(k.i90()&&d.c187.t[e*d.s165+s]==0)return;d.c190[e*d.s165+s].checking||(d.c190[e*d.s165+s].checking=1,Z.u123(e,s),k.i90()||qt.c179(e,s))}else{if(k.i90()&&d.c187.f[e*d.s165+s])return;!k.i90()&&_t.r189&&d.c190[e*d.s165+s].wasFlagged||(xt.i74()||k.q63(),d.c190[e*d.s165+s].pressed?d.l75[e*d.s165+s]=1:(d.c190[e*d.s165+s].pressed=1,Z.u123(e,s)))}}static m83(e,s){this.l72(e,s)}static r189(e,s){if(d.c187.o[e*d.s165+s]){if(this.c183(e,s)){k.q63();return}if(k.i90()&&d.c187.t[e*d.s165+s]==0)return;if(k.i90()){let n=this.i114();qt.o63(e,s,n)&&k.q63()}}else{if(d.i115())return;xt.i74()&&k.q63(),d.g185(i.C92,e,s,[[e,s]])}}static l73(e,s){if(d.c190[e*d.s165+s].pressed){if(d.i115())return;d.c190[e*d.s165+s].clicked=1,d.g185(i.C91,e,s,[[e,s]])}else if(d.c190[e*d.s165+s].checking){d.c190[e*d.s165+s].checking=0,Z.u123(e,s);let n=this.i114(),r=qt.o63(e,s,n);this.i114()?r&&k.q63():k.q63(),Z.u125()}}static m84(e,s){this.l73(e,s)}static r190(e,s){}static m85(e,s){_t.l72?this.l72(e,s):_t.m83&&this.m83(e,s)}static m86(e,s){d.c190[e*d.s165+s].pressed?(d.c190[e*d.s165+s].pressed=0,Z.u123(e,s)):d.c190[e*d.s165+s].checking&&(d.c190[e*d.s165+s].checking=0,Z.u123(e,s),Z.u125())}static c183(e,s){return k.i90()&&k.g137()==k.Y61&&d.c187.t[e*d.s165+s]==0?d.e82&&d.e82>Date.now()-500&&d.e81[e*d.s165+s]?!1:(xt.c80(),!0):!1}static i114(){return k.i90()&&k.g142()}};var ee=class{static c182=null;static l74=null;static l72(e,s){if(!d.i115())if(d.c187.o[e*d.s165+s])qt.c180(e,s)==d.c187.t[e*d.s165+s]?qt.o63(e,s,!0):this.f79(e,s);else{if(d.c187.f[e*d.s165+s]){this.c182={flagX:e,flagY:s,chordX:null,chordY:null,availableClicks:[],availableChordOpenings:[],availableChordChecks:[]};for(let n=e-1;n<=e+1;n++)for(let r=s-1;r<=s+1;r++)n>=0&&n<d.s164&&r>=0&&r<d.s165&&(d.c187.o[n*d.s165+r]?qt.c180(n,r)==d.c187.t[n*d.s165+r]?this.c182.availableChordOpenings.push(n*d.s165+r):this.c182.availableChordChecks.push(n*d.s165+r):this.c182.availableClicks.push(n*d.s165+r));return}_t.r189&&d.c190[e*d.s165+s].wasFlagged||(d.c190[e*d.s165+s].pressed=1,d.c190[e*d.s165+s].clicked=1,Z.u123(e,s),d.g185(i.C91,e,s,[[e,s]]))}}static m83(e,s){this.l72(e,s)}static r189(e,s){d.i115()||d.c187.o[e*d.s165+s]||d.g185(i.C92,e,s,[[e,s]])}static l73(e,s){this.c182!==null&&this.m85(e,s)}static m84(e,s){this.l73(e,s)}static r190(e,s){}static m85(e,s){if(!d.i115()){if(this.c182&&this.l74&&(Math.abs(e-this.l74.x)>1||Math.abs(s-this.l74.y)>1)){let r={};for(let l=0;l<20;l++){let p=Math.round(this.l74.x*(20-l)/20+e*l/20),o=Math.round(this.l74.y*(20-l)/20+s*l/20);this.c182&&this.c182.availableChordOpenings.includes(p*d.s165+o)&&!(p==this.l74.x&&o==this.l74.y)&&!(p==e&&o==s)&&!r[p*d.s165+o]&&(r[p*d.s165+o]=1,console.log(`jump from ${e},${s} to ${p},${o}`),this.m85(p,o),$("#cell_"+p+"_"+o).addClass("checking"))}}_t.l72&&this.c182&&(d.c187.o[e*d.s165+s]?this.c182.availableChordOpenings.includes(e*d.s165+s)?this.c182.chordX===null?(qt.o63(e,s,!1),this.c182.chordX=e,this.c182.chordY=s,setTimeout(()=>{this.c182=null},500)):(qt.o63(e,s,!1),this.c182=null):this.c182.availableChordChecks.includes(e*d.s165+s)&&(this.f79(e,s),this.c182.chordX=e,this.c182.chordY=s,setTimeout(()=>{this.c182=null},500)):this.c182.availableClicks.includes(e*d.s165+s)&&(this.c182.chordX=e,this.c182.chordY=s,d.c190[e*d.s165+s].pressed=1,d.c190[e*d.s165+s].clicked=1,Z.u123(e,s),d.g185(i.C91,e,s,[[e,s]])))}}static m86(e,s){this.c182&&(this.l74={x:e,y:s})}static f79(e,s){d.g185(i.C93,e,s,[]),qt.c179(e,s),setTimeout(()=>{qt.u126(e,s)},150)}};var Zt=class{static s162={};static c184(){if(!(yt.a96||this.s162[d.$]))for(let e=0;e<Math.min(16,d.s165);e++)for(let s=0;s<Math.min(30,d.s164);s++){if(document.getElementById("cell_"+s+"_"+e).innerHTML){this.s162[d.$]=1,y.m109("AntiCheatController.checkWsAction",["html",d.$,s,e,"","",document.getElementById("cell_"+s+"_"+e).innerHTML],()=>{});return}let n=document.getElementById("cell_"+s+"_"+e).className.replace(" "+O("pressed"),"").replace(" "+O("pressed"),"").replace(" "+O("check"),"").replace(" start",""),r=Z.g183(s*d.s165+e).replace(" "+O("pressed"),"").replace(" "+O("pressed"),"").replace(" "+O("check"),"").replace(" start","");if(n!=r&&n.split(" ").sort().join(" ")!=r.split(" ").sort().join(" ")){this.s162[d.$]=1,y.m109("AntiCheatController.checkWsAction",["html",d.$,s,e,n.split(" ").sort().join(" "),r.split(" ").sort().join(" "),""],()=>{});return}}}static c185(){d.l65<i.G89&&d.s88==i.G99&&d.c191.length>=30&&d.c191.every((e,s,n)=>e===n[0])&&y.m109("AntiCheatController.checkWsAction",["positions",d.$,d.c191[0],"","","",""],()=>{})}static c186(){if(d.l65>=i.G89||d.c188.length<5||(Date.now()-d.t96)/d.c188.length>500)return;let e="";for(let s=0;s<5;s++)e+="("+d.c188[s].x+","+d.c188[s].y+")";d.a95.push(e),d.a95.length==10&&(d.a95.every((s,n,r)=>s===r[0])&&y.m109("AntiCheatController.checkWsAction",["ac",d.$,d.a95[0],"","","",""],()=>{}),d.a95=[])}static n73(e,s,n,r){d.$&&!this.s162[d.$]&&(this.s162[d.$]=1,y.m109("AntiCheatController.checkWsAction",["trust",d.$,e,s,n,r,""],()=>{}))}static v63(){i.G133.indexOf(u.u61.id)!=-1&&y.m109("AntiCheatController.verifyWsAction",[],e=>{e&&setTimeout(()=>{location.reload()},500)})}};var ne=class _{static l71=null;static t85={};static t86={};static t87={};static b93(){for(let e=0;e<d.s165;e++)for(let s=0;s<d.s164;s++){let n=document.getElementById("cell_"+s+"_"+e);n.addEventListener("mousedown",this.m79),n.addEventListener("contextmenu",this.c181),n.addEventListener("mouseup",this.m80),n.addEventListener("mouseenter",this.m81),n.addEventListener("mouseleave",this.m82),(k.g128()||k.g142())&&(n.addEventListener("touchstart",this.t89),n.addEventListener("touchend",this.t91),n.addEventListener("touchcancel",this.t92),n.addEventListener("touchmove",this.t90))}}static c181(e){if(!k.i90()||k.g142())return!1;let s=this,n=parseInt(s.getAttribute("data-x")),r=parseInt(s.getAttribute("data-y"));"isTrusted"in e&&!e.isTrusted&&Zt.n73(n,r,e.type,null),_.t88(n,r)}static t88(e,s){if(!(d.i116()||d.c192(e,s))){if(k.l66(),v.i128){ue.c80(e,s);return}xt.i74()?k.g133()==k.C62?(Xt.l72(e,s),Xt.l73(e,s)):k.g133()==k.C63?(Kt.l72(e,s),Kt.l73(e,s)):k.g133()==k.C64?(Vt.l72(e,s),Vt.l73(e,s)):k.g133()==k.C66&&(ee.l72(e,s),ee.l73(e,s)):k.g133()==k.C62?Xt.r189(e,s):k.g133()==k.C63?Kt.r189(e,s):Vt.r189(e,s)}}static m79(e){if(e.which!=1&&e.which!=2&&e.which!=3)return;let s=this,n=parseInt(s.getAttribute("data-x")),r=parseInt(s.getAttribute("data-y"));if("isTrusted"in e&&!e.isTrusted&&Zt.n73(n,r,e.type,e.which),!_.t87[n*d.s165+r]){if(v.i128){ue.c80(n,r);return}if(d.c191.push(_.g184(e)),e.preventDefault!==void 0&&e.preventDefault(),e.which==2&&k.g123()){X.s171();return}if(!(d.i116()||d.c192(n,r))){if(e.which==1?_t.l72=!0:e.which==2?_t.m83=!0:e.which==3&&(_t.r189=!0),e.which===1)xt.i74()?k.g133()==k.C62?Xt.r189(n,r):k.g133()==k.C63?Kt.r189(n,r):k.g133()==k.C64?Vt.r189(n,r):k.g133()==k.C66&&ee.r189(n,r):k.g133()==k.C62?Xt.l72(n,r):k.g133()==k.C63?Kt.l72(n,r):k.g133()==k.C64?Vt.l72(n,r):k.g133()==k.C66&&ee.l72(n,r);else if(e.which==2){if(k.i90())return!1;k.g133()==k.C62?Xt.m83(n,r):k.g133()==k.C63?Kt.m83(n,r):k.g133()==k.C64?Vt.m83(n,r):k.g133()==k.C66&&ee.m83(n,r)}else if(e.which==3){if(k.i90())return!1;xt.i74()?k.g133()==k.C62?Xt.l72(n,r):k.g133()==k.C63?Kt.l72(n,r):k.g133()==k.C64?Vt.l72(n,r):k.g133()==k.C66&&ee.l72(n,r):k.g133()==k.C62?Xt.r189(n,r):k.g133()==k.C63?Kt.r189(n,r):k.g133()==k.C64?Vt.r189(n,r):k.g133()==k.C66&&ee.r189(n,r)}}}}static m80(e){if(e.which!=1&&e.which!=2&&e.which!=3)return;let s=this,n=parseInt(s.getAttribute("data-x")),r=parseInt(s.getAttribute("data-y"));if("isTrusted"in e&&!e.isTrusted&&Zt.n73(n,r,e.type,e.which),_.t87[n*d.s165+r]){delete _.t87[n*d.s165+r];return}if(!v.i128&&(e.preventDefault!==void 0&&e.preventDefault(),e.which==1?_t.l72=!1:e.which==2?_t.m83=!1:e.which==3&&(_t.r189=!1),!(d.i116()||d.c192(n,r)))){if(e.which===1)xt.i74()?k.g133()==k.C62?Xt.r190(n,r):k.g133()==k.C63?Kt.r190(n,r):k.g133()==k.C64?Vt.r190(n,r):k.g133()==k.C66&&ee.r190(n,r):k.g133()==k.C62?Xt.l73(n,r):k.g133()==k.C63?Kt.l73(n,r):k.g133()==k.C64?Vt.l73(n,r):k.g133()==k.C66&&ee.l73(n,r);else if(e.which==2){if(k.i90())return!1;k.g133()==k.C62?Xt.m84(n,r):k.g133()==k.C63?Kt.m84(n,r):k.g133()==k.C64?Vt.m84(n,r):k.g133()==k.C66&&ee.m84(n,r)}else if(e.which==3){if(k.i90())return!1;k.i90()||(xt.i74()?k.g133()==k.C62?Xt.l73(n,r):k.g133()==k.C63?Kt.l73(n,r):k.g133()==k.C64?Vt.l73(n,r):k.g133()==k.C66&&ee.l73(n,r):k.g133()==k.C62?Xt.r190(n,r):k.g133()==k.C63?Kt.r190(n,r):k.g133()==k.C64?Vt.r190(n,r):k.g133()==k.C66&&ee.r190(n,r))}}}static m81(e){let s=this,n=parseInt(s.getAttribute("data-x")),r=parseInt(s.getAttribute("data-y"));"isTrusted"in e&&!e.isTrusted&&Zt.n73(n,r,e.type,null),!k.i90()&&(v.i128||(_.l71={x:n,y:r},!(d.i116()||d.c192(n,r))&&(_t.m83&&k.g123()||(k.g133()==k.C62?Xt.m85(n,r):k.g133()==k.C63?Kt.m85(n,r):k.g133()==k.C64?Vt.m85(n,r):k.g133()==k.C66&&ee.m85(n,r)))))}static m82(e){let s=this,n=parseInt(s.getAttribute("data-x")),r=parseInt(s.getAttribute("data-y"));"isTrusted"in e&&!e.isTrusted&&Zt.n73(n,r,e.type,null),!k.i90()&&(v.i128||d.i116()||d.c192(n,r)||_t.m83&&k.g123()||(k.g133()==k.C62?Xt.m86(n,r):k.g133()==k.C63?Kt.m86(n,r):k.g133()==k.C64?Vt.m86(n,r):k.g133()==k.C66&&ee.m86(n,r)))}static t89(e){"isTrusted"in e&&!e.isTrusted&&Zt.n73(null,null,e.type,null);for(let s=0;s<e.changedTouches.length;s++){let n=e.changedTouches[s],r=n.target;if(!r||!r.hasAttribute("data-x"))continue;let l=parseInt(r.getAttribute("data-x")),p=parseInt(r.getAttribute("data-y"));if(d.i116()||d.c192(l,p))return;_.t85[n.identifier]=l*d.s165+p,k.g128()&&t("#cell_"+l+"_"+p).addClass("touching"),k.g142()&&_.s161(n.identifier,l,p)}}static s161(e,s,n){_.t86[e]&&clearInterval(_.t86[e]),_.t86[e]=setTimeout(()=>{_.t93(e),!d.c187.o[s*d.s165+n]&&(_.t87[s*d.s165+n]=1,setTimeout(()=>{delete _.t87[s*d.s165+n]},400),_.t88(s,n))},k.g142())}static t90(e){"isTrusted"in e&&!e.isTrusted&&Zt.n73(null,null,e.type,null);for(let s=0;s<e.changedTouches.length;s++){let n=e.changedTouches[s];_.t85[n.identifier]!==void 0&&_.t93(n.identifier)}}static t91(e){"isTrusted"in e&&!e.isTrusted&&Zt.n73(null,null,e.type,null);for(let s=0;s<e.changedTouches.length;s++){let n=e.changedTouches[s];if(_.t85[n.identifier]===void 0)return;_.t93(n.identifier)}}static t92(e){"isTrusted"in e&&!e.isTrusted&&Zt.n73(null,null,e.type,null);for(let s=0;s<e.changedTouches.length;s++){let n=e.changedTouches[s];if(_.t85[n.identifier]===void 0)return;_.t93(n.identifier)}}static t93(e){if(k.g128()){let s=_.t85[e]/d.s165|0,n=_.t85[e]%d.s165;t("#cell_"+s+"_"+n).removeClass("touching")}k.g142()&&_.t86[e]&&clearInterval(_.t86[e]),delete _.t85[e]}static g184(e){if(!e.pageX||!e.pageY)return 10;let s=t("#cell_0_0")[0].getBoundingClientRect(),n=e.pageX-(s.left+window.scrollX),r=e.pageY-(s.top+window.scrollY);if(n<0||r<0||n>d.s164*ot.g169()||r>d.s165*ot.g169())return 10;let l=n%ot.g169(),p=r%ot.g169();return p<ot.g169()/3?l<ot.g169()/3?1:l<ot.g169()*2/3?2:3:p<ot.g169()*2/3?l<ot.g169()/3?4:l<ot.g169()*2/3?5:6:l<ot.g169()/3?7:l<ot.g169()*2/3?8:9}};var Z=class{static $="AreaBlock";static re(){let e="";for(let s=0;s<d.s165;s++){for(let n=0;n<d.s164;n++)e+='<div id="cell_'+n+"_"+s+'" class="'+this.g183(n*d.s165+s)+'" data-x="'+n+'" data-y="'+s+'"></div>';e+='<div class="clear"></div>'}document.getElementById(this.$).innerHTML=e,v.s181||ne.b93()}static u123(e,s){document.getElementById("cell_"+e+"_"+s).className=this.g183(e*d.s165+s)}static g183(e){return"cell size"+ot.g169()+" "+O(d.c187.o[e]?"opened":xt.i74()?"closed_flag":"closed")+(d.c187.o[e]?" "+O(d.c187.t[e]>=1&&d.c187.t[e]<=8&&ei.i117()?"rtype"+ei.t98[d.c187.t[e]]:"type"+d.c187.t[e]):"")+(d.c187.f[e]?" "+O("flag"):"")+(d.c190[e].pressed&&!d.c187.o[e]&&!d.c187.f[e]?" "+O("pressed"):"")+(d.c190[e].clicked&&!d.c187.o[e]&&!d.c187.f[e]?" "+O("pressed"):"")+(k.g128()&&d.c190[e].checking&&d.c187.o[e]&&!d.c187.f[e]?" checking":"")+(d.c190[e].check?" "+O("check"):"")+(d.t94[e]&&(!k.g121()||d.s88!=i.G96&&d.s88!=i.G97)?d.t94[e]>=i.A69&&d.t94[e]<=i.A70?" cell-ticket-ice":d.t94[e]>=i.A71&&d.t94[e]<=i.A72?" cell-ticket-flower":d.t94[e]>=i.A73&&d.t94[e]<=i.A74?" cell-ticket-fruit":" cell-ticket":"")+(!d.r176&&d.s166!==null&&d.s166!==void 0&&(e/d.s165|0)==d.s166&&e%d.s165==d.s167?" start":"")+(k.g145()?" pxl":"")}static u124(){for(let e=0;e<d.s165;e++)for(let s=0;s<d.s164;s++)this.u123(s,e);!d.r176&&d.s166!==null&&d.s166!==void 0&&t("#cell_"+d.s166+"_"+d.s167).addClass("start")}static c178(){for(let e=0;e<d.s165;e++)for(let s=0;s<d.s164;s++)document.getElementById("cell_"+s+"_"+e).className="cell size"+ot.g169()+" "+O("closed")}static u125(){for(let e=0;e<d.s165;e++)for(let s=0;s<d.s164;s++)d.c190[s*d.s165+e].check&&(d.c190[s*d.s165+e].check=0,this.u123(s,e))}};var X=class{static $="WrapperBlock";static t78=0;static t95=0;static m90=0;static f83=null;static M67=30;static F75=0;static F76=1;static F77=2;static F78=3;static F79="unpressed";static F80="win";static F81="lose";static re(){this.m90=0;let e=d.s164,s=d.s165,n=v.s181||k.i90()&&t(window).width()<=450;(16*e+24)/16*ot.g169()<t(window).width()-40&&(n=!1);let l=k.g145()?" pxl":"";t("#"+this.$).empty().append(t("<div>",{id:"game",class:"wrapper noselect zoomable "+kt.g239()+" skin_"+k.g144()+(kt.i135()?"":" wrapper-light")}).data({sx:16*e+24,addX:n?0:this.M67}).on("contextmenu",()=>!1).on("drag",()=>!1).on("dragstart",()=>!1).on("selectstart",()=>!1).append(t("<div>",{class:"zoomable"}).data({sx:16*e+24,sy:11}).append(t("<div>",{id:"game_top_left",class:O("wrapper-border-left-top")+" wrapper-border-left-top zoomable"}).data({sx:12,sy:11}),t("<div>",{class:O("wrapper-border-hor")+" wrapper-border-hor zoomable"}).data({sx:16*e,sy:11}),t("<div>",{id:"game_top_right",class:O("wrapper-border-right-top")+" wrapper-border-right-top zoomable"}).data({sx:12,sy:11})),e>=4?t("<div>",{class:"zoomable"}).data({sx:16*e+24,sy:32}).append(t("<div>",{class:O("wrapper-border-vert")+" wrapper-border-vert zoomable"}).data({sx:12,sy:32}),t("<div>",{id:"top_area",class:O("top-area")+" top-area zoomable "}).data({sx:16*e,sy:32}).append(t("<div>",{class:"zoomable"}).data({sx:16*e,sy:3}),t("<div>").append(t("<div>",{class:"pull-left zoomable"}).data({sx:3,sy:21}),t("<div>",{class:"pull-right zoomable"}).data({sx:3,sy:21}),t("<div>",{class:O("numbers-panel")+" numbers-panel pull-left zoomable"+l}).data({sx:41,sy:25}).append(t("<div>",{class:"zoomable"}).data({sx:41,sy:2}),t("<div>",{class:"zoomable"}).data({sx:41,sy:21}).append(t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_mines_100",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}),t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_mines_10",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}),t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_mines_1",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}))),e>=6?t("<div>",{class:O("numbers-panel")+" numbers-panel pull-right zoomable"+l}).data({sx:41,sy:25}).append(t("<div>",{class:"zoomable"}).data({sx:41,sy:2}),t("<div>",{class:"zoomable"}).data({sx:41,sy:21}).append(t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_time_100",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}),t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_time_10",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}),t("<div>",{class:"pull-left zoomable"}).data({sx:2,sy:21}),t("<div>",{id:"top_area_time_1",class:O("top-area-num0")+" top-area-num pull-left zoomable"}).data({sx:11,sy:21}))):"",e>=8?t("<div>",{class:"top-area-center"}).append(t("<div>",{id:"top_area_face",class:O("top-area-face-unpressed")+" top-area-face zoomable"+l}).data({sx:26,sy:26})):"")),t("<div>",{class:O("wrapper-border-vert")+" wrapper-border-vert zoomable"}).data({sx:12,sy:32})):"",e>=4?t("<div>",{class:"zoomable"}).data({sx:16*e+24,sy:11}).append(t("<div>",{class:O("wrapper-border-t-left")+" wrapper-border-t-left zoomable"}).data({sx:12,sy:11}),t("<div>",{class:O("wrapper-border-hor")+" wrapper-border-hor zoomable"}).data({sx:16*e,sy:11}),t("<div>",{class:O("wrapper-border-t-right")+" wrapper-border-t-right zoomable"}).data({sx:12,sy:11})):"",t("<div>",{class:"zoomable"}).data({sx:16*e+24,sy:16*s}).append(t("<div>",{class:O("wrapper-border-vert")+" wrapper-border-vert zoomable"}).data({sx:12,sy:16*s}),t("<div>",{id:"AreaBlock",class:"pull-left"}),t("<div>",{class:O("wrapper-border-vert")+" wrapper-border-vert zoomable"}).data({sx:12,sy:16*s})),t("<div>",{id:"replay_footer",class:"zoomable"}),t("<div>",{class:"clearfix"})),v.s181?"":t("<div>",{class:"wrapper-panel-outside"}).append(t("<div>",{class:"wrapper-panel-inside"}).css("right",(n?0:this.M67)+"px").append(t("<div>",{id:"WrapperPanelBlock"})))),this.f83=this.F75,this.u129(!1),Ve.u67(),ot.r175(),!v.s181&&n&&t("#game").css("margin-left","-20px"),k.g126()&&t("#game").addClass("custom-cursor"),!v.i126&&!v.i128&&this.b93()}static u129(e){let s;if(location.pathname==v.l86+"/settings"||v.s181?s=this.F76:d.s88==i.G96||d.s88==i.G97?this.f83==this.F75||this.f83==this.F76?s=this.F76:s=this.F77:s=this.F78,v.i128&&(s=this.F76),this.f83!=s){this.f83=s;let n=d.s164,r=d.s165;this.f83==this.F76?t("#replay_footer").html("").addClass("zoomable").data({sx:16*n+24,sy:11}).append(t("<div>",{class:O("wrapper-border-left-bottom")+" wrapper-border-left-bottom zoomable"}).data({sx:12,sy:11}),t("<div>",{class:O("wrapper-border-hor")+" wrapper-border-hor zoomable"}).data({sx:16*n,sy:11}),t("<div>",{class:O("wrapper-border-right-bottom")+" wrapper-border-right-bottom zoomable"}).data({sx:12,sy:11})):this.f83==this.F77?t("#replay_footer").html("").addClass("zoomable").data({sx:16*n+24,sy:30}).append(t("<div>",{class:O("wrapper-border-left-bottom-wide")+" wrapper-border-left-bottom-wide zoomable"}).data({sx:12,sy:30}),t("<div>",{class:O("wrapper-border-hor-wide")+" wrapper-border-hor-wide zoomable"}).data({sx:16*n,sy:30}).append(t("<div>",{class:"replay-button-column zoomable"}).data({sy:30,addX:40}).append(t("<div>",{class:O("replay-button")+" replay-button "+(ot.g169()>=20?O("replay-button-bordered")+" replay-button-bordered":"")}).append(t("<span>",{id:"replay_play_btn",class:"fa fa-play replay-play-btn"}),t("<span>",{id:"replay_pause_btn",class:"hide fa fa-pause replay-pause-btn"}))),n>2?t("<div>",{class:"replay-timeline-column zoomable"}).data({sx:16*n,sy:30,minusX:40}).append(t("<div>",{id:"replay_timeline",class:O("replay-timeline")+" replay-timeline"}).append(t("<div>",{id:"replay_cursor",class:O("replay-cursor")+" replay-cursor"}).css("left",0))):""),t("<div>",{class:O("wrapper-border-right-bottom-wide")+" wrapper-border-right-bottom-wide zoomable"}).data({sx:12,sy:30})):this.f83==this.F78&&t("#replay_footer").html("").addClass("zoomable").data({sx:16*n+24,sy:30}).append(t("<div>",{class:O("wrapper-border-left-bottom-wide")+" wrapper-border-left-bottom-wide zoomable"}).data({sx:12,sy:30}),t("<div>",{class:O("wrapper-border-hor-wide")+" wrapper-border-hor-wide zoomable"}).data({sx:16*n,sy:30}).append(t("<div>",{class:"replay-button-column zoomable"}).data({sy:30,addX:40}).append(t("<div>",{class:O("replay-button-active")+" replay-button replay-button-active "+(ot.g169()>=20?O("replay-button-bordered")+" replay-button-bordered":"")}).on("click",()=>Ut.t99()).append(t("<span>",{id:"replay_play_btn",class:"fa fa-play replay-play-btn"}),t("<span>",{id:"replay_pause_btn",class:"hide fa fa-pause replay-pause-btn"}))),n>2?t("<div>",{class:"replay-timeline-column zoomable"}).data({sx:16*n,sy:30,minusX:40}).append(t("<div>",{id:"replay_timeline",class:O("replay-timeline")+" "+O("replay-timeline-active")+" replay-timeline replay-timeline-active"}).on("mousedown",function(l){Ut.t100(l.pageX-t(this).offset().left)}).on("mouseenter",function(l){Ut.t101(l.pageX-t(this).offset().left)}).on("mousemove",function(l){Ut.t102(l.pageX-t(this).offset().left)}).on("mouseleave",function(l){Ut.t103(l.pageX-t(this).offset().left)}).append(t("<div>",{id:"replay_cursor",class:O("replay-cursor-active")+" replay-cursor replay-cursor-active"}).css("left",0),t("<div>",{id:"replay_time",class:"replay-time hide"}))):""),t("<div>",{class:O("wrapper-border-right-bottom-wide")+" wrapper-border-right-bottom-wide zoomable"}).data({sx:12,sy:30})),Ut.i85(),e&&ot.r175()}}static g192(e,s,n){let r=e/16*(16*s+24),l=e/16*(11+(s>=4?43:0)+16*n+11);return{width:Math.round(r),height:Math.round(l)}}static i85(){this.t78&&(clearInterval(this.t78),this.t78=0),this.u131(Math.floor((d.t96?Date.now()-d.t96:d.t95)/1e3),!0),this.u132(d.f80),this.u130()}static b93(){t("#top_area").on("click",this.s171)}static s171(){t("#top_area_face").addClass(O("top-area-face-pressed")).removeClass(O("top-area-face-unpressed")),k.q63(),v.s181?location.href="/":(d.s88==i.G96&&d.a93&&d.u64==u.u61.id&&d.r176&&xe.a70(),d.s88==i.G96&&!d.a93&&d.u64==u.u61.id&&!d.r176?setTimeout(()=>{t("#top_area_face").addClass(O("top-area-face-unpressed")).removeClass(O("top-area-face-pressed"))},200):bt.n77(!1,!1,!0))}static u130(){let e;d.s88==i.G96||d.s88==i.G97||Ut.p89?e=this.F79:d.s88==i.G99||d.s88==i.G112?(e=this.F80,xt.s81()):(e=this.F81,xt.s81()),t("#top_area_face").removeClass(O("top-area-face-pressed")).removeClass(O("top-area-face-unpressed")).removeClass(O("top-area-face-win")).removeClass(O("top-area-face-lose")).addClass(O("top-area-face-"+e))}static s172(){k.g120()||(this.t78&&clearInterval(this.t78),this.t78=setInterval(()=>this.i121(),1e3))}static i121(){this.u131(this.t95+1)}static s173(){clearInterval(this.t78),this.t78=0}static u131(e,s){this.u133("time",s?-99:this.t95,e),this.t95=e}static u132(e){let s=d.m87-e;this.u133("mines",this.m90,s),this.m90=s}static u133(e,s,n){s=Math.min(999,Math.max(s,-99)),n=Math.min(999,Math.max(n,-99));for(let r=1;r<=100;r*=10){let l=Math.abs(s/r%10>>0),p=Math.abs(n/r%10>>0);s<0&&l==0&&(r==10&&s>=-9||r==100&&s<-9)&&(l="-"),n<0&&p==0&&(r==10&&n>=-9||r==100&&n<-9)&&(p="-"),s==-99||v.i128?t("#top_area_"+e+"_"+r).removeClass(O("top-area-num-")).removeClass(O("top-area-num0")).removeClass(O("top-area-num1")).removeClass(O("top-area-num2")).removeClass(O("top-area-num3")).removeClass(O("top-area-num4")).removeClass(O("top-area-num5")).removeClass(O("top-area-num6")).removeClass(O("top-area-num7")).removeClass(O("top-area-num8")).removeClass(O("top-area-num9")).addClass(O("top-area-num"+p)):l!=p&&t("#top_area_"+e+"_"+r).removeClass(O("top-area-num"+l)).addClass(O("top-area-num"+p))}}};var se=class{static $="GameBlock";static re(){t("#"+this.$).empty(),d.s88==i.G101?t("#"+this.$).append(t("<div>",{class:"alert alert-danger"}).append(a("game_ng_not_available"))):t("#"+this.$).append(t("<table>",{class:"wrapper-table"}).append(t("<tr>").append(t("<td>").append(t("<div>",{id:"WrapperBlock"})),t("<td>").append(t("<div>",{id:"result_relative_block",class:"result-relative"}).append(t("<div>",{id:"result_absolute_right_block",class:"result-absolute"}))))),t("<div>",{id:"result_bottom_block",class:"result-bottom-block"}))}};var pt=class{static $="CustomLevelBlock";static g73=null;static S63=30;static S64=30;static M63=150;static re(){if(t("#"+this.$).empty(),d.a93&&location.href.indexOf("game/")!=-1)return;let e=z.g111();[i.G70,i.G75].indexOf(e)!=-1&&(t("#"+this.$).append(t("<div>",{id:this.$+"_content"}).append(t("<form>",{class:"form-inline"}).on("submit",s=>{s.preventDefault(),this.u74()}).append(t("<div>",{class:"form-group"}).append(t("<label>",{for:"custom_width",class:"text-nowrap"}).append(t("<span>",{class:"hidden-sm hidden-md hidden-lg"}).append(a("game_width")+"&nbsp;&nbsp;&nbsp;"),t("<span>",{class:"hidden-xs"}).append(a("game_width")+a(":")+"&nbsp;&nbsp;")),t("<input>",{id:"custom_width",type:"number",class:"form-control custom-level-input",min:i.G90,max:i.G91,value:this.g74()})),t("<div>",{class:"form-group"}).append(t("<label>",{for:"custom_height"}).append(t("<span>",{class:"hidden-sm hidden-md hidden-lg"}).append(a("game_height")+"&nbsp;&nbsp;&nbsp;"),t("<span>",{class:"hidden-xs"}).append(a("game_height")+a(":")+"&nbsp;&nbsp;")),t("<input>",{id:"custom_height",type:"number",class:"form-control custom-level-input",min:i.G92,max:i.G93,value:this.g75()})),t("<div>",{id:"custom_mines_group",class:"form-group"}).append(t("<label>",{for:"custom_mines"}).append(t("<span>",{class:"hidden-sm hidden-md hidden-lg"}).append(a("game_mines")+"&nbsp;&nbsp;&nbsp;"),t("<span>",{class:"hidden-xs"}).append(a("game_mines")+a(":")+"&nbsp;&nbsp;")),t("<input>",{id:"custom_mines",type:"number",class:"form-control custom-level-input",min:i.G94,max:1e4,value:this.g76()})),t("<button>",{type:"submit",class:"btn btn-default btn-custom-update hidden-sm hidden-md hidden-lg","data-loading-text":'<i class="fa fa-refresh fa-spin"></i>'}).html('<i class="fa fa-refresh"></i>'),t("<button>",{type:"submit",class:"btn btn-default btn-custom-update hidden-xs","data-loading-text":a("loading")+"..."}).html(a("game_update_size_button")),"&nbsp;&nbsp;&nbsp;&nbsp;",e==i.G70||e==i.G75?t("<span>",{id:"difficulty_popover",class:"gray help"}).append('<i class="glyphicon glyphicon-info-sign icon-diff-info-big"></i>').popover({container:"body",trigger:"hover",placement:t(window).width()>600?"top":"bottom",html:!0,content:()=>'<img src="/img/loading_big.gif"  class="loading-big"/>'}):""),'<br class="hidden-xs"/>')),this.u76())}static g74(){let e=parseInt(U.g172("custom_width",this.S63))||0;return e<i.G90?e=i.G90:e>i.G91&&(e=i.G91),e}static g75(){let e=parseInt(U.g172("custom_height",this.S64))||0;return e<i.G92?e=i.G92:e>i.G93&&(e=i.G93),e}static g76(){let e=parseInt(U.g172("custom_mines",this.M63))||0;return e<i.G94?e=i.G94:e>i.G95&&(e=i.G95),e>this.g74()*this.g75()&&(e=this.g74()*this.g75()),e}static u74(){let e=parseInt(t("#custom_width").val()),s=parseInt(t("#custom_height").val()),n=parseInt(t("#custom_mines").val());return t(".btn-custom-update").button("loading"),y.m109("GameInfoController.correctMinesWsAction",[e,s,n],this.c83.bind(this)),!0}static c83(e,s,n){this.u75(e,s,n),t("#custom_width").val(this.g74()),t("#custom_height").val(this.g75()),t("#custom_mines").val(this.g76()),t("#"+S.$).is(":visible")&&S.re(),t("#"+se.$).is(":visible")&&bt.n77(),this.u76(),t(".btn-custom-update").button("reset")}static u75(e,s,n){U.s142("custom_width",e),U.s142("custom_height",s),U.s142("custom_mines",n)}static u76(){let e=z.g111();(e==i.G70||e==i.G75)&&setTimeout(()=>{y.m109("GameInfoController.getDifficultyWsAction",[e,this.g74(),this.g75(),this.g76()],this.d65.bind(this))},300)}static d65(e,s,n,r,l,p,o,c){this.g73=o;let f="\u2014";o!==null&&(o>=i.R110[i.R94]?f='<img src="/img/skull.svg" class="diff-icon" alt="'+a("game_map_diff")+'"/> '+b.g227(o):o?f=b.g227(o):f='<strong class="text-danger">0</strong>');let h=r/s/n,g="";h>=.33?g="text-danger":h>.25&&(g="text-warning");let w='<span class="text-nowrap">'+a("game_map_size")+a(": ")+s+"x"+n+"/"+r+(e==i.G75?" NG":"")+"</span><br/>"+(d.a93?"":'<span class="text-nowrap">'+(a("game_map_avg_3bv")+a(": ")+(l||"\u2014")+"</span><br/>"))+(!d.a93&&o<1e3?'<span class="text-nowrap">'+(a("game_map_min_3bv")+a(": ")+(p||"\u2014")+"</span><br/>"):"")+'<span class="text-nowrap">'+a("game_mine_density")+a(": ")+'<span class="'+g+'">'+(Math.round(h*100*100)/100).toFixed(2)+'%</span></span><br/><span class="text-nowrap">'+a("game_map_diff")+a(": ")+f+"</span><br/>"+(c&&e==i.G70?'<span class="text-nowrap">'+a("game_map_win_chance")+a(": ")+this.r90(c)+"%</span>":""),C=t("#difficulty_popover");C.attr("data-content",w),!o||h>=.33?C.addClass("text-danger").removeClass("gray"):C.addClass("gray").removeClass("text-danger")}static r90(e){return e==100?"100":e>.1?Math.round(e*100)/100:e>.01?Math.round(e*1e3)/1e3:e>.001?Math.round(e*1e4)/1e4:e>1e-4?Math.round(e*1e5)/1e5:e>1e-5?Math.round(e*1e6)/1e6:e>1e-6?Math.round(e*1e7)/1e7:e>1e-7?Math.round(e*1e8)/1e8:e>1e-8?Math.round(e*1e9)/1e9:e>1e-9?Math.round(e*1e10)/1e10:Math.round(e*1e11)/1e11}};var z=class{static $="LevelSelectBlock";static m69=i.L65;static re(){if(t("#"+this.$).empty(),d.a93&&location.href.indexOf("game/")!=-1)return;t("#"+this.$).append(t("<div>").append(t("<div>",{id:"levels_full",class:"pull-left hidden-xs level-select"}),t("<div>",{class:"pull-left hidden-sm hidden-md hidden-lg level-select"}).append(t("<div>",{class:"btn-group"}).append(t("<button>",{type:"button",class:"btn btn-sm btn-default btn-level-select dropdown-toggle","data-toggle":"dropdown"}).append(q.g206(this.g111(),!1),"&nbsp;",t("<span>",{class:"caret"})),t("<ul>",{id:"levels_compact",class:"dropdown-menu"}))),t("<div>",{id:"GamePanelBlock",class:"game-panel pull-right"}),t("<div>",{class:"clearfix"})));let e;this.m69==i.L66?e=[i.G71,i.G72,i.G73,i.G74,i.G75]:e=[i.G67,i.G68,i.G69,i.G70];for(let s=0;s<e.length;s++)t("#levels_full").append(this.g110(e[s],null),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t("#levels_compact").append(t("<li>").append(this.g110(e[s])));t("#level_select_"+this.g111()).addClass("active")}static g110(e){return t("<a>",{href:"javascript:void(0)",id:"level_select_"+e,class:"level-select-link"}).on("click",()=>this.s101(e)).append(q.g206(e,!1))}static s101(e){this.u88(e),this.re(),pt.re(),t("#"+se.$).is(":visible")&&bt.n77(),t("#"+S.$).is(":visible")&&S.re()}static u88(e){e>i.G89&&(e-=i.G89),U.s142("level",e),this.m69==i.L65&&i.i139(e)?this.m69=i.L66:this.m69==i.L66&&!i.i139(e)&&(this.m69=i.L65)}static g111(){let e=parseInt(U.g172("level",0))||0;return[i.G67,i.G68,i.G69,i.G70,i.G71,i.G72,i.G73,i.G74,i.G75].indexOf(e)==-1&&(e=i.G67),this.m69==i.L65&&i.i139(e)?e==i.G71?e=i.G67:e==i.G72?e=i.G68:e==i.G73?e=i.G69:e==i.G74?e=i.G69:e=i.G70:this.m69==i.L66&&!i.i139(e)&&(e==i.G67?e=i.G71:e==i.G68?e=i.G72:e==i.G69?e=i.G73:e=i.G71),e}};var Oe=class{static $="CountryFilterBlock";static c105=null;static c106=0;static c107=10;static re(){t("#"+this.$).empty().append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"country_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(this.c105?t("<span>").append(t("<img>",{src:u.f62(this.c105),class:"player-flag"}),a(this.c105)):a("stat_all_countries"),t("<span>",{class:"caret"})),t("<ul>",{id:"country_dropdown_list",class:"dropdown-menu dropdown-menu-right"}))),this.u84()}static u84(){let e=t("#country_dropdown_list").empty(),s=i.C97;s.indexOf(u.u61.country)>0&&(s.splice(s.indexOf(u.u61.country),1),s.unshift(u.u61.country)),this.c106==0?e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c108(null)).html(a("stat_all_countries")))):e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",n=>{n.stopPropagation(),this.c106-=this.c107,this.u84()}).append(t("<span>",{class:"blue"}).append('<i class="fa fa-long-arrow-left"></i> ',a("list_previous")))));for(let n=this.c106;n<this.c106+this.c107;n++)if(n<i.C97.length){let r=i.C97[n];e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c108(r)).append(t("<img>",{src:u.f62(r),class:"player-flag"}),a(r))))}this.c106+this.c107<i.C97.length&&e.append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",n=>{n.stopPropagation(),this.c106+=this.c107,this.u84()}).append(t("<span>",{class:"blue"}).append(a("list_next"),' <i class="fa fa-long-arrow-right"></i>'))))}static c108(e){this.c105=e,this.c105&&(W.s92("score"),W.c97(0),W.c100(0),W.c101(0)),S.re()}static g97(){return W.i76()?this.c105:""}};var N=class{static g158(){if(W.i76())return{title:a("seo_title_best_players"),description:a("seo_description_best_players"),hiddenSeo:!0};if(W.i78())return{title:a("ranking_best_players_year",{"%year%":Y.g107()}),hiddenSeo:!0};if(W.i77()){let s=a("month_"+(new Date().getMonth()+1)+"_");return{title:a("seo_title_season_leaders"),description:a("seo_description_season_leaders")?a("seo_description_season_leaders")+" ("+s+")":"",hiddenSeo:!0}}}static r167(e,s,n){s.append(t("<div>",{id:"BestPlayersFilterBlock"}),"<br/>",t("<div>").append(t("<div>",{class:"pull-left"}).append(n),t("<div>",{class:"pull-right"}).append(t("<div>",{id:"best_players_extra_filters"})),t("<div>",{class:"clearfix"}))),W.re()}static g160(){return{level:z.g111(),season:Y.g107(),country:Oe.g97(),sortBy:W.g94(),arenaType:W.g91(),arenaLevel:W.g92()}}};var Ai=class{static $="AllEventsBlock";static re(){H.u74({title:a("event_previous_events")}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif" class="loading-big"/>'),y.m109("EventsController.getAllEventsWsAction",[],this.r61.bind(this))}static r61(e){let s=[];for(let n=0;n<e.length;n++){let r=t("<table>");for(let l=0;l<e[n].stat.length;l++){let p=e[n].stat[l];r.append(this.r69(e[n].season,l+1,p.eventItems,p.userId,p.username,p.country))}if(e[n].myPos&&e[n].myPos>10){let l=e[n].myStat;r.append(this.r69(e[n].season,e[n].myPos,l.eventItems,l.userId,l.username,l.country))}s.push(t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"event/s"+(e[n].season-i.F84+1)}).append(a("event_title_"+e[n].season))),t("<td>").append(F.g205(e[n].season)),t("<td>").append(r)))}t("#"+this.$).empty().append(t("<h2>").append(a("event_previous_events")),"<hr/>",t("<table>",{class:"table table-bordered width-auto"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("event_event")),t("<th>").append(a("ranking_season")),t("<th>").append(a("event_leaderboard")))),t("<tbody>").append(s))),x.r226()}static r69(e,s,n,r,l,p){let o=this.g65(n);return t("<tr>").append(t("<td>",{class:"vertical-align-top"}).append(t("<span>",{class:"event-quest-place "+o}).append(s)),t("<td>",{class:"vertical-align-top",width:"100%"}).append("&nbsp;&nbsp;",b.m106(r,{username:l,country:p},"right",null,!1,!1,r==u.u61.id?"bold":"")),t("<td>",{class:"vertical-align-top text-nowrap"}).append(t("<span>",{class:"event-quest-reward "+o}).append("&nbsp;&nbsp;",b.g227(n),m.e89(i.E105[e],"micro"))))}static g65(e){return e>=2e4?"event-pos-1":e>=2e3?"event-pos-2":e>=500?"event-pos-3":e>=100?"event-pos-4":e>=10?"event-pos-5":"event-pos-6"}};var Ue=class{static s85=null;static g157(){return{getMeta:this.g158.bind(this),renderFilters:this.r167.bind(this),getColumns:this.g159.bind(this),getWidth:this.g74.bind(this),getRow:this.g80.bind(this),getStatParams:this.g160.bind(this)}}static g158(e){return location.pathname.indexOf("event")==-1?N.g158():null}static r167(e,s,n){if(location.pathname.indexOf("event")==-1)return N.r167(e,s,n);s.append(n)}static g159(){return[{class:"stat-rank-column",title:a("ranking_column_rank")},{class:"stat-user-column",title:a("ranking_column_player")},{title:location.pathname.indexOf("event")!=-1?a("candies_"+i.E105[this.s85]):a("event_points")}]}static g74(){return t(window).width()<450?"100%":"450px"}static g80(e,s){let n=e.items?e.items:{},r;if(e.season){let l=i.E105[e.season];r=t("<span>",{class:"help"}).append(t("<strong>",{class:Ai.g65(e.eventItems)}).append(e.eventItems),m.e89(l,"big"));let p=t("<span>");for(let o=i.E86,c=0;o<=i.E100;o++)n[o]&&n[o]>0&&p.append(t("<span>",{class:"text-nowrap-inline"}).append(n[o],m.e89(o,"small")),++c%3==0&&!k.i90()?"<br/>":"&nbsp;&nbsp;");r.popover({trigger:"hover",placement:"top",html:!0,content:p})}else{r=t("<span>",{class:"help"}).append(t("<span>",{class:"dotted-underline"}).append(b.g227(e.eventItems)),m.b95("icon-right"));let l={};for(let o=i.E86;o<=i.E100;o++)if(n[o]&&n[o]>0){let c=m.g213(o);c=="snowflake"?l[i.S141]===void 0?l[i.S141]=n[o]:l[i.S141]+=n[o]:c=="heart"?l[i.H112]===void 0?l[i.H112]=n[o]:l[i.H112]+=n[o]:c=="shard"?l[i.S142]===void 0?l[i.S142]=n[o]:l[i.S142]+=n[o]:c=="egg"?l[i.E101]===void 0?l[i.E101]=n[o]:l[i.E101]+=n[o]:c=="flower"?l[i.F114]===void 0?l[i.F114]=n[o]:l[i.F114]+=n[o]:c=="like"?l[i.L80]===void 0?l[i.L80]=n[o]:l[i.L80]+=n[o]:c=="icecream"?l[i.I87]===void 0?l[i.I87]=n[o]:l[i.I87]+=n[o]:c=="drink"?l[i.D83]===void 0?l[i.D83]=n[o]:l[i.D83]+=n[o]:c=="fruit"?l[i.F115]===void 0?l[i.F115]=n[o]:l[i.F115]+=n[o]:c=="pumpkin"?l[i.P160]===void 0?l[i.P160]=n[o]:l[i.P160]+=n[o]:c=="cake"?l[i.C142]===void 0?l[i.C142]=n[o]:l[i.C142]+=n[o]:c=="candy"&&(l[i.C143]===void 0?l[i.C143]=n[o]:l[i.C143]+=n[o])}let p=t("<table>",{class:"gems-popover-table"});for(let o=i.T106;o<=i.T107;o++)l[o]&&l[o]>0&&p.append(t("<tr>").append(t("<td>",{class:"text-right"}).append(l[o]),t("<td>",{class:"text-center"}).append(m.e89(o,"small")),t("<td>").append(a("candies_"+o))));r.popover({trigger:"hover",placement:"left",html:!0,content:p})}return t("<tr>",{class:e.userId==u.u61.id?"stat-my-row":""}).append(t("<td>",{class:e.userId==u.u61.id?"bold":""}).append(s),t("<td>").append(b.m106(e.userId,e,"right")),t("<td>",{class:"text-nowrap narrow-td"}).append(r))}static g160(){return location.pathname.indexOf("event")==-1?N.g160():{season:this.s85,sortBy:"eventItems"}}};var Qi=class{static $="NewTicketsDialog";static t62=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=[];for(let s=1;s<=8;s++)for(let n=1;n<=i.A68;n++){let r=i.A66+n*10+s;this.t62[r]&&e.push(t("<tr>").append(t("<td>").append(this.t62[r]),t("<td>").append(K.m92(r,null,"top",null).append('<i class="fa fa-ticket ticket ticket'+n+'"></i>L'+s)),t("<td>").append(a("arena_type_"+n)),t("<td>").append(K.g198(r)),t("<td>").append(Dt.r216(!1,r,i.A100,null))))}t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>",{"aria-hidden":"true"}).html("&times;")),t("<h4>",{class:"modal-title"}).html(a("arena_new_tickets"))),t("<div>",{class:"modal-body"}).append(t("<table>",{class:"table table-bordered no-margin"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("arena_amount")),t("<th>").append(a("arena_level")),t("<th>").append(a("arena_type")),t("<th>").append(a("arena_description")),t("<th>").append(a("arena_base_reward")))),t("<tbody>").append(e))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button"))))))}};var We=class{static $="EventShopBuyingDialog";static s144=null;static p83=null;static r181=null;static u80=null;static h67=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e;this.s144.specialItemType?e=t("<span>").append(m.t109(this.s144.specialItemType,"equipment-item-small equipment-item-type-ticket-pack equipment-item-rarity-1")," ",t("<strong>").append(a("arena_tickets_pack_"+this.s144.specialItemType)),"<br/>",Ne.r109(this.s144.specialItemType)):this.s144.itemType==i.H97?e=t("<span>").append(m.h76()," ",a("honor_points")):this.s144.itemType<=i.G128?e=t("<span>").append(m.g212(this.s144.itemType)," ",a("gem_"+this.s144.itemType)):this.s144.itemType>=i.E102&&(e=it.r123(this.s144.itemType,1,!1,"top")),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(e)),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html((this.h67?a("market_price_for_one"):a("market_price"))+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(b.g227(this.p83),t("<span>",{class:"help",title:a("candy_"+this.r181)}).tooltip({trigger:"hover"}).append(m.e89(this.r181,"big")))),this.h67?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_quantity")+a(":"))),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"event_buying_amount",type:"number",class:"form-control buying-amount",min:1,max:this.s144.amount,autocomplete:"off"}).on("input",()=>this.u117()).val(1))):"",this.h67?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_total")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(t("<span>",{class:"buying_total_price"}),t("<span>",{class:"help",title:a("candy_"+this.r181)}).tooltip({trigger:"hover"}).append(m.e89(this.r181,"big")))):"")),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"event_buy_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b69()).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),this.u117(),t("#"+this.$).on("shown.bs.modal",()=>{t("#event_buying_amount").focus()}),x.r226()}static u117(){let e=this.h67?parseInt(t("#event_buying_amount").val()):1;isNaN(e)&&(e=0),e*this.p83<=this.u80&&e<=this.s144.amount?(t(".buying_total_price").html(b.g227(e*this.p83)),t("#event_buy_btn").prop("disabled",!1)):(t(".buying_total_price").html("").append(t("<strong>",{class:"text-danger"}).append(b.g227(e*this.p83))),t("#event_buy_btn").prop("disabled",!0))}static b69(){let e;if(!this.h67)e=1;else if(e=parseInt(t("#event_buying_amount").val()),isNaN(e)||e<=0||e>this.s144.amount){t("#event_buying_amount").addClass("has-error");return}else t("#event_buying_amount").removeClass("has-error");t("#buy_item_btn").button("loading"),y.m109("EventShopController.buySlotWsAction",[this.s144.id,e],this.b87.bind(this))}static b87(e){Ne.re(),e&&(Qi.t62=e,Qi.s143()),t("#"+this.$).modal("hide")}};var Ne=class{static $="EventShopBlock";static t67=null;static e67=!0;static g79=!1;static u80=null;static p70=null;static p71=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),this.u81()}static u81(){y.m109("EventShopController.getEventShopInfoWsAction",[],this.r61.bind(this))}static r61(e,s,n,r,l){this.u80=s[e]?s[e]:0,this.p70=r,this.p71=l;let p=[];for(let g=0;g<n.length;g++){let w=n[g];p.push(this.r108(w,e))}let o=["en","de","it","fr","es","pt"].indexOf(v.l85)!=-1,c=[i.E106,i.E107,i.E108,i.E109].includes(R.g257()),f=[i.E108,i.E109].includes(R.g257());t("#"+this.$).empty().append(t("<div>").append(t("<h2>",{class:"pull-left events-title"+(o?" events-title-latin":"")}).append(t("<img>",{src:"/img/event-shop/event-shop-"+R.g258()+".svg?v=14",class:"event-shop-icon",alt:a("event_shop")}),a("event_shop")),t("<div>",{class:"pull-right"}).css("margin-top","10px").append(this.u80,t("<span>",{class:"help",title:a("candies_"+e)}).tooltip({trigger:"hover"}).append(m.e89(e,"big")),this.g79?t("<span>").append("&nbsp;",t("<a>",{"href-local":"shop",class:"gray"}).append('<i class="fa fa-plus-square"></i>')):""),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',this.e67?t("<table>",{id:"event_shop_table",class:"table table-bordered equipment-table"}).append(p):t("<div>").append('<img src="/img/events/coming-soon.png" width="144" alt="Coming soon"/>',"<br/>","<br/>","<br/>","<br/>"),this.e67?t("<div>").append(t("<p>").append(a("event_resources_recalled",{"%candies%":dt.n80(a("candies_"+e)),"%candy%":a("candy_"+e)}),c?" "+a("event_resources_recalled_activity"):"",f?" "+a("event_resources_recalled_"+gt.g223()):""),"<br/>"):"",t("<div>").append(t("<div>",{class:"pull-left"}).append('<i class="fa fa-calendar text-primary"></i> ',t("<a>",{"href-local":"previous-events"}).append(a("event_previous_events"))),t("<div>",{id:"refreshes_in_event_shop_wrapper",class:"pull-right"}).append(a("event_remaining_time"),a(": "),t("<span>",{id:"refreshes_in_event_shop"})),t("<div>",{class:"clearfix"})));let h=this.t67?lt.T82:lt.E70;lt.i85("refreshes_in_event_shop",h,null,()=>{this.re()}),x.r226()}static r108(e,s){let n=e.priceItems[s],r=this.u80>=n,l,p,o=t("<span>").append(a("event_purchase_limit"),a(": "),t("<strong>").append(e.amount));if(e.specialItemType)l=m.t109(e.specialItemType,"equipment-item-big equipment-item-type-ticket-pack equipment-item-rarity-1"),p=t("<div>").append(t("<div>",{class:"equipment-rarity-1 event-shop-product-title"}).append(a("arena_tickets_pack_"+e.specialItemType)),this.r109(e.specialItemType),"<br/>","<br/>",o);else if(e.itemType==i.H97)l=m.h76("equipment-item-big equipment-item-type-hp equipment-item-rarity-0"),p=t("<div>").append(t("<div>",{class:"equipment-rarity-0 event-shop-product-title"}).append(a("honor_points")),a("hp_info_short"));else if(e.itemType<=i.G128)l=m.g212(e.itemType,"equipment-item-big equipment-item-type-gem equipment-item-rarity-0"),p=t("<div>").append(t("<div>",{class:"equipment-rarity-0 event-shop-product-title"}).append(I.g221(e.itemType).html("").append(a("gem_"+e.itemType))),a("gems_info"),"<br/>","<br/>",o);else if(e.itemType>=i.E102){let c=T.i143(e.itemType);l=t("<a>",{"href-local":"item/"+T.i145(c)}).append(D.r204(c,"big")),p=t("<table>").append(t("<tr>").append(t("<td>",{width:"100%"}).css({"vertical-align":"middle"}).append(t("<div>",{class:"event-shop-product-title"}).append(D.m104(c,"top").append(D.r205(c,!0)),"&nbsp;&nbsp;",c.perfectLevel==1?t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default event-shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c88(e.id,-1)),t("<button>",{class:"btn btn-xs btn-default event-shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c88(e.id,1))):""),D.r206(c)),t("<td>",{class:"text-nowrap"}).css({"vertical-align":"middle"}).append("&nbsp;",t("<span>",{class:"help gray",title:a("equipment_quality")+a(": ")+c.quality+"%"}).tooltip({trigger:"hover"}).append(c.quality+"%"))))}return t("<tr>").append(t("<td>",{class:"equipment-table-column equipment-item-column text-center"}).append(t("<span>",{class:e.amount?"":"transparent"}).append(l),e.itemType&&e.itemType!=i.H97?t("<div>",{class:"text-center event-shop-swap"}).append(t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c87(e.id,-1)),t("<button>",{class:"btn btn-xs btn-default event-shop-props"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c87(e.id,1)))):""),t("<td>",{class:"equipment-table-column "+(e.amount?"":"transparent")}).append(p),t("<td>",{class:"equipment-table-column text-center equipment-price-column "+(e.amount?"":"transparent")}).append(t("<div>",{class:"text-nowrap"}).append(b.g227(n),t("<span>",{class:"help",title:a("candy_"+s)}).tooltip({trigger:"hover"}).append(m.e89(s,"big")))),t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(e.amount==0?t("<strong>",{class:"transparent"}).append(a("market_trade_state_"+i.T101)):t("<button>",{class:"btn "+(r?"btn-primary":"btn-default"),disabled:!r}).on("click",()=>this.b72(e)).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy"))))}static r109(e){let s,n;return e==i.S109?(s="L1",n=""):e==i.S110?(s="L2-4",n="L2: "+this.p70[0]+"%<br/>L3: "+this.p70[1]+"%<br/>L4: "+this.p70[2]+"%"):e==i.S111&&(s="L4-6",n="L4: "+this.p71[0]+"%<br/>L5: "+this.p71[1]+"%<br/>L6: "+this.p71[2]+"%"),t("<span>").append(a("arena_tickets_pack_description",{"%levels%":s})," ",n?t("<span>",{title:n,class:"help text-primary"}).append('<i class="fa fa-question-circle-o">').tooltip({html:!0,trigger:"hover"}):"")}static c87(e,s){t("#event_shop_table").addClass("transparent"),t(".event-shop-props").prop("disabled",!0),y.m109("EventShopController.changePropertyWsAction",[e,s],()=>{this.u81()})}static c88(e,s){t("#event_shop_table").addClass("transparent"),t(".event-shop-props").prop("disabled",!0),y.m109("EventShopController.changeGemWsAction",[e,s],()=>{this.u81()})}static b72(e){let s=e.priceItems,n=Object.keys(s)[0];We.s144=e,We.r181=n,We.p83=s[n],We.u80=this.u80,We.h67=e.itemType&&(e.itemType<=i.G128||e.itemType==i.H97),We.s143()}};var Qs=class{static $="EventCompensationDialog";static c170=null;static c171(){y.m109("EventCompensationController.checkEventCompensationWsAction",[],e=>{this.c170=e,this.s143()})}static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("event_reward_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(this.c170.activity>0?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("activity_points")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.c170.activity,m.a101("icon-right",this.c170.season))):"",this.c170.eventItems>0?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("event_reward_event_points")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.c170.eventItems,m.e89(this.c170.itemType,"small","icon-right"))):"",t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("event_reward_rewards")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.c170.compensation,m.h76("icon-right icon-small"))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var Ht=class{static $="EventsBlock";static re(){Qs.c171(),H.u74({title:a("seo_title_events"),description:a("seo_description_events"),hiddenSeo:!0});let e=R.g258();t("#"+this.$).empty().append(this.r110("/img/event/event-"+e+".svg",a("event_title_"+e),e,{})),R.i142()?(t("#"+this.$).append(t("<p>").append(a("event_finished_text")," ",t("<span>",{id:"refreshes_in_next_event_wrapper"}).append(a("event_next_in")+a(": "),t("<span>",{id:"refreshes_in_next_event"})))),lt.i85("refreshes_in_next_event",lt.T82,null,()=>{this.re()})):(a("event_text_"+e)&&t("#"+this.$).append(t("<p>").append(a("event_text_"+e),R.g256()==i.E112?'<span class="menu_events_new"></span>':"")),R.g256()==i.E112&&(t("#"+this.$).append(t("<div>",{id:ce.$})),ce.re())),t("#"+this.$).append(t("<div>",{id:S.$}),t("<div>",{id:Ne.$})),S.s130=i.S99,Ue.s85=R.g258(),S.re(),Ne.t67=R.i142(),Ne.re()}static r110(e,s,n,r){let l=["en","de","it","fr","es","pt"].indexOf(v.l85)!=-1;return t("<div>").append(t("<table>").append(t("<tr>").append(e?t("<td>").append(t("<img>",{src:e,class:"event-icon"}).css(r||{})):"",t("<td>").css("width","100%").append(t("<h2>",{class:"events-title"+(l?" events-title-latin":"")}).append(s)),n?t("<td>").append(t("<h2>",{class:"events-title"}).append(gt.r221(n,"gray"))):"")),'<hr class="event-hr"/>')}static t68(e){let s=e.toLowerCase().split(" ");for(let n=0;n<s.length;n++)s[n]=s[n].charAt(0).toUpperCase()+s[n].substring(1);return s.join(" ")}};var W=class{static $="BestPlayersFilterBlock";static s90="score";static f68=null;static s91=!1;static l65=null;static a81=0;static a82=0;static n66=!1;static re(){this.f68&&(this.s90=this.f68,this.f68=null);let e=this.g88();t("#"+this.$).empty(),this.i78()&&t("#"+this.$).append(Ht.r110("/img/event-other/best-players-year.svg",a("ranking_best_players_year",{"%year%":Y.g107()}),null)),this.i77()&&t(window).width()<600?t("#"+this.$).append(t("<div>",{class:"dropdown"}).append(t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_category")+a(": "),this.g87(this.g90()),this.g86(this.g90()),t("<span>",{class:"caret"})),t("<ul>",{id:"cats_dropdown",class:"dropdown-menu"})),"<br/>",t("<div>",{id:"SeasonFilterBlock"})):t("#"+this.$).append(t("<div>",{class:"dropdown pull-left"}).append(t("<span>",{id:"sort_by_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_category")+a(": "),this.g87(this.g90()),this.g86(this.g90()),t("<span>",{class:"caret"})),t("<ul>",{id:"cats_dropdown",class:"dropdown-menu"})),this.i76()?t("<div>",{class:"pull-right"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"CountryFilterBlock"})):"",this.i77()?t("<div>",{class:"pull-right"}).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"SeasonFilterBlock"})):"",t("<div>",{class:"clearfix"})),this.u83(),t("#best_players_extra_filters").empty(),this.g90()=="score"?t("#best_players_extra_filters").append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"show_all",type:"checkbox"}).prop("checked",this.s91).on("change",()=>this.c99()),t("<span>").append(a("ranking_show_all")))):this.g90()=="rewardsAll"&&this.i77()?t("#best_players_extra_filters").append(t("<a>",{"href-local":"help/achievements#s"+(Y.g106()-i.F84+1)}).append(a("rewards_my_progress"))):this.g90()=="timePoints"?t("#best_players_extra_filters").append(t("<div>",{class:"pull-right"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"nf_only",type:"checkbox"}).prop("checked",this.g93()).on("change",()=>this.c102()),t("<span>").append(a("ranking_nf_only"))))):e&&!Oe.g97()?t("#best_players_extra_filters").append(t("<div>",{class:"dropdown pull-right"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("ranking_level")+a(": "),e[this.g84()],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[];for(let n in e){let r=e[n];s.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c97(n)).append(r)))}return s})()))):this.g90()=="arena"&&!Oe.g97()&&t("#best_players_extra_filters").append(t("<div>",{class:"dropdown pull-right hidden-xs"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("arena_level")+a(": "),this.g92()==0?a("ranking_level_all"):"L"+this.g92(),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[],n=this.g91()==0?0:8;for(let r=0;r<=n;r++)s.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c101(r)).append(r==0?a("ranking_level_all"):"L"+r)));return s})())),t("<div>",{class:"dropdown pull-right"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("arena_type")+a(": "),this.g91()==0?a("ranking_level_all"):a("arena_type_"+this.g91()),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let s=[];for(let n=0;n<=10;n++)s.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c100(n)).append(n==0?a("ranking_level_all"):a("arena_type_"+n))));return s})()),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")),Y.e71=!1,Y.re(),Oe.re()}static u83(e){t("#cats_dropdown").empty();let s=Y.g107(),n,r=e||this.s90,l=s>0||["score","timePoints","effPoints","exp","quality","coinsSeason","mastery","ws","arena","diff","end"].indexOf(r)!=-1;l?s==0?n=["score","timePoints","effPoints","exp","quality","mastery","ws","arena","diff","end"]:i.i137(s)?n=["score","timePoints","effPoints","exp","coinsSeason","mastery","ws","arena","diff","end","rewardsAll"]:n=["score","timePoints","exp","coinsSeason","mastery","ws","arena","diff","end","wins","rewardsAll"]:n=["wins","coinsAll","gemsAll","ticketScoreAll","questScoreAll","activityTotal","eventItems","arenaCoinsAll"];let p=[];for(let o=0;o<n.length;o++){let c=n[o];p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c98(c)).append(this.g87(c),this.g86(c))))}this.i76()&&!Oe.g97()&&p.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",o=>{o.stopPropagation(),this.u83(l?"coinsAll":"score")}).append(t("<span>",{class:"blue"}).append(l?a("ranking_other_cats")+' <i class="fa fa-long-arrow-right"></i>':' <i class="fa fa-long-arrow-left"></i> '+a("ranking_trophy_cats"))))),t("#cats_dropdown").append(p)}static g86(e){return{score:a("ranking_category_score"),timePoints:a("ranking_category_time"),effPoints:a("game_eff"),exp:a("ranking_category_exp"),quality:a("ranking_category_equipment"),coinsSeason:a("ranking_category_coins"),mastery:a("ranking_category_mastery"),ws:a("ranking_category_ws"),arena:a("ranking_category_arena"),diff:a("ranking_category_diff"),end:a("ranking_category_end"),wins:a("ranking_category_wins"),rewardsAll:a("ranking_category_rewards"),coinsAll:a("ranking_category_coins"),gemsAll:a("game_gems"),ticketScoreAll:a("arena_tickets"),questScoreAll:a("quests_title"),activityTotal:a("activity_points"),eventItems:a("event_points"),arenaCoinsAll:a("arena_coins")}[e]}static g87(e){let s=Y.g107();return{score:m.s176(s,"icon-filter"),timePoints:m.t105("icon-filter"),effPoints:m.e87("icon-filter"),exp:m.e85("icon-filter"),coinsSeason:m.c199("icon-filter"),quality:m.e88("icon-filter"),arena:m.a103("icon-filter"),diff:m.d76(null,!1,"icon-filter"),mastery:m.m103("icon-filter"),ws:m.w68("icon-filter"),end:m.e86("icon-filter"),wins:m.w69("icon-filter"),rewardsAll:m.r200("icon-filter"),coinsAll:m.c199("icon-filter"),gemsAll:m.g212(0,"icon-filter"),ticketScoreAll:m.t107("icon-filter"),questScoreAll:m.q65("icon-filter"),activityTotal:m.a101("icon-filter"),eventItems:s==R.g257()?m.e89(R.g260(),"big","icon-left"):m.b95("icon-filter"),arenaCoinsAll:m.a102(0,"icon-filter")}[e]}static g88(){let e=null;return["mastery","ws"].indexOf(this.s90)!=-1?e={0:a("ranking_level_all"),1:a("level_1"),2:a("level_2"),3:a("level_3"),NHPoints:a("ranking_no_hints")}:this.s90=="end"?e={0:a("ranking_level_all"),1:a("level_1"),2:a("level_2"),3:a("level_3")}:this.s90=="wins"&&(e={0:a("ranking_level_all"),1:a("level_1"),2:a("level_2"),3:a("level_3"),4:a("level_4"),11:a("level_11")+" NG",12:a("level_12")+" NG",13:a("level_13")+" NG",14:a("level_14")+" NG",15:a("level_15")+" NG"}),e}static s92(e){this.s90=e}static c98(e){this.s90=e,this.l65=null,S.re()}static c99(){this.s91=t("#show_all").prop("checked"),t(".best-players-score-short, .best-players-score-full").toggleClass("hide")}static g89(){return this.s91}static c97(e){this.l65=e,S.re()}static c100(e){this.a81=e,S.re()}static c101(e){this.a82=e,S.re()}static g90(){let e=Y.g106();return e==0&&this.s90=="coinsSeason"?"quality":e!=0&&this.s90=="quality"?"coinsSeason":this.s90}static g84(){if(!this.l65){let e=this.g88();this.l65=Object.keys(e)[0]}return this.l65}static g91(){return this.a81}static g92(){return this.a82}static g93(){return this.n66}static c102(){this.n66=t("#nf_only").prop("checked"),S.re()}static g94(){if(["mastery","ws","end","wins"].indexOf(this.g90())!=-1){let e=this.g84();return e=="0"&&(this.g90()=="wins"?e="All":e="BestPoints"),this.g90()+e}return this.g90()=="timePoints"&&this.g93()?"nfPoints":this.g90()}static i76(){return location.href.indexOf("best-players-")==-1&&location.href.indexOf("best-players")!=-1}static i77(){return location.href.indexOf("season-leaders")!=-1}static i78(){return location.href.indexOf("best-players-")!=-1}};var q=class _{static m94(e,s,n,r,l,p){return t("<nobr>").append(t("<a>",{"href-local":"game/"+e,class:p}).append(m.t105((l?"icon-small":"")+" level"+s),r?Math.floor(n/1e3):(n/1e3).toFixed(3)))}static m95(e,s){s||(s="top");let n=(e.state===void 0||e.state==i.G99)&&!e.effStrong&&!e.bbbvsStrong;return t("<span>",{class:"custom-popover"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:t("<div>",{class:"custom-popover-content"}).append(e.userId?t("<div>").append(t("<img>",{src:u.f62(e.country),class:"player-flag",alt:e.country}),t("<a>",{"href-local":"player/"+e.userId}).text(b.g225(e.userId,e.username))):"",e.state!==void 0?t("<div>").append(a("game_state")+a(": "),this.g162(e.state,e.level,"icon-state-info"),this.g163(e.state)):"",e.category?t("<div>").append(a("ranking_category")+a(": ")+e.category):"",e.season&&e.season<i.U65?t("<div>").append(a("ranking_year")+a(": ")+e.season):"",e.season&&e.season>i.U65?t("<div>").append(a("ranking_season")+a(": ")+F.g205(e.season,!1)):"",e.rank?t("<div>").append(a("ranking_column_rank")+a(": ")+'<span class="'+this.g208(e.rank)+' custom-popover-rank-label">'+b.g227(e.rank)+"</span>"):"",e.score?t("<div>").append(a("ranking_column_score")+a(": ")+e.score+m.s176(e.season,"icon-little icon-right")):"",e.level?t("<div>").append(a("ranking_column_level")+a(": ")+a("level_"+e.level)+([i.G71,i.G72,i.G73,i.G74].indexOf(e.level)!=-1?" NG":"")):"",e.sizeX&&[i.G70,i.G75].indexOf(e.level)!=-1?t("<div>").append(a("ranking_column_size")+a(": ")+e.sizeX+"x"+e.sizeY+"/"+e.mines+"<br/>"):"",e.endLevel?t("<div>").append(a("ranking_column_wins")+a(": ")+i.U73+'<span class="endurance-x">x</span>'+a("level_"+e.endLevel)):"",e.endTime?t("<div>").append(a("ranking_column_time")+a(": ")+"<strong>"+_.g211(e.endTime,!0,!0)+"</strong>"):"",e.realDiff&&[i.G70,i.G75].indexOf(e.level)!=-1?t("<div>").append(a("ranking_column_diff")+a(": ")+b.g227(e.realDiff)):"",e.mastery?t("<div>").append(a("ranking_column_wins")+a(": ")+"<strong>"+e.mastery+'</strong><span class="endurance-x">/</span>'+i.U71):"",e.ws?t("<div>").append(a("ranking_column_ws")+a(": ")+"<strong>"+e.ws+"</strong>"):"",e.avgTime?t("<div>").append(a("ranking_column_average_time")+a(": ")+e.avgTime):"",e.effStrong?t("<div>").append(a("game_eff")+a(": ")+"<strong>"+e.effStrong+'<span class="eff-percent">%</span></strong>'):"",e.duration?t("<div>").append(a("ranking_column_time")+a(": ")+(n?"<strong>":"")+(e.duration/1e3).toFixed(3)+(n?"</strong>":"")+" "+a("time_seconds_short")):"",e.bbbvDone&&e.bbbvDone<e.bbbv?t("<div>").append(a("game_estimated_time")+a(": ")+(Math.round(e.duration*e.bbbv/e.bbbvDone)/1e3).toFixed(3)):"",e.bbbv?t("<div>").append("3BV: "+(e.bbbvDone&&e.bbbvDone<e.bbbv?e.bbbvDone+" / ":"")+e.bbbv):"",e.bbbvs?t("<div>").append("3BV/s: "+(e.bbbvs/1e6).toFixed(3)):"",e.bbbvsStrong?t("<div>").append("3BV/s: <strong>"+(e.bbbvsStrong/1e6).toFixed(3)+"</strong>"):"",e.eff?t("<div>").append(a("game_eff")+a(": ")+e.eff+'<span class="eff-percent">%</span>'):"",e.hints?t("<div>").append(a("game_hints")+a(": ")+e.hints):"",e.exp?t("<div>").append(a("ranking_column_exp")+a(": ")+"<strong>"+b.g227(e.exp)+"</strong>"):"",e.coins?t("<div>").append(a("ranking_column_coins")+a(": ")+"<strong>"+b.g227(e.coins)+"</strong>"):"",e.arenaPoints?t("<div>").append(a("arena_points")+a(": ")+"<strong>"+e.arenaPoints+"</strong>"):"",e.wins?t("<div>").append(a("ranking_column_wins")+a(": ")+"<strong>"+b.g227(e.wins)+"</strong>"):"",e.rewards?t("<div>").append(a("ranking_column_rewards")+a(": ")+"<strong>"+b.g227(e.rewards)+"</strong>"):"",e.eventItems?t("<div>").append(a("candies_"+R.g260())+a(": ")+"<strong>"+e.eventItems+"</strong>"):"",e.finishedAt?t("<div>",{class:"gray"}).append(e.mobile?'<span class="glyphicon glyphicon-phone icon-mobile gray"></span> ':"",F.g202(e.finishedAt)):"",e.quality?t("<span>").append(a("equipment_eq_quality")+a(": ")+"<strong>"+Math.min(100,e.quality)+"%</strong>",e.quality==100&&a("equipment_eq_level")?t("<div>").append(a("equipment_eq_level")+a(": ")+"<strong>L"+T.g271(e.eq)+"</strong>"):""):"",e.eq?t("<div>").append('<hr class="narrow-hr"/>',D.r207(T.g273({eq:e.eq,boosts:e.boosts?e.boosts:{}}))):"",e.arenaResults?t("<div>").append(function(r){let l=[];for(let p=0;p<r.length;p++){let o=r[p],c=Math.floor((o.type-i.A66)/10),f=(o.type-i.A66)%10;l.push('<i class="fa fa-ticket ticket ticket'+c+'"></i>L'+f,o.mode==i.A101?"E":""," ",K.g200(o.duration,o.state),"<br/>")}return l}(e.arenaResults)):"")})}static m96(e,s,n,r){if(!e)return"";let l=0,p=0;for(let c in e)c<=i.G128&&(l+=e[c],p++);if(l==0)return"";let o=t("<table>",{class:"gems-popover-table"});for(let c in e)c<=i.G128&&e[c]!=0&&o.append(t("<tr>").append(t("<td>",{class:"text-right"}).append(b.g227(e[c])),t("<td>",{class:"text-center"}).append(m.g212(c)),t("<td>").append(a("gem_"+c))));return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:o}).append(t("<span>",{class:n?"dotted-underline":""}).append(b.g227(l)),r?"":m.g212(0,"icon-right"))}static m97(e,s,n,r){if(!e)return"";let l=0,p=0;for(let f in e)f>=i.A105&&f<=i.A117&&(l+=e[f],p++);if(l==0)return"";let o=t("<table>",{class:"gems-popover-table"}),c=[i.A107,i.A108,i.A109,i.A110,i.A111,i.A112,i.A113,i.A114,i.A115,i.A116,i.A106];for(let f=0;f<c.length;f++){let h=c[f];h>=i.A105&&h<=i.A117&&e[h]&&o.append(t("<tr>").append(t("<td>",{class:"text-right text-nowrap"}).append(b.g227(e[h])),t("<td>",{class:"text-center"}).append(m.a102(h)),t("<td>",{class:"text-nowrap"}).append(a("arena_coins_short_"+h))))}return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:o}).append(t("<span>",{class:n?"dotted-underline":""}).append(b.g227(l)),r?"":m.a102(0,"icon-right"))}static m98(e,s){if(!e)return"";let n=0;for(let l in e)l>=i.A67&&l<=i.A68&&e[l]>0&&(n+=e[l]);if(n==0)return"";let r=t("<div>");for(let l=1;l<=8;l++)for(let p=1;p<=i.A97;p++){let o=i.A66+p*10+l;e[o]>0&&r.append(t("<span>",{class:"text-nowrap-inline"}).append('<i class="fa fa-ticket ticket ticket'+p+'"></i>L'+l+'<span class="tickets-amount">('+e[o]+")</span>"))}return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:r}).append(t("<span>").append(n),'<i class="fa fa-ticket ticket-right ticket0"></i>')}static m99(e,s){if(!e)return"";let n=[i.P126,i.P127,i.P128,i.P129,i.P130,i.P131,i.P132,i.P133,i.P134,i.P135,i.P136,i.P137,i.P138],r=t("<table>",{class:"gems-popover-table"}),l=0;for(let p=0;p<n.length;p++){let o=n[p];e[o]>0&&(l+=e[o],r.append(t("<tr>").append(t("<td>",{class:"text-right"}).append(t("<span>",{class:"equipment-rarity-"+T.g275(o)}).append(e[o])),t("<td>",{class:"text-nowrap-inline"}).append(m.p95(o)," ",t("<span>",{class:"equipment-rarity-"+T.g275(o)}).append(a("equipment_parts_"+o))))))}return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:r}).append(l,m.p96(0))}static m100(e,s,n){if(!e)return"";let r=t("<table>",{class:"gems-popover-table"}),l=0;for(let p=i.T86;p<=i.T95;p++)if(e[p]>0){let o=e[p];s[p-i.T85]&&(o-=s[p-i.T85]),o>0&&(l+=o,r.append(t("<tr>").append(t("<td>",{class:"text-right"}).append(o),t("<td>",{class:"text-nowrap-inline"}).append(m.t108(p)," ",a("emc_token")+" ["+(p-i.T85)+"]"))))}return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:n,html:!0,content:r}).append(l,m.t108(0,"icon-right"))}static m101(e,s){if(!e)return"";let n=t("<div>");e[i.A103]>0&&n.append(t("<div>").append(e[i.A103],m.a101("icon-right")," ",gt.r220()));let r=R.g260();return e[r]>0&&n.append(t("<div>").append(e[r],m.e89(r,"small","icon-right")," ",gt.r220())),t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:s,html:!0,content:n}).append('<img src="/img/other/other-items.svg" class="other-items-icon"></i>')}static m102(e,s,n){if(!e)return"";let r=D.g215(e,s),l=0;for(let o=0;o<r.length;o++)l+=1;if(l==0)return"";let p=t("<table>",{class:"storage-popover-table"});for(let o=0;o<r.length;o++)p.append(t("<tr>").append(t("<td>").append(D.r204(r[o],"small")),t("<td>").append(D.r205(r[o],!1),t("<span>",{class:"gray"}).append(" ("+(T.g268(r[o])<=3?r[o].quality+"%":"100%")+")"))));return t("<span>",{class:"help text-nowrap-inline"}).popover({container:"body",trigger:"hover",placement:n,html:!0,content:p}).append(t("<span>").append(l),'<img src="/img/eq.svg" class="eq-icon"/>')}static g206(e,s,n){let r=t("<span>").append((n?a("level_"+e+"_article")+" ":"")+a("level_"+e));return s&&i.i139(e)&&r.append(" ",t("<abbr>",{title:a("ng"),class:"tooltip-extra"}).tooltip({trigger:"hover"}).html("NG")),r}static g207(e,s,n){let r=n?"label label-lightgray":this.g208(s);return r?t("<a>",{class:r+" top-badge"}).html("TOP "+s).on("click",()=>this.g209(e)):""}static g208(e){return e===void 0||e==0?"":e<=100?"label label-danger":e<=1e3?"label label-warning":e<=1e4?"label label-unique":e<=4e4?"label label-primary":e<=1e5?"label label-success":""}static g209(e){e=="events"?x.n81("events",!0):e=="season-leaders"?(W.s90="score",W.l65=null,x.n81("season-leaders",!0)):(W.s90=e,W.l65=null,x.n81("best-players",!0))}static g210(e,s,n,r){return[i.G70,i.G75].indexOf(e)!=-1?t("<span>",{class:"gray"}).html(" ("+s+"x"+n+"/"+r+")"):""}static g211(e,s,n){let r=i.S79-e,l=Math.floor(r/60/60/1e3),p=Math.floor(r%(60*60*1e3)/60/1e3),o=Math.round(r%(60*1e3)/1e3);if(!n&&["en","ru","fr","es","pt"].indexOf(v.l85)!=-1){let c="h",f="m",h="s";return v.l85=="ru"&&(c="\u0447",f="\u043C",h="\u0441"),l>0?s?l+c+" "+p+f:l+c:s?p+f+" "+o+h:p+f}else return p<10&&(p="0"+p),o<10&&(o="0"+o),s?l+":"+p+":"+o:l+":"+p}static g162(e,s,n){return e==i.G96||e==i.G97?s<i.G89?'<i class="fa fa-play-circle text-primary icon-state '+n+'"></i>':'<i class="fa fa-rotate-right text-primary icon-state '+n+'"></i>':e==i.G98||e==i.G100?'<i class="fa fa-times-circle text-danger icon-state '+n+'"></i>':e==i.G99?'<i class="fa fa-check-circle text-success icon-state '+n+'"></i>':e==i.G111?'<i class="fa fa-rotate-right text-danger icon-state '+n+'"></i>':e==i.G112?'<i class="fa fa-rotate-right text-success icon-state '+n+'"></i>':'<i class="fa fa-exclamation-circle text-warning icon-state '+n+'"></i>'}static g163(e){return e==i.G96||e==i.G97?a("game_state_in_progress"):e==i.G98||e==i.G111||e==i.G100?a("game_state_defeat"):e==i.G99||e==i.G112?a("game_state_win"):a("game_state_error")}};var b=class _{static R64=200;static P65=200;static m106(e,s,n,r,l,p,o){let c=e+(Math.random()*1e6|0)+"",f={id:"player_link_"+c};l==!0?f.href=v.l86+"/player/"+e:l=="_blank"?(f.href=v.l86+"/player/"+e,f.target="_blank"):f["href-local"]="player/"+e;let h=t("<a>",f).text(this.g225(e,s.username));if(o&&h.addClass(o),l==!0&&h.on("click",w=>{w.preventDefault(),t("#player_link_"+c).popover("destroy")}),t(window).width()>ot.W62){let w=t("<span>",{class:"text-nowrap"}).append(s.country?t("<img>",{src:u.f62(s.country),class:"player-flag"}):"",t("<span>").text(this.g225(e,s.username)))[0].outerHTML;h.attr("title",w);let C={trigger:"hover",placement:n,html:!0,content:()=>(setTimeout(()=>{t("#player_popover_loading_"+c).is(":visible")&&y.m109("UserInfoController.getUserInfoWsAction",[c,e],(A,M,P,B,L,mt,j,zt,re)=>{setTimeout(()=>{this.r222(A,M,P,B,mt,j,zt,re)},this.P65)})},this.R64),'<img id="player_popover_loading_'+c+'" src="/img/loading_small.gif" class="loading-small"/> '+a("loading")+"...")};r&&(C.container=r),h.popover(C)}let g;return p&&i.A121.indexOf(e)!=-1?g=t("<img>",{src:"/img/chat/gm_"+e+".svg?v=18",class:"admin-icon help admin_"+e,title:a("administrator")}).tooltip({trigger:"hover"}):p&&i.G133.indexOf(e)!=-1?g=t("<img>",{src:"/img/chat/gm_"+e+".svg?v=18",class:"gm-icon help gm_"+e,title:a("game_master")}).tooltip({trigger:"hover"}):p&&i.S114.indexOf(e)!=-1?g=t("<img>",{src:"/img/chat/so_"+e+".svg?v=18",class:"so-icon help so_"+e,title:a("security_officer")}).tooltip({trigger:"hover"}):g=t("<img>",{src:u.f62(s.country),class:"player-flag help",title:a(s.country)}).tooltip({trigger:"hover"}),t("<nobr>").append(g,h,s.online?t("<i>",{id:"spectate_icon_"+e,class:"fa fa-circle icon-online",title:a("watching_player_is_online")}).tooltip({trigger:"hover"}).on("click",()=>{t("#spectate_icon_"+e).removeClass("fa-circle").addClass("fa-spinner fa-spin icon-online-active"),$t.s127(e,s)}):"")}static r222(e,s,n,r,l,p,o){let c=t("<table>",{class:"player-popover-table"}),f=null,h=null,g=null;n&&(f=n.masteryBestId==n.mastery1Id?1:n.masteryBestId==n.mastery2Id?2:n.masteryBestId==n.mastery3Id?3:null,h=n.wsBestId==n.ws1Id?1:n.wsBestId==n.ws2Id?2:n.wsBestId==n.ws3Id?3:null,g=n.endBestId==n.end1Id?1:n.endBestId==n.end2Id?2:n.endBestId==n.end3Id?3:null);let w=n&&n.eq?n.eq:[],C=T.g271(w),A=r&&(r.score||r.eventItems);c.append(n&&n.score>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_military_rank")+a(":"))),t("<td>").append("&nbsp;&nbsp;"),t("<td>").append(n.score?a(et.g279(n.score)):"\u2014")):"",n&&n.score>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_score")+a(":"))),t("<td>"),t("<td>").append(n.score,m.s176(0,"icon-right icon-small"),q.g207("score",n.scoreRank))):"",n&&n.timeLevel?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_best_time")+a(":"))),t("<td>"),t("<td>").append(l[1]!==void 0?t("<span>",{class:n.timeLevel==1?"level1-link":""}).append(m.t105("icon-small level1"),Math.floor(l[1].duration/1e3)):"",l[1]!==void 0>1&&(l[2]!==void 0||l[3]!==void 0)?'<span class="profile-space"> </span>':"",l[2]!==void 0?t("<span>",{class:n.timeLevel==2?"level2-link":""}).append(m.t105("icon-small level2"),Math.floor(l[2].duration/1e3)):"",l[2]!==void 0&&l[3]!==void 0?'<span class="profile-space"> </span>':"",l[3]!==void 0?t("<span>",{class:n.timeLevel==3?"level3-link":""}).append(m.t105("icon-small level3"),Math.floor(l[3].duration/1e3)):"",[i.G67,i.G68,i.G69].indexOf(n.timeLevel)==-1?t("<span>").append('<span class="profile-space"> </span>',m.t105("icon-small level"+n.timeLevel),Math.floor(n.timeDuration/1e3)):"")):"",n&&n.effLevel?t("<tr>").append(t("<td>").append(t("<strong>").html(a("game_eff")+a(":"))),t("<td>"),t("<td>").append(t("<span>",{class:"level"+n.effLevel+"-link"}).append(m.e87("icon-small level"+n.effLevel),p[n.effLevel].eff+"%"))):"",t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_exp")+a(":"))),t("<td>").append("&nbsp;&nbsp;"),t("<td>").append(n?t("<span>").append(_.g227(n.exp),m.e85("icon-right icon-small")):"",n?"":t("<span>").append(o==-1?"n/a":_.g227(o),o>0?m.e85("icon-right icon-small"):""))),n&&n.quality>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_equipment")+a(":"))),t("<td>"),t("<td>").append(m.e88("icon-small"),t("<span>",{class:"equipment-rarity-"+D.e90(n.quality)}).append(Math.min(100,n.quality)+"%",C&&n.quality>=100?t("<span>").append(" L"+C):""))):"",n&&(n.mastery1>1||n.mastery2>1||n.mastery3>1)?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_mastery")+a(":"))),t("<td>"),t("<td>").append(n.mastery1>1?t("<span>",{class:f==1?"level1-link":""}).append(m.m103("icon-small mastery1"),n.mastery1):"",n.mastery1>1&&(n.mastery2>1||n.mastery3>1)?'<span class="profile-space"> </span>':"",n.mastery2>1?t("<span>",{class:f==2?"level2-link":""}).append(m.m103("icon-small mastery2"),n.mastery2):"",n.mastery2>1&&n.mastery3>1?'<span class="profile-space"> </span>':"",n.mastery3>1?t("<span>",{class:f==3?"level3-link":""}).append(m.m103("icon-small mastery3"),n.mastery3):"")):"",n&&(n.ws1>1||n.ws2>1||n.ws3>1)?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_ws")+a(":"))),t("<td>"),t("<td>").append(n.ws1>1?t("<span>",{class:h==1&&(n.ws2>1||n.ws3>1)?"level1-link":""}).append(m.w68("icon-small ws1"),n.ws1):"",n.ws1>1&&(n.ws2>1||n.ws3>1)?'<span class="profile-space"> </span>':"",n.ws2>1?t("<span>",{class:h==2&&(n.ws1>1||n.ws3>1)?"level2-link":""}).append(m.w68("icon-small ws2"),n.ws2):"",n.ws2>1&&n.ws3>1?'<span class="profile-space"> </span>':"",n.ws3>1?t("<span>",{class:h==3&&(n.ws1>1||n.ws2>1)?"level3-link":""}).append(m.w68("icon-small ws3"),n.ws3):"")):"",n&&n.arenaPoints>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("arena_points")+a(":"))),t("<td>"),t("<td>").append(m.a103("icon-small"),n.arenaPoints)):"",n&&n.diff>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_diff")+a(":"))),t("<td>"),t("<td>").append(m.d76(n.diff,!1),"&nbsp;",_.g227(Math.floor(n.diff)))):"",n&&n.endBestPoints>0?t("<tr>").append(t("<td>").append(t("<strong>").html(a("profile_end")+a(":"))),t("<td>"),t("<td>").append(m.e86("icon-small end"+g),q.g211(n["end"+g],!0))):"",A?t("<tr>").append(t("<td>").append(t("<strong>").html(a("season")+" "+gt.g224(r.season)+a(":"))),t("<td>"),t("<td>").append(r.score?_.m108(s,r,r.season,"right").append(r.score,m.s176(r.season,"icon-small icon-right")):"","&nbsp;&nbsp;",r.eventItems?t("<a>",{"href-local":"events",class:"black-link no-underline"}).append(r.eventItems,m.e89(R.g260(),"small")):"")):"");let M=c[0].outerHTML;t("#player_link_"+e).attr("data-content",M),t("#player_popover_loading_"+e).is(":visible")&&t("#player_link_"+e).popover("show")}static g225(e,s){return s||a("anonymous")+e+(e==u.u61.id?" ("+a("you")+")":"")}static g226(e,s,n){let r=t("<nobr>");for(let l=0;l<i.A102.length;l++){let p=i.A102[l],o="reward_"+p+"_description";if(p==i.R83&&n>i.U65&&(o="reward_"+p+"_description_season"),e.indexOf(p)!=-1){let c=t("<img>",{src:"/img/rewards/"+i.R107[p],class:"reward reward"+p+(s?" "+s:""),title:a("reward_"+p+"_name"),alt:a("reward_"+p+"_name")}).popover({trigger:"hover",placement:"top",html:!0,content:a(o)});k.i90()||c.on("click",()=>x.n81("help/achievements",!0)),r.append(c)}}return r}static g227(e){return e>=1e3?Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):e}static g228(e,s){return e>=1e9?Math.floor(e/1e9*10)/10+"B":e>=1e7?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e6*10)/10+"M":e>=1e4?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/1e3*10)/10+"K":e==0?"":s?'<span class="gray">'+e+"</span>":e}static u136(){u.u61.username?t(".header_username").text(u.u61.username):t(".header_username").text(a("anonymous")+u.u61.id)}static m107(e,s){let n=t("<span>").append(a(et.g279(e)))[0].outerHTML,r=Math.min(7,Math.floor(e/100))+1;return t("<span>",{class:"help",title:n}).popover({trigger:"hover",placement:"right",html:!0,content:t("<div>",{class:"custom-popover-content popover-min-width"}).append(a(et.g279(e)+"_required")!=et.g279(e)+"_required"?t("<div>").append(a(et.g279(e)+"_required")):t("<div>").append(t("<div>").append(t("<strong>").append(a("ranks_scores_required")),a(": "),t("<nobr>").append(e<100?1:et.g280(et.g279(e)),m.s176(0,"icon-small icon-right"))),s?t("<div>").append(t("<strong>").append(a("ranks_bonuses")),a(": "),"<br/>",a("arena_title")+a(": ")+"L"+(r==1?"1":"1-"+r),"<br/>",a("quests_title")+a(": ")+"L"+bi.g109(e)):""))})}static m108(e,s,n,r){if(!s.score)return t("<span>");let l=t("<span>").append(t("<img>",{src:u.f62(e.country),class:"player-flag"}),t("<span>").text(_.g225(s.userId,e.username)))[0].outerHTML,p=t("<table>",{class:"table table-bordered score-popover-table"}).append(s.timeScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_time")),t("<td>",{class:"text-nowrap"}).append(m.t105("icon-small level"+s.timeLevel),Math.floor(s.timeDuration/1e3)),t("<td>",{class:"text-nowrap"}).append(s.timeScore,m.s176(n,"icon-small icon-right "))):"",i.i137(s.season)&&s.effScore>0?t("<tr>").append(t("<td>").append(a("game_eff")),t("<td>",{class:"text-nowrap"}).append(m.e87("icon-small level"+s.effLevel),s.effEff+"%"),t("<td>",{class:"text-nowrap"}).append(s.effScore,m.s176(n,"icon-small icon-right "))):"",s.expScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_exp")),t("<td>",{class:"text-nowrap"}).append(m.e85("icon-small icon-left"),_.g228(s.exp,!1)),t("<td>",{class:"text-nowrap"}).append(s.expScore,m.s176(n,"icon-small icon-right "))):"",s.season!=0&&s.coinsSeasonScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_coins")),t("<td>",{class:"text-nowrap"}).append(m.c199("icon-small icon-left"),_.g228(s.coinsSeason,!1)),t("<td>",{class:"text-nowrap"}).append(s.coinsSeasonScore,m.s176(n,"icon-small icon-right "))):"",s.season==0&&s.quality>0?t("<tr>").append(t("<td>").append(a("profile_equipment")),t("<td>",{class:"text-nowrap"}).append(m.e88("icon-small"),s.quality<=100?s.quality+"%":"",s.quality>100?"L"+T.g271(s.eq):""),t("<td>",{class:"text-nowrap"}).append(s.qualityScore,m.s176(n,"icon-small icon-right "))):"",s.masteryScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_mastery")),t("<td>",{class:"text-nowrap"}).append(m.m103("icon-small mastery"+s.masteryLevel),s["mastery"+s.masteryLevel]),t("<td>",{class:"text-nowrap"}).append(s.masteryScore,m.s176(n,"icon-small icon-right "))):"",s.wsScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_ws")),t("<td>",{class:"text-nowrap"}).append(m.w68("icon-small ws"+s.wsLevel),s["ws"+s.wsLevel]),t("<td>",{class:"text-nowrap"}).append(s.wsScore,m.s176(n,"icon-small icon-right "))):"",s.arenaPoints>0?t("<tr>").append(t("<td>").append(a("arena_points")),t("<td>",{class:"text-nowrap"}).append(m.a103("icon-small"),s.arenaPoints),t("<td>",{class:"text-nowrap"}).append(s.arenaScore,m.s176(n,"icon-small icon-right "))):"",s.diffScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_diff")),t("<td>",{class:"text-nowrap"}).append(m.d76(s.diff)," ",_.g228(Math.floor(s.diff),!1)),t("<td>",{class:"text-nowrap"}).append(s.diffScore,m.s176(n,"icon-small icon-right "))):"",s.endScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_end")),t("<td>",{class:"text-nowrap"}).append(m.e86("icon-small end"+s.endLevel),q.g211(s["end"+s.endLevel],!0)),t("<td>",{class:"text-nowrap"}).append(s.endScore,m.s176(n,"icon-small icon-right "))):"",s.season>0&&!i.i137(s.season)&&s.winsScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_wins")),t("<td>",{class:"text-nowrap"}).append(m.w69("icon-small"),_.g228(s.winsAll,!1)),t("<td>",{class:"text-nowrap"}).append(s.winsScore,m.s176(n,"icon-small icon-right "))):"",s.rewardsScore>0?t("<tr>").append(t("<td>").append(a("ranking_column_rewards")),t("<td>",{class:"text-nowrap"}).append(m.r200("icon-small"),_.g228(s.rewardsAll,!1)),t("<td>",{class:"text-nowrap"}).append(s.rewardsScore,m.s176(n,"icon-small icon-right "))):"")[0].outerHTML;return t("<span>",{class:"help",title:l}).popover({trigger:"hover",placement:r,html:!0,content:p})}static p98(e){return k.i90()?(e["href-local"]&&delete e["href-local"],t("<span>",e)):t("<a>",e)}};var Xe=class{static $="BanDialog";static u61=null;static b84=null;static s143(){y.m109("AdminController.getChatBansWsAction",[this.u61.id],e=>{this.b84=e,this.re(),t("#"+this.$).modal("show")})}static re(){let e=[];for(let s=0;s<this.b84.bans.length;s++){let n=this.b84.bans[s];e.push(t("<tr>").append(t("<td>").append(F.g202(n.createdAt)),t("<td>").append(n.period),t("<td>").append(n.username),t("<td>").append(n.comment)))}t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append("Chat ban: ",b.m106(this.u61.id,this.u61,"right"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Ban history:"),t("<div>",{class:"col-xs-7 form-text"}).append(e.length>0?t("<table>",{class:"table table-bordered"}).append(t("<tr>").append(t("<th>").append("Date"),t("<th>").append("Days"),t("<th>").append("Initiator"),t("<th>").append("Comment")),e):"\u2014")),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Ban period:"),t("<div>",{class:"col-xs-3"}).append(t("<select>",{id:"ban_period",class:"form-control"}).append(t("<option>",{value:1}).append("1 day"),t("<option>",{value:3}).append("3 days"),t("<option>",{value:7}).append("1 week"),t("<option>",{value:30}).append("1 month"),t("<option>",{value:365}).append("1 year"),t("<option>",{value:0}).append("Remove ban")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Comment (optional):"),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"ban_comment",class:"form-control"}))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4"}).append(),t("<div>",{class:"col-xs-7"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"ban_pm_ban",type:"checkbox"}),t("<span>").append("Ban private messages")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4"}).append(),t("<div>",{class:"col-xs-7"}).append(t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{id:"ban_reset_username",type:"checkbox"}),t("<span>").append("Reset username to anonymous")))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}),t("<div>",{class:"col-xs-6"}).append(t("<button>",{id:"bun_btn",type:"button",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.b64()).html('<i class="glyphicon glyphicon-fire"></i> Chat ban'))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}static b64(){if(confirm("Are you sure to ban user "+this.u61.id+"?")){t("#bun_btn").button("loading");let e=t("#ban_period").val(),s=t("#ban_comment").val(),n=t("#ban_pm_ban").prop("checked"),r=t("#ban_reset_username").prop("checked");y.m109("AdminController.addChatBanWsAction",[this.u61.id,e,s,n,r],this.b85.bind(this))}}static b85(){t("#"+Wt.$).is(":visible")&&Wt.re(),t("#"+this.$).modal("hide")}};var Mi=class{static $="ExchangeBanDialog";static u61=null;static i111=!0;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(this.i111?"Exchange ban: ":"Remove exchange ban: ",b.m106(this.u61.id,this.u61,"right"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Comment:"),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"exban_comment",class:"form-control"}))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}),t("<div>",{class:"col-xs-6"}).append(t("<button>",{id:"bun_btn",type:"button",class:"btn "+(this.i111?"btn-danger":"btn-success"),"data-loading-text":a("loading")+"..."}).on("click",()=>this.e62()).html(this.i111?'<i class="fa fa-exchange"></i> Add exchange ban':'<i class="fa fa-exchange"></i> Remove exchange ban'))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}static e62(){if(!this.i111||confirm("Are you sure to ban exchanges for player "+this.u61.id+"?")){t("#bun_btn").button("loading");let e=t("#exban_comment").val();this.i111?y.m109("AdminController.exchangeBanWsAction",[this.u61.id,e],()=>{Wt.re(),t("#"+this.$).modal("hide")}):y.m109("AdminController.exchangeUnbanWsAction",[this.u61.id,e],()=>{Wt.re(),t("#"+this.$).modal("hide")})}}};var Pi=class{static $="MarketBanDialog";static u61=null;static i111=!0;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append(this.i111?"Market ban: ":"Remove market ban: ",b.m106(this.u61.id,this.u61,"right"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}).append("Comment:"),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"marban_comment",class:"form-control"}))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label bold"}),t("<div>",{class:"col-xs-6"}).append(t("<button>",{id:"bun_btn",type:"button",class:"btn "+(this.i111?"btn-danger":"btn-success"),"data-loading-text":a("loading")+"..."}).on("click",()=>this.e62()).html(this.i111?'<i class="fa fa-shopping-cart"></i> Add market ban':'<i class="fa fa-shopping-cart"></i> Remove market ban'))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}static e62(){if(!this.i111||confirm("Are you sure to ban market for player "+this.u61.id+"?")){t("#bun_btn").button("loading");let e=t("#marban_comment").val();this.i111?y.m109("AdminController.marketBanWsAction",[this.u61.id,e],()=>{Wt.re(),t("#"+this.$).modal("hide")}):y.m109("AdminController.marketUnbanWsAction",[this.u61.id,e],()=>{Wt.re(),t("#"+this.$).modal("hide")})}}};var Wt=class{static $="AdminBlock";static p62=null;static u61=null;static u63=0;static s63=0;static re(e){e||t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("AdminController.getAdminDataWsAction",[this.p62,this.s63],this.r61.bind(this))}static r61(e,s,n,r,l,p,o,c){H.u74({title:"Admin: "+b.g225(this.p62,e.username)}),this.u61=e,this.u63=s;let f=e.bannedTo&&new Date(e.bannedTo)>new Date,h=!1;(this.u63<i.A120||i.A121.indexOf(u.u61.id)!=-1)&&(h=!0),t("#"+this.$).html("").append(t("<div>").append(t("<div>",{class:"pull-left"}).append(t("<h2>").append(t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country),alt:e.country}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+this.p62}).append(t("<span>").text(b.g225(this.p62,e.username))))),t("<div>",{class:"pull-right"}).append(t("<a>",{"href-local":"username-changelog/"+e.id}).append("Changelog")),t("<div>",{class:"clearfix"})),t("<hr>",{class:"shop-hr"})),t("#"+this.$).append(t("<a>",{"href-local":"marketplace/"+e.id}).append("Market")," | ",t("<a>",{"href-local":"exchanges/"+e.id}).append("Exchange")," | ",t("<a>",{"href-local":"my-games/"+e.id}).append("Games")," | ",t("<a>",{"href-local":"news/"+e.id}).append("News")," | ",t("<a>",{"href-local":"statistics/"+e.id}).append("Stats")," | ",t("<a>",{"href-local":"arenas/"+e.id}).append("Arenas")," | ",t("<a>",{"href-local":"quests/"+e.id}).append("Quests")," | ",t("<a>",{"href-local":"market-log/"+e.id}).append("Market Log")," | ",t("<a>",{"href-local":"net-worth/a/"+e.id}).append("Worth")," | ",t("<a>",{"href-local":"duplicates/"+e.id}).append("Duplicates")," | ",t("<a>",{"href-local":"chat-history/"+e.id}).append("Chat"),"<br/>","<br/>"),f&&t("#"+this.$).append(e.pmBan?"Chat ban <b>+PM Ban</b> until: ":"Chat ban until: ",t("<strong>",{class:"text-danger"}).append(F.g202(e.bannedTo)),"<br/>","<br/>"),e.deletedBy?t("#"+this.$).append("Account status: ",t("<strong>",{class:"text-danger"}).append(e.deletedBy==e.id?"Self-deleted":"Account deleted"),"<br/>","<br/>"):e.deleteRequestAt&&t("#"+this.$).append("Account status: ",t("<strong>",{class:"text-danger"}).append("Delete request"),"<br/>","<br/>"),r&&t("#"+this.$).append("Market ban: ",t("<strong>",{class:"text-danger"}).append("Banned"),"<br/>","<br/>"),l&&t("#"+this.$).append("Exchange ban: ",t("<strong>",{class:"text-danger"}).append("Banned"),"<br/>","<br/>");let g=[];for(let C=0;C<c.length;C++){let A=c[C];g.push(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(t("<a>",{href:"/session/"+A.ip}).append(A.ip)),t("<td>",{class:"text-nowrap"}).append(F.g203(A.firstVisitAt,!0,!0),"<br/>",F.g204(A.firstVisitAt,!1)),t("<td>",{class:"text-nowrap"}).append(A.firstVisitAt!=A.lastVisitAt?t("<div>").append(F.g203(A.lastVisitAt,!0,!0),"<br/>",F.g204(A.lastVisitAt,!1)):""),t("<td>",{class:"text-nowrap"}).append(t("<img>",{src:u.f62(A.country),class:"player-flag"}),a(A.country),"<br/>",t("<a>",{href:"https://www.google.com/maps/search/"+(a(A.country)+" "+A.city).replace(" ","+"),target:"_blank"}).append(A.city)),t("<td>",{class:"text-nowrap"}).append(A.useragents.join("<br/>"))))}c.length>0&&t("#"+this.$).append(t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<tr>").append(t("<th>").append("IP"),t("<th>").append("First visit"),t("<th>").append("Last visit"),t("<th>").append("Country / city"),t("<th>").append("Useragent")),g)),t("#"+this.$).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.l61()).append(c.length>0?"<br/>Load more":"Get visit history"));let w=[];for(let C=0;C<o.length;C++){let A=o[C];w.push(t("<tr>").append(t("<td>").append(F.g202(A.createdAt)),t("<td>").append(A.period),t("<td>").append(t("<span>").text(A.username)),t("<td>").append(A.comment)))}t("#"+this.$).append("<br/>","<br/>","<br/>",t("<h2>").append("Chat ban"),"<hr/>","Abuses (total): ",p.abusesTotal,"<br/>","Abuses (last 24h): ",p.abusesDay,"<br/>","Ban history: ",w.length>0?t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<tr>").append(t("<th>").append("Date"),t("<th>").append("Days"),t("<th>").append("Initiator"),t("<th>").append("Comment")),w):"\u2014<br/>","<br/>",t("<button>",{class:"btn btn-xs "+(f?"btn-default":"btn-danger")}).on("click",()=>this.b64()).append('<i class="glyphicon glyphicon-fire"></i> Chat ban'),"<br/>","<br/>","<br/>",t("<h2>").append(h?"Delete account":"Report cheating"),"<hr/>",e.deletedBy?"":t("<button>",{class:"btn btn-danger btn-xs"}).on("click",()=>this.r62()).append('<i class="fa fa-ban"></i> '+(h?"Delete account":"Report cheating")),"<br/>","<br/>","<br/>",t("<h2>").append("Marketplace ban"),"<hr/>",r?t("<button>",{class:"btn btn-success btn-xs"}).on("click",()=>this.m61(!1)).append('<i class="fa fa-shopping-cart"></i> Remove market ban'):t("<button>",{class:"btn btn-danger btn-xs"}).on("click",()=>this.m61(!0)).append('<i class="fa fa-shopping-cart"></i> Add market ban'),"<br/>","<br/>","<br/>",t("<h2>").append("Exchange ban"),"<hr/>",l?t("<button>",{class:"btn btn-success btn-xs"}).on("click",()=>this.e62(!1)).append('<i class="fa fa-exchange"></i> Remove exchange ban'):t("<button>",{class:"btn btn-danger btn-xs"}).on("click",()=>this.e62(!0)).append('<i class="fa fa-exchange"></i> Add exchange ban'),"<br/>","<br/>","<br/>",t("<h2>").append("Premium account"),"<hr/>"),e.premiumTo&&new Date(e.premiumTo)-Date.now()>i.U70*365*24*60*60*1e3?t("#"+this.$).append(t("<p>",{class:"text-success bold"}).append("Unlimited premium account")):e.premiumTo&&new Date(e.premiumTo).getTime()>Date.now()&&t("#"+this.$).append(t("<p>",{class:"text-success"}).append(a("premium_active_date",{"%date%":"<strong>"+F.g203(e.premiumTo,!1,!1)+"</strong>"}))),(e.patronState==i.P140||e.patronState==i.P141)&&t("#"+this.$).append(t("<p>",{class:"text-success bold"}).append(a("Active patreon subscription"))),(!e.premiumTo||new Date(e.premiumTo)-Date.now()<i.U70*365*24*60*60*1e3)&&t("#"+this.$).append(t("<button>",{id:"premium_btn",class:"btn btn-default btn-xs"}).on("click",()=>this.a63()).append('<i class="fa fa-gift"></i> Give premium account')),u.u61.id==i.W84&&n&&n[i.T84]&&t("#"+this.$).append(t("<p>",{class:"text-success bold"}).append(I.t111("dotted-underline "+(n[i.T84]*1e6<s?"text-danger":""),"top",n[i.T84]))),i.A121.indexOf(u.u61.id)!=-1&&t("#"+this.$).append("<br/>","<br/>","<br/>",t("<h2>").append(t("<span>",{class:"text-danger"}).append("Administrator area")),"<hr/>",t("<a>",{"href-local":"transfer/"+this.p62,class:"btn btn-default btn-xs"}).append('<i class="fa fa-gift"></i> Transfer resources')),x.r226()}static l61(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),this.s63+=5,setTimeout(()=>{this.re(!0)},300)}static a63(){confirm("Are you sure to give unlimited premium to user #"+this.p62+"?")&&(t("#premium_btn").prop("disabled",!0),y.m109("AdminController.addPremiumWsAction",[this.p62],()=>{this.re()}))}static b64(){Xe.u61=this.u61,Xe.s143()}static r62(){Yt.u61=this.u61,Yt.u118=null,Yt.g118=null,Yt.s143()}static e62(e){Mi.u61=this.u61,Mi.i111=e,Mi.s143()}static m61(e){Pi.u61=this.u61,Pi.i111=e,Pi.s143()}};var Ki=class{static $="DuplicatesBlock";static u64=null;static t61="del";static re(){if(i.G133.indexOf(u.u61.id)==-1){x.e94("404");return}H.u74({title:"Duplicates #"+this.u64}),t("#"+this.$).empty().append(At.l62("Duplicates",this.u64),t("<form>",{class:"form-horizontal"}).on("submit",e=>{e.preventDefault(),this.p63()}).append(t("<div>",{class:"form-group"}).append(t("<label>",{for:"transfer_items",class:"col-xs-2 control-label"}).html("Find in"),t("<div>",{class:"col-xs-10"}).append(t("<select>",{id:this.$+"_select",class:"form-control"}).append(t("<option>",{value:"del"}).append("Deleted accounts"),t("<option>",{value:"rich"}).append("Rich players (TOP 10K)"),t("<option>",{value:"champ"}).append("Last championship (TOP 10K)"),t("<option>",{value:"champ100"}).append("Last championship (TOP 100K) - slow"),t("<option>",{value:"best"}).append("Best players (TOP 10K)"),t("<option>",{value:"best100"}).append("Best players (TOP 100K) - slow"),t("<option>",{value:"time"}).append("Time (TOP 10K)"),t("<option>",{value:"time100"}).append("Time (TOP 100K) - slow"),t("<option>",{value:"eff"}).append("Efficiency (TOP 10K)"),t("<option>",{value:"eff100"}).append("Efficiency (TOP 100K) - slow"),t("<option>",{value:"curSeason"}).append("Current season leaders (TOP 10K)"),t("<option>",{value:"curSeason100"}).append("Current season leaders (TOP 100K) - slow"),t("<option>",{value:"curTime"}).append("Current season time (TOP 10K)"),t("<option>",{value:"curTime100"}).append("Current season time (TOP 100K) - slow"),t("<option>",{value:"curEff"}).append("Current season efficiency (TOP 10K)"),t("<option>",{value:"curEff100"}).append("Current season efficiency (TOP 100K) - slow"),t("<option>",{value:"prevSeason"}).append("Previous season leaders (TOP 10K)"),t("<option>",{value:"prevSeason100"}).append("Previous season leaders (TOP 100K) - slow"),t("<option>",{value:"prevTime"}).append("Previous season time (TOP 10K)"),t("<option>",{value:"prevTime100"}).append("Previous season time (TOP 100K) - slow"),t("<option>",{value:"prevEff"}).append("Previous season efficiency (TOP 10K)"),t("<option>",{value:"prevEff100"}).append("Previous season efficiency (TOP 100K) - slow")).val(this.t61))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-2 control-label"}),t("<div>",{class:"col-xs-10"}).append(t("<button>",{id:this.$+"_submit",type:"submit",class:"btn btn-primary"}).html("Send"))),t("<div>",{id:this.$+"_result"}))),x.r226()}static p63(){this.t61=t("#"+this.$+"_select").val(),t("#"+this.$+"_result").html("").append('<img src="/img/loading_big.gif"  class="loading-big"/>',"&nbsp;&nbsp;","The request is being processed. Please do not send more than one request at the same time."),t("#"+this.$+"_submit").prop("disabled",!0),y.m109("AdminController.getDuplicatesWsAction",[this.u64,this.t61],this.r64.bind(this))}static r64(e){t("#"+this.$+"_submit").prop("disabled",!1);let s=[];for(let n=0;n<e.length;n++){let r=e[n];s.push(t("<tr>").append(t("<td>",{class:"text-nowrap"}).append(b.m106(r.userId,r,"right")),t("<td>",{class:"text-nowrap"}).append(this.r65(r.ips))))}s.length>0?t("#"+this.$+"_result").html("").append('<hr class="shop-hr"/>',t("<table>",{class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<th>").append("Player"),t("<th>").append("Overlapping IPs")),s)):t("#"+this.$+"_result").html("").append('<hr class="shop-hr"/>',"No duplicates found"),x.r226()}static r65(e){let s=t("<div>");for(let n in e)s.append(t("<a>",{"href-local":"session/"+n}).append(n)," ",e[n]?t("<span>",{class:"label label-danger"}).append("Same device: "+e[n]):"","<br/>");return s}};var Vi=class{static $="MarketLogBlock";static u64=null;static re(){if(i.G133.indexOf(u.u61.id)==-1){x.e94("404");return}H.u74({title:"Market Log #"+this.u64}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("AdminController.getMarketLogWsAction",[this.u64],this.r61.bind(this))}static r61(e){let s=[];for(let n=0;n<e.length;n++){let r=e[n],l="";r.type==i.M82?l="bg-info":r.type==i.M83||r.type==i.M84?l="":r.type==i.M85?l="bg-success":r.type==i.M86?l="bg-danger":r.type==i.M87?l="bg-warning":r.type==i.M88&&(l=""),s.push(t("<tr>").append(t("<td>",{class:"text-nowrap "+l}).append(F.g202(r.createdAt,!0,!0)),t("<td>",{class:"text-nowrap "+l}).append(r.type==i.M82?"SEARCH VISIT":"",r.type==i.M83?"SELL VISIT":"",r.type==i.M84?"COMPLETED VISIT":"",r.type==i.M85?"BUY":"",r.type==i.M86?"SELL":"",r.type==i.M87?"COLLECT":"",r.type==i.M88?"TRADE VISIT":""),t("<td>",{class:"text-nowrap "+l}).text(JSON.stringify(r.params))))}t("#"+this.$).html("").append(At.l62("Market Log",this.u64)),s.length>0&&t("#"+this.$).append(t("<table>",{class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<th>").append("Datetime"),t("<th>").append("Type"),t("<th>").append("Params")),s)),x.r226()}};var Xi=class{static $="UsernameChangelogBlock";static p62=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("AdminController.getUsernameChangelogsWsAction",[this.p62],this.r61.bind(this))}static r61(e){H.u74({title:"Username changelog"});let s=[];for(let n=0;n<e.length;n++){let r=e[n];s.push(t("<tr>").append(t("<td>").append(F.g202(r.updatedAt)),t("<td>").append(t("<span>").text(r.username))))}t("#"+this.$).empty().append(t("<button>",{id:"reset_btn",class:"btn btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.r67()).append('<i class="fa fa-eraser"></i> Reset username to anonymous'),"&nbsp;&nbsp;",t("<button>",{id:"reset_btn",class:"btn btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.r68()).append('<i class="fa fa-eraser"></i> Reset public information'),"<br/>","<br/>",t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<tr>").append(t("<th>").append("Date"),t("<th>").append("Username")),s)),x.r226()}static r67(){confirm("Are you sure to reset username for "+this.p62+" ?")&&(t("#reset_btn").button("loading"),y.m109("AdminController.resetUsernameWsAction",[this.p62],()=>{this.re()}))}static r68(){confirm("Are you sure to reset pubic information for "+this.p62+" ?")&&(t("#reset_btn").button("loading"),y.m109("AdminController.resetPublicInfoWsAction",[this.p62],()=>{this.re()}))}};var ge=class{static $="ArenaRewardDialog";static a93=null;static o61=null;static i106=null;static e76=null;static c167=null;static i107=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=ut.g167(this.a93.type,this.a93.mode,this.a93.extraConf),s=Math.floor((this.a93.type-i.A66)/10),n=(this.a93.type-i.A66)%10,r=Math.ceil((this.a93.gameNumber-1)/e.games*100);t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("arena_reward_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_title")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(t("<a>",{"href-local":"arena/"+this.a93.id}).append("#"+this.a93.id))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_type")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(K.m92(this.a93.type,null,"top",null).append('<i class="fa fa-ticket ticket ticket'+s+' ticket-medium"></i>')," ",a("arena_type_"+s)," ","L"+n,this.a93.mode==i.A101?"E":"")),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_games")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.a93.gameNumber-1+" / "+e.games,this.a93.gameNumber>1?" ("+r+"%"+(this.a93.rewardK*100>r?' <span class="text-success">+'+(Math.round(this.a93.rewardK*100*10)/10-r).toFixed(1)+"%</span>":"")+")":"")),this.a93.state==i.A80?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_time")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(K.g200(this.a93.duration-this.a93.penaltyTotal,this.a93.state))):"",this.a93.state==i.A80&&e.penalty?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_penalty")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(K.g200(this.a93.penaltyTotal,null))):"",t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("arena_reward")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(Dt.r217(!0,this.e76,this.c167,this.i107,!0,null,!1),this.i106?t("<div>").append("<br/>",a("game_new_reward_message",{"%reward%":'<img src="/img/rewards/'+i.R107[i.R101]+'" class="reward reward'+i.R101+'"/> <strong>'+a("reward_"+i.R101+"_name")+"</strong>"})):"")))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}};var Zi=class{static $="ArenaDetailBlock";static a68=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),t("#"+ge.$).modal("hide"),jt.i95(this.a68,i.V66),y.m109("ArenaController.getArenaDetailWsAction",[this.a68],this.r61.bind(this))}static r61(e,s,n,r){H.u74({title:a("arena_title")+" #"+s.id});let l=ut.g167(s.type,s.mode,s.extraConf),p=Math.floor((s.type-i.A66)/10),o=(s.type-i.A66)%10,c=t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append("#"),t("<th>").append(a("ranking_column_game")),t("<th>").append(a("ranking_column_size")),t("<th>").append(a("ranking_column_diff")),l.eff?t("<th>").append(a("game_eff")):"",t("<th>").append(a("ranking_column_date"))))),f=0;for(let h=0;h<n.length;h++){let g=n[h];f+=g.realDiff,c.append(t("<tr>").append(t("<td>").append(h+1),t("<td>").append(q.m94(g.id,g.level,g.duration,!1,!0,"black-link")),t("<td>").append(g.sizeX+"x"+g.sizeY+"/"+g.mines," ",[i.G71,i.G72,i.G73,i.G74].indexOf(g.level)!=-1?t("<abbr>",{title:a("ng")}).tooltip({trigger:"hover"}).html("NG"):""),t("<td>").append(g.realDiff),l.eff?t("<td>").append(g.eff>=l.eff?g.eff+"%":t("<span>",{class:"gray"}).append(g.eff+"%")):"",t("<td>").append(F.g202(g.finishedAt,!1,!1))))}t("#"+this.$).html("").append(t("<div>").append(t("<h2>").append(a("arena_title")+" #"+s.id)),'<hr class="shop-hr"/>',t("<table>",{class:"series-table"}).append(t("<tr>").append(t("<td>").append("<strong>"+a("ranking_column_player")+a(":")+"</strong>"),t("<td>").append(t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country)}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+e.id}).text(b.g225(e.id,e.username)))),t("<tr>").append(t("<td>").append("<strong>"+a("arena_type")+a(":")+"</strong>"),t("<td>").append(K.m92(s.type,null,"right",s.mode).append('<i class="fa fa-ticket ticket ticket'+p+'"></i> '+a("arena_type_"+p)+" L"+o,s.mode==i.A101?"E":""),s.type>=i.A69&&s.type<=i.A70?t("<div>",{class:"bold ice-text"}).append("<br/>",K.g201(s.type,s.mode,s.extraConf)):"",s.type>=i.A71&&s.type<=i.A72?t("<div>",{class:"bold flower-text"}).append("<br/>",K.g201(s.type,s.mode,s.extraConf)):"",s.type>=i.A73&&s.type<=i.A74?t("<div>",{class:"bold fruit-text"}).append("<br/>",K.g201(s.type,s.mode,s.extraConf)):"")),s.duration?t("<tr>").append(t("<td>").append("<strong>"+a("arena_time")+a(":")+"</strong>"),t("<td>").append(K.g200(s.duration-s.penaltyTotal,s.state))):"",l.penalty?t("<tr>").append(t("<td>").append("<strong>"+a("arena_penalty")+a(":")+"</strong>"),t("<td>").append(K.g200(s.penaltyTotal,null))):"",t("<tr>").append(t("<td>").append("<strong>"+a("ranking_column_games")+a(":")+"</strong>"),t("<td>").append(n.length<=l.games?t("<span>").append(n.length+" / "+l.games,"<br/>","<br/>"):"",n.length>0?c:"",n.length>1?t("<div>").append("<br/>",a("game_avg_diff")+a(": "),(Math.round(f/n.length*10)/10).toFixed(1)):"")),r?t("<tr>").append(t("<td>").append("<strong>"+a("arena_reward")+a(":")+"</strong>"),t("<td>").append(Dt.r217(!0,r.exp,r.coins,r.items,!0,null,!1))):"")),x.r226()}};var Ks=class{static $="AllChampsBlock";static re(){H.u74({title:a("champ_past_champs")}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif" class="loading-big"/>'),y.m109("ChampsController.getAllChampsWsAction",[],this.r61.bind(this))}static r61(e){let s=[];for(let n=0;n<e.length;n++){let r=t("<table>");for(let l=0;l<e[n].stat.length;l++){let p=e[n].stat[l];r.append(this.r69(e[n].season,l+1,p.userId,p.username,p.country))}if(e[n].myPos&&e[n].myPos>10){let l=e[n].myStat;r.append(this.r69(e[n].season,e[n].myPos,l.userId,l.username,l.country))}s.push(t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"championship/s"+(e[n].season-i.F84+1)}).append(a("champ_"+e[n].season))),t("<td>").append(F.g205(e[n].season)),t("<td>").append(r)))}t("#"+this.$).empty().append(t("<h2>").append(a("champ_past_champs")),"<hr/>",t("<table>",{class:"table table-bordered width-auto"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("seo_title_champ")),t("<th>").append(a("ranking_season")),t("<th>").append(a("event_leaderboard")))),t("<tbody>").append(s))),x.r226()}static r69(e,s,n,r,l){let p=this.g64(s);return t("<tr>").append(t("<td>",{class:"vertical-align-top"}).append(t("<span>",{class:"event-quest-place "+p}).append(s)),t("<td>",{class:"vertical-align-top",width:"100%"}).append("&nbsp;&nbsp;",b.m106(n,{username:r,country:l},"right",null,!1,!1,n==u.u61.id?"bold":"")),t("<td>",{class:"vertical-align-top text-nowrap"}).append(t("<span>",{class:"event-quest-reward "+p}).append("&nbsp;&nbsp;",b.g227(i.g253(s)),m.e89(i.C145[e].resourceType,"micro"))))}static g64(e){return e<=1?"event-pos-1":e<=10?"event-pos-2":e<=100?"event-pos-3":"event-pos-4"}};var Ye=class{static $="AppBlock";static i65=!1;static re(){t("#"+we.$).modal("hide"),H.u74({title:a("app_title")}),t("#"+this.$).empty().append(this.i65?t("<h3>").append(a("app_version_update")):"",this.i65?"":t("<h2>").append(a("app_title_full")+' (<span class="text-danger">beta</span>)'),"<hr/>");let e=t("<div>").append(t("<h3>").append("Windows"),t("<p>").append(t("<a>",{href:"https://minesweeper.online/files/minesweeper-online-app-"+i.A65+"-setup.exe",target:"_blank",class:"btn btn-success"}).append('<span class="fa fa-windows"></span> ',a("app_download_win_x64"))),a("app_requirements")+a(": "),t("<ul>").append(t("<li>").append(a("app_requirements_win"))),"<br/>"),s=t("<div>").append(t("<h3>").append("MacOS"),t("<p>").append(t("<a>",{href:"https://minesweeper.online/files/minesweeper-online-app-"+i.A65+".zip",target:"_blank",class:"btn btn-primary"}).append('<span class="fa fa-apple"></span> ',a("app_download_mac_intel"))),t("<p>").append(t("<a>",{href:"https://minesweeper.online/files/minesweeper-online-app-arm64-"+i.A65+".zip",target:"_blank",class:"btn btn-info"}).append('<span class="fa fa-apple"></span> ',a("app_download_mac_sil"))),t("<p>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("app_run_mac")),t("<p>",{class:"text-info"}).css("margin-top","-7px").append('<i class="fa fa-info-circle"></i> ',`If you encounter the message "<strong>[File] is damaged and can't be opened. You should move it to the Bin</strong>", there's nothing wrong with the app. Instead, macOS has quarantined the app. To ignore the warning and open the app, open a new Terminal window and type (or paste the following command):`,'<div style="margin: 7px 0;"><code>xattr -d com.apple.quarantine ~/Downloads/minesweeper-online-app.app</code></div>',`Read more: <a href="https://www.howtogeek.com/803598/app-is-damaged-and-cant-be-opened/" target="_blank"><i class="fa fa-book"></i> How to Fix "App Is Damaged and Can't Be Opened" on Mac</a>`),a("app_requirements")+a(": "),t("<ul>").append(t("<li>").append(a("app_requirements_mac"))),"<br/>");navigator.userAgent.toLowerCase().indexOf("mac")!=-1?t("#"+this.$).append(s,e):t("#"+this.$).append(e,s)}};var mi=class{static $="AuthRequiredBlock";static re(){H.u74({title:a("profile_auth_required")});let e=u.s62;t("#"+this.$).empty().append(t("<h2>").append(a("profile_auth_required")),"<hr/>",t("<form>").on("submit",s=>{s.preventDefault(),this.s67()}).append(t("<div>").append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-xs-offset-2 col-xs-8"}).append(t("<a>",{href:"https://minesweeper.online/social/google/login/"+e,class:"btn btn-sm btn-block btn-social btn-google"}).append(t("<span>",{class:"fa fa-google"}),a("profile_sign_in_with",{"%app%":"Google"})),t("<a>",{href:"https://minesweeper.online/social/facebook/login/"+e,class:"btn btn-sm btn-block btn-social btn-facebook"}).append(t("<span>",{class:"fa fa-facebook"}),a("profile_sign_in_with",{"%app%":"Facebook"})),t("<a>",{href:"https://minesweeper.online/social/twitter/login/"+e,class:"btn btn-sm btn-block btn-social btn-twitter"}).append(t("<span>",{class:"fa fa-twitter"}),a("profile_sign_in_with",{"%app%":"Twitter"})))),"<br/>",t("<div>",{class:"text-center"}).css("margin-bottom","25px").append(t("<strong>").append(a("profile_or_sign_in_with_username"))),t("<div>",{class:"form-horizontal"}).append(t("<div>",{id:"sign_in_username_group",class:"form-group"}).append(t("<label>",{for:"sign_in_username",class:"col-xs-4 control-label"}).html(a("profile_username")+"/"+a("profile_email")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_in_username",type:"text",class:"form-control",required:"required"}),t("<span>",{id:"sign_in_username_help",class:"help-block"}))),t("<div>",{id:"sign_in_password_group",class:"form-group"}).append(t("<label>",{for:"sign_in_password",class:"col-xs-4 control-label"}).html(a("profile_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_in_password",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"sign_in_password_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<a>",{"href-local":"password-reset"}).html(a("profile_forgot_password"))),t("<div>",{class:"col-xs-6"}).append(t("<button>",{type:"submit",class:"btn btn-primary"}).html(a("profile_login_button")))))),t("<hr>").css("margin-top","30px"),t("<div>",{class:"text-center"}).append(a("profile_auth_new_to")!="profile_auth_new_to"?t("<div>").css("margin-bottom","5px").append(a("profile_auth_new_to")):"",t("<a>",{href:"javascript:void(0)"}).on("click",()=>Te.s143()).append(a("profile_auth_create_account"))))),x.r226()}static s67(){t(".form-group").removeClass("has-error"),t(".help-block").html("");let e=[t("#sign_in_username").val(),t("#sign_in_password").val()];y.m109("ProfileController.signInWsAction",e,this.s68.bind(this))}static s68(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#sign_in_"+s+"_group").addClass("has-error"),t("#sign_in_"+s+"_help").html(Array.isArray(e[s])?a(e[s][0],e[s][1]):a(e[s])))}else x.n82("/")}};var Bi=class{static $="ChangePasswordBlock";static u69=!1;static re(){H.u74({title:a("profile_change_password_title")}),t("#"+this.$).empty(),this.u69&&(t("#"+this.$).append(t("<div>",{class:"alert alert-success",role:"alert"}).append(t("<button>",{type:"button",class:"close"}).on("click",()=>x.n81("profile/change-password",!0)).append("<span>&times;</span>"),'<span class="glyphicon glyphicon-ok"></span> ',a("profile_password_changed"))),this.u69=!1),t("#"+this.$).append(t("<h2>").html(a("profile_change_password_title")),t("<hr>"),t("<form>",{class:"form-horizontal"}).on("submit",e=>{e.preventDefault(),this.c69()}).append(t("<div>",{id:"change_pass_password_group",class:"form-group"}).append(t("<label>",{for:"change_pass_password",class:"col-xs-4 control-label"}).html(a("profile_new_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"change_pass_password",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"change_pass_password_help",class:"help-block"}))),t("<div>",{id:"change_pass_password_repeat_group",class:"form-group"}).append(t("<label>",{for:"change_pass_repeat_password",class:"col-xs-4 control-label"}).html(a("profile_repeat_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"change_pass_password_repeat",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"change_pass_password_repeat_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<button>",{type:"submit",class:"btn btn-success"}).html(a("profile_change_password_button")))))),t("#change_pass_password").focus()}static c69(){let e=[{password:t("#change_pass_password").val(),password_repeat:t("#change_pass_password_repeat").val()}];y.m109("ProfileController.updateProfileWsAction",e,this.c70.bind(this))}static c70(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#change_pass_"+s+"_group").addClass("has-error"),t("#change_pass_"+s+"_help").html(a(e[s])))}else x.n82("profile/change-password/success")}};var hi=class{static $="EventDetailBlock";static s85=null;static re(){if(this.s85>R.g257()||this.s85<i.E103){x.e94("404");return}H.u74({title:a("event_title_"+this.s85)}),t("#"+this.$).empty().append(Ht.r110("/img/event/event-"+this.s85+".svg?v=14",a("event_title_"+this.s85),this.s85)),t("#"+this.$).append(t("<div>",{id:S.$})),S.s130=i.S99,Ue.s85=this.s85,S.re()}};var Ji=class{static $="AddItemDialog";static u64=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("exchange_add_item_title"))),t("<div>",{id:"modal_content",class:"modal-body"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>'),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),y.m109("ExchangeController.getUserItemsWsAction",[this.u64],this.r170.bind(this))}static r170(e,s,n,r){this.u64=e;let l=[];for(let o=1;o<=10;o++)s[o]&&l.push(this.g80(o,s[o]));for(let o=i.A107;o<=i.A116;o++)s[o]&&l.push(this.g80(o,s[o]));for(let o=1;o<=8;o++)for(let c=1;c<=i.A97;c++){let f=i.A66+c*10+o;s[f]&&l.push(this.g80(f,s[f]))}for(let o=i.P125;o<=i.P139;o++)s[o]&&l.push(this.g80(o,s[o]));let p=D.g215(s,n);for(let o=0;o<p.length;o++)T.i143(p[o].itemType).perfectLevel>=2||l.push(this.g80(p[o].itemType,s[p[o].itemType]));if(Lt.t69){for(let o=i.T86;o<=i.T95;o++)if(s[o]){let c=s[o];r&&r[o-i.T85]&&(c-=r[o-i.T85]),c>0&&l.push(this.g80(o,c))}}t("#modal_content").html("").append(l.length>0?t("<table>",{class:"table table-bordered no-margin"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("market_item")),t("<th>"))),t("<tbody>").append(l)):"\u2014"),x.r226()}static g80(e,s){return t("<tr>",{id:"item_"+e}).append(t("<td>").append(it.r123(e,s,!1,"right")),t("<td>").append(t("<button>",{id:"item_"+e+"_btn",class:"btn btn-xs btn-default"}).on("click",()=>this.a80(e)).append('<i class="fa fa-plus"></i> '+a("exchange_add_button"))))}static a80(e){Lt.a80(this.u64,e),t("#"+this.$).modal("hide")}};var Lt=class{static $="ExchangeDetailBlock";static m69=null;static e68=null;static u64=null;static s86=null;static b73=null;static s87=null;static b74=null;static s88=null;static c89=!1;static t69=!1;static e69=null;static E63=1;static E64=2;static M64=5;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),this.e68?y.m109("ExchangeController.getExchangeDataWsAction",[this.e68],this.r61.bind(this)):y.m109("ExchangeController.newExchangeDataWsAction",[this.u64],this.r61.bind(this))}static r61(e,s,n,r,l){if(e){t("#"+this.$).html("").append(t("<h2>").append(a("exchange_title")+" #"+this.e68),'<hr class="shop-hr"/>',t("<div>",{class:"alert alert-danger"}).append(a("exchange_access_denied")));return}H.u74({title:this.e68?a("exchange_title")+" #"+s.id:a("new_exchange_title")}),t("#"+this.$).html("").append(t("<h2>").append(this.e68?a("exchange_title")+" #"+s.id:a("new_exchange_title")),'<hr class="shop-hr"/>'),s.state==i.E81?t("#"+this.$).append(t("<div>",{class:"alert alert-danger"}).append(a("exchange_state_canceled"))):s.state==i.E82?t("#"+this.$).append(t("<div>",{class:"alert alert-danger"}).append(a("exchange_state_expired"))):s.state==i.E83&&t("#"+this.$).append(t("<div>",{class:"alert alert-success"}).append(a("exchange_state_confirmed"))),l&&t("#"+this.$).append(t("<div>",{class:"alert alert-danger"}).append(a("exchange_rule_message"),"<br/>",t("<strong>").append("- "+a("exchange_rule_duplicates")))),t("#"+this.$).append(t("<div>",{id:"eq_share_alert_"+s.sellerId}),t("<div>",{id:"eq_share_alert_"+s.buyerId}),t("<div>",{id:"boost_alert_"+s.sellerId}),t("<div>",{id:"boost_alert_"+s.buyerId})),this.s87=s.sellerId,this.b74=s.buyerId,this.s88=s.state,this.s86=n.boosts?n.boosts:{},this.b73=r.boosts?r.boosts:{},this.c89=!1,this.t69=n.items[i.R108]&&r.items[i.R108],t("#"+this.$).append(t("<div>",{class:"row"}).append(u.u61.id==s.sellerId?this.r111(s.sellerId,n,s.sellerCoins,s.sellerItems):this.r111(s.buyerId,r,s.buyerCoins,s.buyerItems),u.u61.id==s.sellerId?this.r111(s.buyerId,r,s.buyerCoins,s.buyerItems):this.r111(s.sellerId,n,s.sellerCoins,s.sellerItems),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',s.state==i.E80||s.state===void 0?t("<div>",{class:"text-center"}).append(this.m69==this.E63?t("<span>").append(t("<button>",{id:"exchange_save_btn",class:"btn btn-success","data-loading-text":a("loading")+"..."}).on("click",()=>this.s89(s.sellerId,s.buyerId)).html(this.e68?'<i class="fa fa-save"></i> '+a("exchange_save_button"):'<i class="fa fa-check-square-o"></i> '+a("exchange_create_button")),"&nbsp;&nbsp;&nbsp;"):"",s.sellerId==u.u61.id&&this.m69==this.E64?t("<span>").append(t("<button>",{id:"exchange_edit_btn",class:"btn btn-primary"}).on("click",()=>this.e70()).append('<i class="fa fa-pencil"></i> '+a("exchange_edit_button")),"&nbsp;&nbsp;&nbsp;"):"",s.buyerId==u.u61.id&&this.m69==this.E64?t("<span>").append(t("<button>",{id:"exchange_confirm_btn",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).prop("disabled",this.c89).on("click",()=>this.c93(s)).append('<i class="fa fa-check"></i> '+a("exchange_confirm_button")),"&nbsp;&nbsp;&nbsp;"):"",this.m69==this.E64?t("<span>").append(t("<button>",{id:"exchange_cancel_btn",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.c92()).html('<i class="fa fa-close"></i> '+a("exchange_cancel_button")),"&nbsp;&nbsp;&nbsp;"):"",s.sellerId==u.u61.id&&this.m69==this.E64?t("<span>").append(t("<button>",{id:"exchange_send_btn",class:"btn btn-default","data-loading-text":a("loading")+"..."}).on("click",()=>this.s73(s.buyerId)).append('<i class="glyphicon glyphicon-envelope"></i> '+a("exchange_send_button")," ",t("<span>").text(b.g225(s.buyerId,r.username))),"&nbsp;&nbsp;&nbsp;"):""):""),this.m69==this.E64?(Gt.g218(s.sellerId,s.sellerCoins,s.sellerItems),Gt.g218(s.buyerId,s.buyerCoins,s.buyerItems)):this.u82(),x.r226()}static r111(e,s,n,r){return t("<div>",{class:"col-md-6 col-xs-12"}).append(t("<div>",{class:"text-center"}).append(t("<h3>").append(t("<img>",{src:u.f62(s.country),class:"player-flag",alt:s.country}),t("<a>",{"href-local":"player/"+e}).text(b.g225(e,s.username)))),this.m69==this.E63||this.s88==i.E80?t("<div>",{class:"text-center"}).css("margin-bottom","10px").append(D.r211(s.coins,s.items,s.eq,s.tokensUsed,"bottom")):"",t("<div>",{id:"items_table_"+e}).append(this.r82(e,s,n,r)),this.m69==this.E63?t("<div>",{class:"text-center"}).append(t("<button>",{class:"btn btn-sm btn-default"}).on("click",()=>this.c91(e)).html('<i class="fa fa-plus"></i> '+a("exchange_add_button")),"<br/>","<br/>"):"",t("<div>",{class:"text-center"}).append(a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap items_price_"+e}).append('<img src="/img/loading_small.gif" class="loading-small"/>'),"<br/>","<br/>"))}static r82(e,s,n,r){r||(r={});let l=this.m69==this.E63||n>0,p=s&&s.coins>=n,o=this.m69==this.E64&&this.s88==i.E80?p?"bg-success":"bg-danger":"";p||(this.c89=!0);let c=[];for(let g=1;g<=10;g++)r[g]&&c.push(this.g80(e,s,g,r[g]));for(let g=i.A107;g<=i.A116;g++)r[g]&&c.push(this.g80(e,s,g,r[g]));for(let g=1;g<=8;g++)for(let w=1;w<=i.A97;w++){let C=i.A66+w*10+g;r[C]&&c.push(this.g80(e,s,C,r[C]))}for(let g=i.P125;g<=i.P139;g++)r[g]&&c.push(this.g80(e,s,g,r[g]));let f=[];for(let g in r)g>=i.E102&&f.push(T.i143(g));f=f.sort((g,w)=>g.type==w.type?g.quality-w.quality:g.type-w.type);for(let g=0;g<f.length;g++)c.push(this.g80(e,s,f[g].itemType,r[f[g].itemType]));for(let g=i.T86;g<=i.T95;g++)r[g]&&c.push(this.g80(e,s,g,r[g]));let h=this.M64-c.length-(l?1:0);for(let g=0;g<h;g++)c.push(t("<tr>").append(t("<td>").append("&nbsp;"),t("<td>",{class:"table-wide-row"}).append("&nbsp;"),t("<td>").append("&nbsp;")));return this.c90(e,r),t("<table>",{class:"table table-bordered"}).append(t("<tr>").append(t("<th>",{class:"exchange-1-col"}).append(a("exchange_amount")),t("<th>").append(a("exchange_item")),t("<th>",{class:"exchange-3-col"}).append()),l?t("<tr>").append(this.m69==this.E63?t("<td>").append(t("<input>",{id:"exchange_coins_"+e,type:"number",class:"market-price-small"}).on("input",()=>this.u82()).val(n)):t("<td>",{class:"table-wide-row text-nowrap "+o}).append(b.g227(n)),t("<td>",{class:"table-wide-row "+o}).append(m.c199("icon-left"),a("profile_coins")),this.m69==this.E64?t("<td>",{class:"table-wide-row "+o}).append(o?this.r112(p):this.r112(-1)):t("<td>").append("&nbsp;")):"",c)}static g80(e,s,n,r){let l=0;s&&s.items&&s.items[n]&&(l=s.items[n],n>=i.T86&&n<=i.T95&&s.tokensUsed&&s.tokensUsed[n-i.T85]&&(l-=s.tokensUsed[n-i.T85]));let p=l>=r,o=this.m69==this.E64&&this.s88==i.E80?p?"bg-success":"bg-danger":"";return p||(this.c89=!0),t("<tr>").append(this.m69==this.E63?t("<td>").append(t("<input>",{id:"exchange_item_"+e+"_"+n,"item-type":n,type:"number",class:"market-price-small exchange-item-"+e}).on("input",()=>this.u82()).val(r)):t("<td>",{class:"table-wide-row "+o}).append(r),t("<td>",{class:"table-wide-row "+o}).append(it.r123(n,1,!1,"top")),this.m69==this.E63?t("<td>",{class:"table-wide-row"}).append(t("<button>",{class:"btn btn-xs btn-default"}).on("click",()=>this.r107(e,n)).html('<i class="fa fa-remove"></i>')):"",this.m69==this.E64?t("<td>",{class:"table-wide-row "+o}).append(o?this.r112(p):this.r112(-1)):"")}static c90(e,s){let n={},r=!1;for(let l in s)if(l>=i.E102){let p=T.i143(l).type;n[p]===void 0?n[p]=1:n[p]++,(this.s86&&this.s86[l]&&this.s86[l]>Date.now()||this.b73&&this.b73[l]&&this.b73[l]>Date.now())&&(r=!0)}n[0]==1&&n[1]==1&&n[2]==1&&n[3]==1&&n[4]==1?(t("#eq_share_alert_"+e).html("").append(t("<div>",{class:"alert alert-danger"}).append(a("exchange_rule_message"),"<br/>",t("<strong>").append("- "+a("exchange_rule_eq_share")))),x.r226()):t("#eq_share_alert_"+e).html(""),r?t("#boost_alert_"+e).html("").append(t("<div>",{class:"alert alert-danger"}).append(a("exchange_boost_loss"))):t("#boost_alert_"+e).html("")}static r112(e){return e==-1?this.s88==i.E83?'<i class="fa fa-check gray icon-huge"></i>':'<i class="fa fa-close gray icon-huge"></i>':e?'<i class="fa fa-check text-success icon-huge"></i>':'<i class="fa fa-close text-danger icon-huge"></i>'}static g81(e){let s=parseInt(t("#exchange_coins_"+e).val());return s>0?s:0}static g82(e){let s={};return t(".exchange-item-"+e).each((n,r)=>{r=t(r);let l=parseInt(r.val());l>0&&(s[r.attr("item-type")]=l)}),s}static c91(e){Ji.u64=e,Ji.s143()}static e70(){x.n81("exchange/"+this.e68+"/edit",!1)}static c92(){tt.t81=a("exchange_sure_cancel"),tt.c136=()=>{t("#exchange_cancel_btn").button("loading"),y.m109("ExchangeController.cancelExchangeWsAction",[this.e68],e=>{location.pathname.indexOf(e)!=-1?x.n81("exchange/"+e,!1):x.n81("exchanges",!1)})},tt.s143()}static c93(e){tt.t81=a("exchange_sure_confirm"),tt.c136=()=>{t("#exchange_confirm_btn").button("loading"),y.m109("ExchangeController.confirmExchangeWsAction",[e],this.c94.bind(this))},tt.s143()}static c94(e,s){e?t("#"+this.$).html("").append(t("<h2>").append(a("exchange_title")+" #"+this.e68),'<hr class="shop-hr"/>',t("<div>",{class:"alert alert-danger"}).append(a("exchange_was_changed_message"),"&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"btn btn-sm btn-warning"}).on("click",()=>{x.n81("exchange/"+this.e68,!1)}).append('<span class="glyphicon glyphicon-refresh"></span> ',a("server_reload_page_button")))):x.n81("exchange/"+s,!1)}static a80(e,s){let n=this.g81(e),r=this.g82(e);r[s]===void 0&&(r[s]=1),t("#items_table_"+e).empty().append(this.r82(e,null,n,r)),this.u82()}static r107(e,s){let n=this.g81(e),r=this.g82(e);delete r[s],t("#items_table_"+e).empty().append(this.r82(e,null,n,r)),this.u82()}static s89(e,s){let n=this.g81(e),r=this.g82(e),l=this.g81(s),p=this.g82(s);n==0&&l==0&&Object.keys(r).length==0&&Object.keys(p).length==0||(t("#exchange_save_btn").button("loading"),y.m109("ExchangeController.saveExchangeWsAction",[this.e68,this.u64,n,r,l,p],o=>x.n81("exchange/"+o,!1)))}static s73(e){G.s73(e,this.e68)}static u82(){this.e69&&clearInterval(this.e69),t(".items_price_"+this.b74).html('<img src="/img/loading_small.gif" class="loading-small"/>'),t(".items_price_"+this.s87).html('<img src="/img/loading_small.gif" class="loading-small"/>'),this.e69=setTimeout(()=>{this.e69=null;let e=this.g81(this.s87),s=this.g82(this.s87),n=this.g81(this.b74),r=this.g82(this.b74);Gt.g218(this.s87,e,s),Gt.g218(this.b74,n,r)},500)}};var oe=class{static $="CustomBlock";static c82="";static re(){t(".modal").modal("hide"),t("#"+this.$).empty().append(this.c82)}};var je=class{static $="ItemDetailBlock";static i83=null;static i84=!1;static re(){if(this.i83=="PE-TRSAOQEGJDeDmDgDaDdq"){x.n81("item/AE");return}if(this.i83=="PH-TRSAOQEGJDeDmDgDaDdq"){x.n81("item/AH");return}if(this.i83=="PT-TRSAOQEGJDeDmDgDaDdq"){x.n81("item/AT");return}if(this.i83=="PR-TRSAOQEGJDeDmDgDaDdq"){x.n81("item/AR");return}if(this.i83=="PS-TRSAOQEGJDeDmDgDaDdq"){x.n81("item/AS");return}let e=T.i146(this.i83),s=T.i145(e);if(!e){v.r223([Pe]);return}let n=T.g268(e);H.u74({title:a("equipment_item_"+n+"_"+e.type)+" "+s});let r=T.g266(e),l=t("<span>").append(b.g227(r.coins,!1),m.c199("icon-right"),"&nbsp;&nbsp;");if(e.perfectLevel>=2)l.append(q.m96(r.gems,"top",!0),"&nbsp;&nbsp;",q.m97(r.ac,"top",!0));else{if(r.gemsAll>0){let p=Object.keys(r.gems)[0];l.append(r.gems[p],I.g221(p,"icon-small icon-right"),"&nbsp;&nbsp;")}if(r.acAll>0){let p=Object.keys(r.ac)[0];l.append(r.ac[p],I.a104(p,"icon-small icon-right"))}}t("#"+this.$).html("").append(t("<h2>").append(a("equipment_item_"+n+"_"+e.type)+" "+s),"<hr/>",t("<table>").append(t("<tr>").append(t("<td>",{class:"text-center"}).css("vertical-align","middle").append(this.i84?t("<div>",{class:"equipment-plus-relative"}).append(t("<div>",{class:"equipment-plus-absolute-big"}).append(t("<img>",{src:"/img/item/plus"+n+".svg",class:"equipment-plus-big equipment-plus"+n}))):"",D.r204(e,"big"),e.perfectLevel>=1?t("<div>",{class:"perfect-level-big"}).append("L"+e.perfectLevel):"",t("<div>",{class:"eq-detail-boost-toggle"}).append(t("<a>",{"href-local":"item/"+s+(this.i84?"":"/b"),class:this.i84?"bold equipment-rarity-"+n:"mediumgray"}).append(this.i84?'<i class="fa fa-toggle-on"></i>':'<i class="fa fa-toggle-off"></i>')),t("<div>",{class:"eq-detail-boost-text"}).append(t("<a>",{"href-local":"item/"+s+(this.i84?"":"/b"),class:"no-underline "+(this.i84?"equipment-rarity-"+n:"mediumgray")}).append(a("equipment_boost_title")))),t("<td>").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t("<td>",{width:"100%"}).append(D.r206(e,this.i84?Date.now()+i.B68*24*60*60*1e3:0),t("<div>",{class:"equipment-item-extra-props"}).append(e.upgrade>0?t("<span>").append(a("equipment_upgrade_property",{"%val%":e.upgrade,"%max%":T.g272(e.gem)}),"<br/>"):"",a("equipment_quality")+a(": "),n<=3?e.quality+"%":"100%","<br/>",a("equipment_materials")+a(": "),l,"<br/>",a("market_est_price")+a(": "),t("<span>",{class:"text-nowrap est_price_"+e.itemType}).append('<img src="/img/loading_small.gif" class="loading-small"/>')))))),Gt.g217(e.itemType,""),x.r226()}};var Si=class{static $="PasswordResetBlock";static h61=!1;static s102=!1;static re(){H.u74({title:a("reset_pass_title")}),t("#"+this.$).empty().append(t("<h2>").html(a("reset_pass_title")),t("<hr>")),this.s102?(t("#"+this.$).append(a("reset_pass_check_your_email")),this.s102=!1):(this.h61&&(t("#"+this.$).append(t("<p>",{class:"alert alert-danger"}).append(a("reset_pass_invalid_link")),"<br/>"),this.h61=!1),t("#"+this.$).append(a("reset_pass_enter_you_email"),"<br/>","<br/>","<br/>",t("<form>",{class:"form-horizontal"}).on("submit",e=>{e.preventDefault(),this.s103()}).append(t("<div>",{id:"reset_pass_email_group",class:"form-group"}).append(t("<label>",{for:"reset_pass_email",class:"col-xs-3 control-label"}).html(a("reset_pass_your_email")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"reset_pass_email",type:"email",class:"form-control",required:!0}),t("<span>",{id:"reset_pass_email_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-3 control-label"}),t("<div>",{class:"col-xs-6"}).append(t("<button>",{type:"submit",class:"btn btn-success"}).html(a("reset_pass_send_password_button")))))),t("#reset_pass_email").focus())}static s103(){let e=[v.l85,t("#reset_pass_email").val()];y.m109("PasswordResetController.sendEmailWsAction",e,this.s104.bind(this))}static s104(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#reset_pass_"+s+"_group").addClass("has-error"),t("#reset_pass_"+s+"_help").html(a(e[s])))}else this.s102=!0,this.re()}};var ti=class{static $="SignInDialog";static s143(){if(location.href.indexOf("auth-required")!=-1){t("#"+mi.$).fadeOut(300).fadeIn(300);return}t("#"+mi.$).empty(),this.re(),t("#"+this.$).modal("show")}static re(){let e=u.s62;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<form>").on("submit",s=>{s.preventDefault(),this.p63()}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("profile_login_title"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"row"}).append(t("<div>",{class:"col-xs-offset-2 col-xs-8"}).append(t("<a>",{href:"https://minesweeper.online/social/google/login/"+e,class:"btn btn-sm btn-block btn-social btn-google"}).append(t("<span>",{class:"fa fa-google"}),a("profile_sign_in_with",{"%app%":"Google"})),t("<a>",{"href-local":"facebook",class:"btn btn-sm btn-block btn-social btn-facebook"}).append(t("<span>",{class:"fa fa-facebook"}),a("profile_sign_in_with",{"%app%":"Facebook"})),t("<a>",{href:"https://minesweeper.online/social/twitter/login/"+e,class:"btn btn-sm btn-block btn-social btn-twitter"}).append(t("<span>",{class:"fa fa-twitter"}),a("profile_sign_in_with",{"%app%":"Twitter"})))),"<hr/>",t("<div>",{class:"text-center"}).css("margin-bottom","25px").append(t("<strong>").append(a("profile_or_sign_in_with_username"))),t("<div>",{class:"form-horizontal"}).append(t("<div>",{id:"sign_in_username_group",class:"form-group"}).append(t("<label>",{for:"sign_in_username",class:"col-xs-4 control-label"}).html(a("profile_username")+"/"+a("profile_email")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_in_username",type:"text",class:"form-control",required:"required"}),t("<span>",{id:"sign_in_username_help",class:"help-block"}))),t("<div>",{id:"sign_in_password_group",class:"form-group"}).append(t("<label>",{for:"sign_in_password",class:"col-xs-4 control-label"}).html(a("profile_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"sign_in_password",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"sign_in_password_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-6 col-xs-offset-4"}).append(t("<a>",{"href-local":"password-reset"}).html(a("profile_forgot_password")))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{type:"submit",class:"btn btn-info"}).html(a("profile_login_button"))))))),t("#"+this.$).on("shown.bs.modal",()=>{t("#sign_in_username").focus()}),x.r226()}static p63(){t(".form-group").removeClass("has-error"),t(".help-block").html("");let e=[t("#sign_in_username").val(),t("#sign_in_password").val()];y.m109("ProfileController.signInWsAction",e,this.s68.bind(this))}static s68(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#sign_in_"+s+"_group").addClass("has-error"),t("#sign_in_"+s+"_help").html(Array.isArray(e[s])?a(e[s][0],e[s][1]):a(e[s])))}else x.n82("/")}};var zi=class{static $="PasswordResetUseHashBlock";static h62=null;static c124=!1;static re(){H.u74({title:a("reset_pass_title")}),t("#"+this.$).empty(),this.c124?(t("#"+this.$).append(t("<div>",{class:"alert alert-success",role:"alert"}).append('<span class="glyphicon glyphicon-ok"></span> ',a("profile_password_changed")),"<br/>",t("<button>",{type:"button",class:"btn btn-info"}).on("click",()=>ti.s143()).html(a("profile_login_button"))),this.c124=!1):(t("#"+this.$).append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("PasswordResetController.checkHashWsAction",[this.h62],this.r61.bind(this)))}static r61(e,s){if(!e){Si.h61=!0,x.n81("password-reset",!0);return}t("#"+this.$).html("").append(t("<h2>").text(a("reset_pass_change_password_for",{"%username%":b.g225(e,s)})),t("<hr>"),t("<form>",{class:"form-horizontal"}).on("submit",n=>{n.preventDefault(),this.u94()}).append(t("<div>",{id:"reset_change_pass_password_group",class:"form-group"}).append(t("<label>",{for:"reset_change_pass_password",class:"col-xs-4 control-label"}).html(a("profile_new_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"reset_change_pass_password",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"reset_change_pass_password_help",class:"help-block"}))),t("<div>",{id:"reset_change_pass_password_repeat_group",class:"form-group"}).append(t("<label>",{for:"reset_change_pass_repeat_password",class:"col-xs-4 control-label"}).html(a("profile_repeat_password")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"reset_change_pass_password_repeat",type:"password",class:"form-control",required:"required"}),t("<span>",{id:"reset_change_pass_password_repeat_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<button>",{type:"submit",class:"btn btn-success"}).html(a("profile_change_password_button")))))),t("#reset_change_pass_password").focus()}static u94(){let e=[this.h62,{password:t("#reset_change_pass_password").val(),password_repeat:t("#reset_change_pass_password_repeat").val()}];y.m109("PasswordResetController.useHashWsAction",e,this.u95.bind(this))}static u95(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#reset_change_pass_"+s+"_group").addClass("has-error"),t("#reset_change_pass_"+s+"_help").html(a(e[s])))}else this.c124=!0,this.re()}};var Ie=class{static $="ProfileBlock";static r134=!1;static u69=!1;static e73=!1;static re(){H.u74({title:a("profile_account")}),t("#"+this.$).empty(),this.r134&&(t("#"+this.$).append(t("<div>",{class:"alert alert-success",role:"alert"}).append(t("<button>",{type:"button",class:"close"}).on("click",()=>x.n81("profile",!0)).append("<span>&times;</span>"),'<span class="glyphicon glyphicon-ok"></span> ',a("profile_register_success_message"))),this.r134=!1),this.u69&&(t("#"+this.$).append(t("<div>",{class:"alert alert-success",role:"alert"}).append(t("<button>",{type:"button",class:"close"}).on("click",()=>x.n81("profile",!0)).append("<span>&times;</span>"),'<span class="glyphicon glyphicon-ok"></span> ',a("profile_update_success_message"))),this.u69=!1),t("#"+this.$).append(t("<h2>").html(a("profile_account")),t("<hr>"),t("<form>",{class:"form-horizontal"}).on("submit",e=>{e.preventDefault(),this.u96()}).append(t("<div>",{id:"profile_username_group",class:"form-group"}).append(t("<label>",{for:"profile_username",class:"col-xs-3 control-label"}).html(a("profile_username")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"profile_username",type:"text",class:"form-control",required:!0}).val(u.u61.username),t("<span>",{id:"profile_username_help",class:"help-block"}))),t("<div>",{id:"profile_email_group",class:"form-group"}).append(t("<label>",{for:"profile_email",class:"col-xs-3 control-label"}).html(a("Email")),t("<div>",{class:"col-xs-6"}).append(t("<input>",{id:"profile_email",type:"email",class:"form-control"}).val(u.u61.email),t("<span>",{id:"profile_email_help",class:"help-block"}))),t("<div>",{id:"profile_country_group",class:"form-group"}).append(t("<label>",{for:"profile_country",class:"col-xs-3 control-label"}).html(a("profile_country")),t("<div>",{class:"col-xs-6"}).append((()=>{let e=t("<select>",{id:"profile_country",class:"form-control",required:!0}),s=[];for(let n=0;n<i.C96.length;n++){let r=i.C96[n];s.push({code:r,name:a(r)})}s.sort((n,r)=>n.code=="XX"?1:r.code=="XX"?-1:n.name>r.name?1:-1);for(let n=0;n<s.length;n++)e.append(t("<option>",{value:s[n].code}).html(s[n].name));return e.val(u.u61.country),e})(),t("<span>",{id:"profile_country_help",class:"help-block"}))),t("<div>",{id:"profile_password_group",class:"form-group"}).append(t("<label>",{for:"profile_password",class:"col-xs-3 control-label"}).html(a("profile_password")),t("<div>",{class:"col-xs-9"}).append(t("<a>",{"href-local":"profile/change-password",class:"btn btn-default"}).html('<span class="glyphicon glyphicon-edit"></span> '+a("profile_change_password_button")))),t("<div>",{id:"profile_info_group",class:"form-group"}).append(t("<label>",{for:"profile_info",class:"col-xs-3 control-label"}).html(a("profile_public_info")),t("<div>",{class:"col-xs-9"}).append(t("<textarea>",{id:"profile_info",class:"form-control profile-info"}).val(u.u61.info),t("<span>",{id:"profile_info_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-3 control-label"}),t("<div>",{class:"col-xs-9"}).append(t("<button>",{type:"submit",class:"btn btn-success"}).html(a("profile_update_button")))))),this.e73&&(t("#profile_info").focus(),this.e73=!1),x.r226()}static u96(){let e=[{username:t("#profile_username").val(),email:t("#profile_email").val(),country:t("#profile_country").val(),info:t("#profile_info").val()}];y.m109("ProfileController.updateProfileWsAction",e,this.u97.bind(this))}static u97(e){if(e){t("#"+this.$).find(".form-group").removeClass("has-error");for(let s in e)e.hasOwnProperty(s)&&(t("#profile_"+s+"_group").addClass("has-error"),t("#profile_"+s+"_help").html(Array.isArray(e[s])?a(e[s][0],e[s][1]):a(e[s])))}else x.n82("profile/success")}};var Vs=class{static $="DeleteAccountDialog";static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>",{"aria-hidden":"true"}).html("&times;")),t("<h4>",{class:"modal-title"}).html(a("delete_account"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"text-danger bold"}).append(a("delete_account_warning")),"<br/>",t("<label>",{class:"checkbox-fixed"}).append(t("<input>",{type:"checkbox"}).on("change",()=>{t("#delete_confirmation").toggleClass("bold"),t("#delete_btn").prop("disabled",function(e,s){return!s})}),t("<span>",{id:"delete_confirmation"}).append(a("delete_account_confirmation")))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"delete_btn",type:"button",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).prop("disabled",!0).on("click",()=>this.d67()).html('<i class="fa fa-times"></i> '+a("delete_account"))))))}static d67(){t("#delete_btn").button("loading"),y.m109("UserInfoController.deleteAccountWsAction",[],()=>{location.reload()})}};var Yi=class{static $="PlayerBlock";static p62=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),jt.i95(this.p62,i.V62),y.m109("UserInfoController.getUserInfoWsAction",[null,this.p62],this.r61.bind(this))}static r61(e,s,n,r,l,p,o,c,f){H.u74({title:b.g225(this.p62,s.username),description:s.info&&s.info.length<=100?s.info:"",canonical:s.username?"":"/player/1"});let h=r&&(r.score||r.eventItems),g=h&&(r.scoreRank<=100||r.eventItemsRank<=100),w=n&&n.items?n.items:{},C=r&&r.items?r.items:{};if(t("#"+this.$).html("").append(t("<h2>").append(t("<div>",{class:"pull-left"}).append(t("<img>",{src:u.f62(s.country),class:"player-flag help",title:a(s.country),alt:s.country}).tooltip({trigger:"hover"}),t("<span>").text(b.g225(this.p62,s.username)),s.online?t("<i>",{id:"spectate_icon_"+this.p62,class:"fa fa-circle icon-online",title:a("watching_spectate_button")}).tooltip({trigger:"hover"}).on("click",()=>{t("#spectate_icon_"+this.p62).removeClass("fa-circle").addClass("fa-spinner fa-spin icon-online-active"),$t.s127(this.p62,s)}):"","&nbsp;",b.g226(n&&n.rewards?n.rewards:[],"reward-big")),t("<div>",{class:"clearfix"})),t("<hr>",{class:"medium-hr"}),t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_military_rank")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(n&&n.score?b.m107(n.score,!0).append(a(et.g279(n.score))):"\u2014")),n&&n.score>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_score")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(b.m108(s,n,0,"right").append(n.score,m.s176(0,"icon-right")),q.g207("score",n.scoreRank))):"",n&&n.timeLevel?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_best_time")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(p[1]!==void 0?t("<span>").append(q.m95({rank:n.timeLevel==1?n.timePointsRank:null,score:n.timeLevel==1?n.timeScore:null,finishedAt:p[1].finishedAt,level:1,sizeX:p[1].sizeX,sizeY:p[1].sizeY,mines:p[1].mines,duration:p[1].duration,bbbv:p[1].bbbv,bbbvs:p[1].bbbvs,mobile:p[1].mobile,category:n.timeLevel==1?a("ranking_category_time"):null}).append(q.m94(p[1].gameId,1,p[1].duration,!0,!1,n.timeLevel==1?"level1-link":"black-link"))):"",p[1]!==void 0>1&&(p[2]!==void 0||p[3]!==void 0)?'<span class="profile-space-wide"> </span>':"",p[2]!==void 0?t("<span>").append(q.m95({rank:n.timeLevel==2?n.timePointsRank:null,score:n.timeLevel==2?n.timeScore:null,finishedAt:p[2].finishedAt,level:2,sizeX:p[2].sizeX,sizeY:p[2].sizeY,mines:p[2].mines,duration:p[2].duration,bbbv:p[2].bbbv,bbbvs:p[2].bbbvs,mobile:p[2].mobile,category:n.timeLevel==2?a("ranking_category_time"):null}).append(q.m94(p[2].gameId,2,p[2].duration,!0,!1,n.timeLevel==2?"level2-link":"black-link"))):"",p[2]!==void 0&&p[3]!==void 0?'<span class="profile-space-wide"> </span>':"",p[3]!==void 0?t("<span>").append(q.m95({rank:n.timeLevel==3?n.timePointsRank:null,score:n.timeLevel==3?n.timeScore:null,finishedAt:p[3].finishedAt,level:3,sizeX:p[3].sizeX,sizeY:p[3].sizeY,mines:p[3].mines,duration:p[3].duration,bbbv:p[3].bbbv,bbbvs:p[3].bbbvs,mobile:p[3].mobile,category:n.timeLevel==3?a("ranking_category_time"):null}).append(q.m94(p[3].gameId,3,p[3].duration,!0,!1,n.timeLevel==3?"level3-link":"black-link"))):"",[i.G67,i.G68,i.G69].indexOf(n.timeLevel)==-1?t("<span>").append('<span class="profile-space-wide"> </span>',q.m95({rank:n.timePointsRank,score:n.timeScore,finishedAt:n.timeFinishedAt,level:n.timeLevel,sizeX:n.timeSizeX,sizeY:n.timeSizeY,mines:n.timeMines,duration:n.timeDuration,bbbv:n.timeBbbv,bbbvs:n.timeBbbvs,mobile:n.timeMobile,category:a("ranking_category_time")}).append(q.m94(n.timeId,n.timeLevel,n.timeDuration,!0,!1,"black-link"))):"")):"",n&&n.effLevel?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("game_eff")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(o[1]!==void 0&&o[1].eff>=100?t("<span>").append(q.m95({rank:n.effLevel==1?n.effPointsRank:null,score:n.effLevel==1?n.effScore:null,finishedAt:o[1].finishedAt,level:1,sizeX:o[1].sizeX,sizeY:o[1].sizeY,mines:o[1].mines,effStrong:o[1].eff,duration:o[1].duration,bbbv:o[1].bbbv,bbbvs:o[1].bbbvs,mobile:o[1].mobile,category:n.effLevel==1?a("ranking_category_eff"):null}).append(t("<a>",{"href-local":"game/"+o[1].gameId,class:n.effLevel==1?"level1-link":"black-link"}).append(m.e87("level1"),o[1].eff+"%"))):"",o[1]!==void 0>1&&(o[2]!==void 0||o[3]!==void 0)?'<span class="profile-space-wide"> </span>':"",o[2]!==void 0&&o[2].eff>=100?t("<span>").append(q.m95({rank:n.effLevel==2?n.effPointsRank:null,score:n.effLevel==2?n.effScore:null,finishedAt:o[2].finishedAt,level:2,sizeX:o[2].sizeX,sizeY:o[2].sizeY,mines:o[2].mines,effStrong:o[2].eff,duration:o[2].duration,bbbv:o[2].bbbv,bbbvs:o[2].bbbvs,mobile:o[2].mobile,category:n.effLevel==2?a("ranking_category_eff"):null}).append(t("<a>",{"href-local":"game/"+o[2].gameId,class:n.effLevel==2?"level2-link":"black-link"}).append(m.e87("level2"),o[2].eff+"%"))):"",o[2]!==void 0&&o[3]!==void 0?'<span class="profile-space-wide"> </span>':"",o[3]!==void 0&&o[3].eff>=100?t("<span>").append(q.m95({rank:n.effLevel==3?n.effPointsRank:null,score:n.effLevel==3?n.effScore:null,finishedAt:o[3].finishedAt,level:3,sizeX:o[3].sizeX,sizeY:o[3].sizeY,mines:o[3].mines,effStrong:o[3].eff,duration:o[3].duration,bbbv:o[3].bbbv,bbbvs:o[3].bbbvs,mobile:o[3].mobile,category:n.effLevel==3?a("ranking_category_eff"):null}).append(t("<a>",{"href-local":"game/"+o[3].gameId,class:n.effLevel==3?"level3-link":"black-link"}).append(m.e87("level3"),o[3].eff+"%"))):"")):"",t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_exp")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(n?t("<span>",{class:"text-nowrap"}).append(q.m95({rank:n.expRank,score:n.expScore,category:a("ranking_category_exp")}).append(b.g227(n.exp),m.e85("icon-right"))):"",n?"":t("<span>",{class:"text-nowrap"}).append(c==-1?"n/a":b.g227(c),c>0?m.e85("icon-right"):""),"&nbsp;&nbsp;&nbsp;",w[i.H97]>0?t("<span>",{class:"text-nowrap"}).append(b.g227(w[i.H97]),t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-right"))):"","&nbsp;&nbsp;&nbsp;",w&&w[i.R108]>0?t("<span>",{class:"text-nowrap"}).append(I.r214(w[i.R108],s.eliteAt).append((k.i90()?t("<span>"):t("<a>",{"href-local":u.u61.eliteAt?"nft/"+this.p62:"emc",class:"black-link no-underline"})).append(b.g227(w[i.R108]),m.r201("icon-right")))):"")),n&&n.quality>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_equipment")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(D.r210(n,!0,!0,!0))):"",n&&(n.coins>0||n.items)?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_resources")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(D.r211(n.coins,n.items,n.eq,l,"top"))):"",n&&(n.mastery1>1||n.mastery2>1||n.mastery3>1)?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>",{class:"help",title:a("mastery_description")}).tooltip({trigger:"hover"}).append(a("profile_mastery")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(n.mastery1>1?t("<span>").append(q.m95({rank:n.masteryLevel==1?n.masteryBestPointsRank:null,score:n.masteryLevel==1?n.masteryScore:null,finishedAt:n.mastery1FinishedAt,level:1,mastery:n.mastery1,avgTime:n.mastery1HintsTime%i.S80/1e3,sp:n.mastery1Points,category:n.masteryLevel==1?a("ranking_category_mastery"):null}).append(t("<a>",{"href-local":"mastery/"+n.mastery1Id,class:n.masteryLevel==1?"level1-link":"black-link"}).append(m.m103("mastery1"),n.mastery1))):"",n.mastery1>1&&(n.mastery2>1||n.mastery3>1)?'<span class="profile-space"> </span>':"",n.mastery2>1?t("<span>").append(q.m95({rank:n.masteryLevel==2?n.masteryBestPointsRank:null,score:n.masteryLevel==2?n.masteryScore:null,finishedAt:n.mastery2FinishedAt,level:2,mastery:n.mastery2,avgTime:n.mastery2HintsTime%i.S80/1e3,sp:n.mastery2Points,category:n.masteryLevel==2?a("ranking_category_mastery"):null}).append(t("<a>",{"href-local":"mastery/"+n.mastery2Id,class:n.masteryLevel==2?"level2-link":"black-link"}).append(m.m103("mastery2"),n.mastery2))):"",n.mastery2>1&&n.mastery3>1?'<span class="profile-space"> </span>':"",n.mastery3>1?t("<span>").append(q.m95({rank:n.masteryLevel==3?n.masteryBestPointsRank:null,score:n.masteryLevel==3?n.masteryScore:null,finishedAt:n.mastery3FinishedAt,level:3,mastery:n.mastery3,avgTime:n.mastery3HintsTime%i.S80/1e3,sp:n.mastery3Points,category:n.masteryLevel==3?a("ranking_category_mastery"):null}).append(t("<a>",{"href-local":"mastery/"+n.mastery3Id,class:n.masteryLevel==3?"level3-link":"black-link"}).append(m.m103("mastery3"),n.mastery3))):"")):"",n&&(n.ws1>1||n.ws2>1||n.ws3>1)?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>",{class:"help",title:a("ws_description")}).tooltip({trigger:"hover"}).append(a("profile_ws")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(n.ws1>1?t("<span>").append(q.m95({rank:n.wsLevel==1?n.wsBestPointsRank:null,score:n.wsLevel==1?n.wsScore:null,finishedAt:n.ws1FinishedAt,level:1,ws:n.ws1,avgTime:n.ws1HintsTime%i.S80/1e3,sp:n.ws1Points,category:n.wsLevel==1?a("ranking_category_ws"):null}).append(t("<a>",{"href-local":"winstreak/"+n.ws1Id,class:n.wsLevel==1?"level1-link":"black-link"}).append(m.w68("ws1"),n.ws1))):"",n.ws1>1&&(n.ws2>1||n.ws3>1)?'<span class="profile-space"> </span>':"",n.ws2>1?t("<span>").append(q.m95({rank:n.wsLevel==2?n.wsBestPointsRank:null,score:n.wsLevel==2?n.wsScore:null,finishedAt:n.ws2FinishedAt,level:2,ws:n.ws2,avgTime:n.ws2HintsTime%i.S80/1e3,sp:n.ws2Points,category:n.wsLevel==2?a("ranking_category_ws"):null}).append(t("<a>",{"href-local":"winstreak/"+n.ws2Id,class:n.wsLevel==2?"level2-link":"black-link"}).append(m.w68("ws2"),n.ws2))):"",n.ws2>1&&n.ws3>1?'<span class="profile-space"> </span>':"",n.ws3>1?t("<span>").append(q.m95({rank:n.wsLevel==3?n.wsBestPointsRank:null,score:n.wsLevel==3?n.wsScore:null,finishedAt:n.ws3FinishedAt,level:3,ws:n.ws3,avgTime:n.ws3HintsTime%i.S80/1e3,sp:n.ws3Points,category:n.wsLevel==3?a("ranking_category_ws"):null}).append(t("<a>",{"href-local":"winstreak/"+n.ws3Id,class:n.wsLevel==3?"level3-link":"black-link"}).append(m.w68("ws3"),n.ws3))):"")):"",n&&n.arenaPoints>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_points")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(q.m95({rank:n.arenaPointsRank,score:n.arenaScore,category:a("arena_points"),arenaResults:f}).append(m.a103(),n.arenaPoints,n.arenaPoints==80&&f.every(A=>A.mode==i.A101)?"E":""))):"",n&&n.diff>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_max_diff")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(q.m95({rank:n.diffRank,score:n.diffScore,finishedAt:n.diffFinishedAt,level:n.diffLevel,sizeX:n.diffSizeX,sizeY:n.diffSizeY,mines:n.diffMines,bbbv:n.diffBbbv,realDiff:n.diff,category:a("ranking_category_diff")}).append(m.d76(n.diff,!1),"&nbsp;",t("<a>",{"href-local":"game/"+n.diffId,class:"black-link"}).append(b.g227(n.diff))))):"",n&&n.endBestPoints>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>",{class:"help",title:a("endurance_description")}).tooltip({trigger:"hover"}).append(a("profile_end")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(q.m95({rank:n.endBestPointsRank,score:n.endScore,finishedAt:n.endFinishedAt,endLevel:n.endLevel,endTime:n["end"+n.endLevel],category:a("ranking_category_end")}).append(t("<a>",{"href-local":"endurance/"+n.endBestId,class:"black-link"}).append(m.e86("end"+n.endLevel),q.g211(n["end"+n.endLevel],!0))))):"",n&&n.winsAll>0?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_wins")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(m.w69(),b.g227(n.winsAll))):"",h?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("season")+" "+gt.g224(r.season)+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(r.score?b.m108(s,r,r.season,"right").append(r.score,m.s176(r.season,"icon-right")):"",g&&r.scoreRank<1e3?q.g207("season-leaders",r.scoreRank,!0):"","&nbsp;&nbsp;",(g?t("<div>",{class:"score-bottom"}):t("<span>")).append(r.eventItems?t("<span>",{class:"help"}).append(r.eventItems,m.e89(R.g260(),"big")).popover({trigger:"hover",placement:"top",html:!0,content:()=>{let A=t("<span>");for(let M=i.E86,P=0;M<=i.E100;M++)C[M]&&C[M]>0&&A.append(t("<span>",{class:"text-nowrap-inline"}).append(C[M],m.e89(M,"small")),++P%4==0&&!k.i90()?"<br/>":"&nbsp;&nbsp;");return A}}):"",g&&r.eventItemsRank<1e3?q.g207("events",r.eventItemsRank,!0):""))):"",!h&&n&&n.lastSeason?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_last_season")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(F.g205(n.lastSeason))):"",this.p62!=u.u61.id?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8 form-text"}).append(t("<button>",{class:"btn btn-xs btn-default"}).on("click",()=>Qt.s79(this.p62)).append('<span class="glyphicon glyphicon-envelope"></span> ',a("chat_user_send_message")),"&nbsp;","&nbsp;",this.p62!=u.u61.id&&i.G133.indexOf(u.u61.id)!=-1?t("<a>",{"href-local":"admin/"+this.p62,class:"btn btn-xs btn-default"}).html('<i class="fa fa-id-card-o"></i> Go to admin'):"")):"",s.username?t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("profile_info")+a(":"))),t("<div>",{class:"col-xs-8 form-text hidden-xs"}).append(t("<span>",{class:"player-public-info"}).append(s.info?this.g113(s.info):"\u2014"),"&nbsp;&nbsp;&nbsp;",u.u61&&u.u61.id==this.p62?t("<a>",{"href-local":"profile",class:"btn btn-xs btn-info"}).on("click",this.e72).append('<span class="glyphicon glyphicon-pencil"></span> '+a("profile_info_edit_button")):"")):"",t("<div>",{class:"hidden-sm hidden-md hidden-lg"}).append(t("<span>",{class:"player-public-info"}).append(s.info?this.g113(s.info):"\u2014"),"&nbsp;&nbsp;&nbsp;",u.u61&&u.u61.id==this.p62?t("<a>",{"href-local":"profile",class:"btn btn-xs btn-info"}).on("click",this.e72).append('<span class="glyphicon glyphicon-pencil"></span> '+a("profile_info_edit_button")):"")),"<br/>","<hr/>",t("<div>",{id:"player_positions",class:"form-horizontal"})),n&&n.winsAll>0){let A=t("#player_positions");A.append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(),t("<div>",{class:"pull-left form-text player-info-game-column"}).append(t("<strong>").html(a("profile_best_game"))),t("<div>",{class:"pull-left form-text"}).append(t("<strong>").html(a("profile_wins")))));let M=[i.G67,i.G68,i.G69,i.G70,i.G71,i.G72,i.G73,i.G74,i.G75];for(let P=0;P<=M.length;P++){let B=M[P],L=n["wins"+B];L>0&&A.append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(q.g206(B,!0),a(":")),t("<div>",{class:"pull-left form-text player-info-game-column"}).append(p[B]!==void 0?q.m95({finishedAt:p[B].finishedAt,level:p[B].level,sizeX:p[B].sizeX,sizeY:p[B].sizeY,mines:p[B].mines,duration:p[B].duration,bbbv:p[B].bbbv,bbbvs:p[B].bbbvs,eff:p[B].eff}).append(q.m94(p[B].gameId,p[B].level,p[B].duration,!1,!1,"black-link")):"\u2014"),t("<div>",{class:"pull-left form-text"}).append(L)))}}this.p62==u.u61.id&&n&&n.winsAll>0&&t("#"+this.$).append("<br/>","<hr/>",t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group form-group-player-info"}).append(t("<div>",{class:"col-xs-4 control-label"}).append("&nbsp;"),t("<div>",{class:"pull-left form-text player-info-game-column"}).append(t("<a>",{href:"javascript:void(0)",class:"text-nowrap gray"}).on("click",()=>this.d67()).append('<i class="fa fa-times-rectangle"></i> '+a("delete_account")))))),dt.h78(),x.r226()}static d67(){Vs.s143()}static e72(){Ie.e73=!0,x.n81("profile",!0)}static g113(e){e=e.replace(/[&<>]/g,this.r133);let s=[J.g287(V.e97),...i.A122],n=new RegExp("(https://("+s.join("|")+")/?[0-9a-zA-Z-./?=#_&]*)","g");return e=e.replace(n,`<a class='external-link' href="$1" target='_blank'>$1</a>`),e}static r133(e){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]||e}};var Jt=class{static $="SeriesBlock";static g118=null;static c131=null;static re(){t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>');let e;this.c131=="mastery"||this.c131=="mastery-nh"?e=i.V63:this.c131=="ws"||this.c131=="ws-nh"?e=i.V64:e=i.V65,jt.i95(this.g118,e),y.m109("GameInfoController.getGameSeriesWsAction",[this.g118,this.c131],this.r61.bind(this))}static r61(e,s,n,r){H.u74({title:a("ranking_category_"+this.c131.replace("-nh",""))+" #"+this.g118});let l=t("<table>",{class:"table table-bordered width-auto no-margin"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append("#"),t("<th>").append(a("ranking_column_game")),this.c131!="end"?t("<th>").append(""):"",t("<th>").append(a("ranking_column_date"))))),p=0;for(let o=0,c=0;o<s.length;o++){let f=s[o];f.seriesState==i.G99&&(p+=f.hints),l.append(t("<tr>").append(t("<td>").append(f.seriesState==i.G99?++c:""),t("<td>").append(q.m94(f.id,f.seriesState==i.G99?f.level:i.G70,f.duration,!1,!0,f.seriesState==i.G99?"black-link":"mediumgray")),this.c131!="end"?t("<td>").append(f.seriesState!=i.G102?t("<span>",{class:"help",title:q.g163(f.seriesState)}).tooltip({html:!0,trigger:"hover"}).append(q.g162(f.seriesState,f.level)):""):"",t("<td>").append(f.finishedAt?t("<span>",{class:f.seriesState==i.G99?"":"mediumgray"}).append(F.g202(f.finishedAt,!1,!1)):"")))}t("#"+this.$).html("").append(t("<table>",{class:"series-table"}).append(t("<tr>").append(t("<td>").append("<strong>"+a("ranking_column_player")+a(":")+"</strong>"),t("<td>").append(t("<img>",{src:u.f62(e.country),class:"player-flag help",title:a(e.country)}).tooltip({trigger:"hover"}),t("<a>",{"href-local":"player/"+e.id}).text(b.g225(e.id,e.username)))),this.c131!="end"||r?t("<tr>").append(t("<td>").append("<strong>"+a("ranking_column_"+this.c131.replace("-nh",""))+a(":")+"</strong>"),t("<td>").append(this.c131=="mastery"||this.c131=="mastery-nh"?t("<span>").append(m.m103("mastery"+s[0].level),n,this.c131=="mastery-nh"?" ("+a("ranking_no_hints")+")":""):"",this.c131=="ws"||this.c131=="ws-nh"?t("<span>").append(m.w68("ws"+s[0].level),n,this.c131=="ws-nh"?" ("+a("ranking_no_hints")+")":""):"",this.c131=="end"?t("<span>").append(m.e86("end"+s[0].level),q.g211(r,!0,!0)):"")):"",this.c131!="mastery-nh"&&this.c131!="ws-nh"?t("<tr>").append(t("<td>").append("<strong>"+a("game_hints_used")+a(":")+"</strong>"),t("<td>").append('<i class="fa fa-magic level'+s[0].level+'-link"></i> ',p)):"",t("<tr>").append(t("<td>").append("<strong>"+a("ranking_column_games")+a(":")+"</strong>"),t("<td>").append(l)))),x.r226()}};var Xs=class{static $="ServersBlock";static s110=!1;static E66="production";static S65=100;static re(){H.u74({title:"Servers"}),t("#"+this.$).empty().append(t("<table>",{id:"servers_table",class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<th>"),t("<th>").append("Status"),t("<th>").append("Players<br/>online"),this.s110?t("<th>").append("Active<br/>games"):"",t("<th>").append("Uptime"),t("<th>").append("Load<br/>average"))));let e=0,s=["EU","AS","NA","SA","AU","AF"];for(let n=0;n<s.length;n++){let r=s[n];t("#servers_table").append(t("<tr>").append(t("<th>",{colspan:6}).append(t("<strong>").append(a("continent_"+r)))));for(let l in J.a108[V.e97]){let p=J.a108[V.e97][l];if(p.role=="game"&&p.continent==r){let o=p.extraInstances?p.extraInstances.slice(0):[];o.unshift(l);for(let c=0;c<o.length;c++){let f=o[c],h=J.a108[V.e97][f];t("#servers_table").append(t("<tr>").append(t("<td>").append(t("<strong>").append(t("<img>",{src:u.f62(h.country),class:"player-flag"}),h.name)),t("<td>").append(t("<span>",{id:"server_"+f+"_status"})),t("<td>").append(t("<span>",{id:"server_"+f+"_stat1"})),this.s110?t("<td>").append(t("<span>",{id:"server_"+f+"_stat2"})):"",t("<td>").append(t("<span>",{id:"server_"+f+"_stat3"})),t("<td>").append(t("<span>",{id:"server_"+f+"_stat4"})))),setTimeout(this.c132(f),e*this.S65),e++}}}}x.r226()}static c132(e){return()=>{y.m109("ServersController.getServersStatsWsAction",[this.E66,e],this.s111.bind(this))}}static s111(e,s){if(s===null)t("#server_"+e+"_status").html('<i class="fa fa-times-circle text-danger icon-state"></i>'),t("#server_"+e+"_stat1").html(""),t("#server_"+e+"_stat2").html(""),t("#server_"+e+"_stat3").html("");else{s=s.split(","),t("#server_"+e+"_status").html('<i class="fa fa-check-circle text-success icon-state"></i>'),t("#server_"+e+"_stat1").html(s[0]),t("#server_"+e+"_stat2").html(s[1]),t("#server_"+e+"_stat3").html(s[2]+"d");let n;s[3]>=66?n="text-danger":s[3]>=33?n="text-warning":n="text-success",t("#server_"+e+"_stat4").html('<span class="'+n+'">'+s[3]+"%</span>")}}};var Zs=class{static t61="mastery";static $="SkillPointsBlock";static re(){H.u74({title:a("ranking_column_skill_points")}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("ScoresController.getSkillPointsWsAction",[this.t61],this.r61.bind(this))}static r61(e,s){t("#"+this.$).empty().append(t("<h2>").append(a("ranking_column_skill_points")),"<hr/>",e=="ws"?t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.u105("mastery")).append(a("ranking_column_mastery")):"<strong>"+a("ranking_column_mastery")+"</strong>","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",e=="mastery"?t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.u105("ws")).append(a("ranking_column_ws")):"<strong>"+a("ranking_column_ws")+"</strong>","<br/>","<br/>",t("<table>",{class:"table table-bordered width-auto"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(e=="ws"?a("ranking_column_ws"):a("ranking_column_mastery")),t("<th>").append(a("ranking_column_level")),t("<th>").append(a("ranking_column_skill_points")))),t("<tbody>",{id:"skill_points_tbody"})));for(let n=0;n<s.length;n++){let r=s[n];r.points>4327e4||t("#skill_points_tbody").append(t("<tr>").append(t("<td>").append(e=="ws"?m.w68("icon-small ws"+r.level):m.m103("icon-small mastery"+r.level),r[e]),t("<td>").append(a("level_"+r.level)),t("<td>").append(Math.round(r.points/1e6*100)/100)))}}static u105(e){this.t61=e,this.re()}};var Js=class{static $="TeamBlock";static re(){if(i.G133.indexOf(u.u61.id)==-1){x.e94("404");return}H.u74({title:"Team"}),t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("UserInfoController.getTeamMembersWsAction",[],this.r61.bind(this))}static r61(e){let s=[];for(let n=0;n<e.length;n++){let r=e[n];i.A121.indexOf(r.userId)==-1&&s.push(t("<tr>").append(t("<td>").append(b.m106(r.userId,r,"top",null,!1,!0))))}t("#"+this.$).empty().append(t("<table>",{class:"table table-bordered width-auto"}).append(s)),x.r226()}};var zs=class{static $="TestBlock";static re(){H.u74({title:"Test"}),t("#"+this.$).empty().append(t("<button>",{class:"btn btn-default"}).on("click",()=>this.s133()).append("Test1"),"&nbsp;",t("<button>",{class:"btn btn-default"}).on("click",()=>this.s134()).append("Test2"),"&nbsp;",t("<button>",{class:"btn btn-default"}).on("click",()=>this.s135()).append("Test3"),"<hr/>"),x.r226()}static s133(){te.t61=te.T77,te.s143()}static s134(){te.t61=te.T79,te.s143()}static s135(){te.t61=te.T78,te.s143()}};var Ti=class{static $="SeasonRewardDialog";static u89=null;static s146=null;static s147=null;static i112=!1;static c173(){y.m109("SeasonRewardController.checkSeasonRewardWsAction",[],(e,s,n)=>{this.u89=e,this.s146=s,this.s147=n,this.s143(),this.i112=!0})}static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=i.g252(this.u89.score,this.s146),s=t("<table>",{class:"season-result-table"}).append(t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("ranking_season")),t("<td>").append(F.g205(this.u89.season,!1))),this.u89.timePoints>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_best_time")),t("<td>").append(q.m95({category:a("ranking_category_time"),finishedAt:this.u89.timeFinishedAt,level:this.u89.timeLevel,sizeX:this.u89.timeSizeX,sizeY:this.u89.timeSizeY,mines:this.u89.timeMines,duration:this.u89.timeDuration,bbbv:this.u89.timeBbbv,bbbvs:this.u89.timeBbbvs}).append(q.m94(this.u89.timeId,this.u89.timeLevel,this.u89.timeDuration,!1,!1,"black-link"))),t("<td>",{class:"text-nowrap"}).append(this.u89.timeScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.effPoints>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("game_eff")),t("<td>").append(q.m95({category:a("ranking_category_eff"),finishedAt:this.u89.effFinishedAt,level:this.u89.effLevel,effStrong:this.u89.effEff,duration:this.u89.effDuration,bbbv:this.u89.effBbbv,bbbvs:this.u89.effBbbvs}).append(t("<a>",{"href-local":"game/"+this.u89.effId,class:"level"+this.u89.effLevel+"-link"}).append(m.e87("level"+this.u89.effLevel),this.u89.effEff+"%"))),t("<td>",{class:"text-nowrap"}).append(this.u89.effScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.expScore>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_exp")),t("<td>").append(q.m95({category:a("ranking_category_exp")}).append(b.g227(this.u89.exp),m.e85("icon-right"))),t("<td>",{class:"text-nowrap"}).append(this.u89.expScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.coinsSeasonScore>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_coins")),t("<td>").append(q.m95({category:a("ranking_category_coins")}).append(b.g227(this.u89.coinsSeason),m.c199("icon-right"))),t("<td>",{class:"text-nowrap"}).append(this.u89.coinsSeasonScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.masteryBestId&&this.u89["mastery"+this.u89.masteryLevel]>1?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_mastery")),t("<td>").append(q.m95({category:a("ranking_category_mastery"),level:this.u89.masteryLevel,mastery:this.u89["mastery"+this.u89.masteryLevel],avgTime:this.u89["mastery"+this.u89.masteryLevel+"HintsTime"]%i.S80/1e3}).append(t("<a>",{"href-local":"mastery/"+this.u89.masteryBestId,class:"black-link"}).append(m.m103("mastery"+this.u89.masteryLevel),this.u89["mastery"+this.u89.masteryLevel]))),t("<td>",{class:"text-nowrap"}).append(this.u89.masteryScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.wsBestId&&this.u89["ws"+this.u89.wsLevel]>1?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_ws")),t("<td>").append(q.m95({category:a("ranking_category_ws"),level:this.u89.wsLevel,ws:this.u89["ws"+this.u89.wsLevel],avgTime:this.u89["ws"+this.u89.wsLevel+"HintsTime"]%i.S80/1e3}).append(t("<a>",{"href-local":"ws/"+this.u89.wsBestId,class:"black-link"}).append(m.w68("ws"+this.u89.wsLevel),this.u89["ws"+this.u89.wsLevel]))),t("<td>",{class:"text-nowrap"}).append(this.u89.wsScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.arenaPoints>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("arena_points")),t("<td>").append(q.m95({category:a("arena_points")}).append(this.u89.arenaPoints,m.a103("icon-right"))),t("<td>",{class:"text-nowrap"}).append(this.u89.arenaScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.diff>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_max_diff")),t("<td>").append(q.m95({finishedAt:this.u89.diffFinishedAt,level:this.u89.diffLevel,sizeX:this.u89.diffSizeX,sizeY:this.u89.diffSizeY,mines:this.u89.diffMines,bbbv:this.u89.diffBbbv,realDiff:this.u89.diff,category:a("ranking_category_diff")}).append(m.d76(this.u89.diff,!1),"&nbsp;",t("<a>",{"href-local":"game/"+this.u89.diffId,class:"black-link"}).append(b.g227(this.u89.diff)))),t("<td>",{class:"text-nowrap"}).append(this.u89.diffScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.endBestId?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("profile_end")),t("<td>").append(q.m95({category:a("ranking_category_end"),endLevel:this.u89.endLevel,endTime:this.u89["end"+this.u89.endLevel]}).append(t("<a>",{"href-local":"endurance/"+this.u89.endBestId,class:"black-link"}).append(m.e86("end"+this.u89.endLevel),q.g211(this.u89["end"+this.u89.endLevel],!0)))),t("<td>",{class:"text-nowrap"}).append(this.u89.endScore,m.s176(this.u89.season,"icon-right "))):"",this.u89.rewardsAll>0?t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("ranking_category_rewards")),t("<td>").append(q.m95({category:a("ranking_category_rewards")}).append(m.r200(),this.u89.rewardsAll)),t("<td>",{class:"text-nowrap"}).append(this.u89.rewardsScore,m.s176(this.u89.season,"icon-right "))):"",t("<tr>").append(t("<td>").append("&nbsp;")),t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("game_season_rank")),t("<td>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.n72(this.u89.season,this.s146)).html("<strong>"+this.s146+"</strong>")," / ",this.s147)),t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("ranking_column_score")),t("<td>").append(this.u89.score,m.s176(this.u89.season,"icon-right "))),t("<tr>").append(t("<td>",{class:"season-result-table-left-column"}).append(a("season_reward")),t("<td>").append(t("<div>",{class:"text-nowrap"}).append(b.g227(e[0]),m.c199("icon-right"),"&nbsp;&nbsp;&nbsp;",e[1]>=1?t("<span>").append(e[1],m.g212(i.G127,"gem-reward")):""))));t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("season_results"))),t("<div>",{class:"modal-body"}).append(s),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),x.r226()}static n72(e,s){Y.s98(e),S.s129=s,x.n81("season-leaders",!0)}static c174(){this.i112&&(t("#"+this.$).modal("hide"),this.i112=!1)}};var Ys=class{static $="EmcPrivilegesBlock";static re(){if(!u.u61.eliteAt){t("#"+this.$).empty().append(fe.r91());return}H.u74({title:a("emc_elite_privileges")}),t("#"+this.$).empty().append(t("<h2>").append(a("emc_elite_privileges")),"<hr/>");let e=[];for(let s=0;s<be.T110.length;s++){let n=be.T110[s];e.push(t("<tr>").append(t("<td>").append(a("emc_tier_"+n[0])),t("<td>").append(n[1]),t("<td>").append(t("<ul>",{class:"special-bonuses"}).css("margin-top",0).append(t("<li>").append(a("equipment_bonus_"+i.B81)+a(": ")+"+"+be.T111[n[0]]+"%"),t("<li>").append(a("equipment_bonus_"+i.B82)+a(": ")+"+"+be.T111[n[0]]+"%"),t("<li>").append(a("equipment_bonus_"+i.B80)+a(": ")+"+"+be.T111[n[0]]+"%"),n[0]==9?t("<li>").append(I.t111("","top",i.T105)):""))))}t("#"+this.$).append(t("<table>",{class:"table table-bordered width-auto"}).append(t("<tr>").append(t("<th>").append(a("emc_tier")),t("<th>").append(a("emc_tier_rep_required",{" ":"<br/>"})),t("<th>").append(a("emc_tier_bonuses"))),e))}};var ta=class{static $="EmcRulesBlock";static re(){if(!u.u61.eliteAt){t("#"+this.$).empty().append(fe.r91());return}H.u74({title:a("emc_welcome_rules_title")});let e=u.u61.premiumTo&&new Date(u.u61.premiumTo).getTime()>Date.now()||u.u61.patronState==1||u.u61.patronState==2;t("#"+this.$).empty().append(t("<h2>").append(a("emc_welcome_rules_title")),"<hr/>",t("<ul>").append(t("<li>").append(a("emc_welcome_rule1")),t("<li>").append(a("emc_welcome_rule2")),t("<li>").append(a("emc_welcome_rule3"))),"<br/>",e?"":t("<div>",{class:"text-info"}).append('<i class="fa fa-info-circle"></i> ',a("emc_welcome_premium"))),x.r226()}};var Qe=class{static $="InvoiceBlock";static f70=!1;static h62=null;static re(){t("#"+this.$).html('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("BillingController.getInvoiceWsAction",[this.h62],this.r61.bind(this))}static r61(e){let s=e.hash.substring(0,i.I69).toUpperCase();H.u74({title:a("shop_invoice")+" #"+s});let n=i.C167[e.currency]?i.C167[e.currency]:e.currency,r=e.itemType?T.i143(e.itemType):null;t("#"+this.$).empty().append(t("<h2>").append(t("<div>",{class:"pull-left"}).append(a("shop_invoice")+" #"+s),t("<div>",{class:"pull-right "+(e.state==i.I71?"text-success":"text-danger")}).append(a("shop_invoice_state_"+e.state)),t("<div>",{class:"clearfix"})),"<hr/>",t("<p>").append("<strong>"+a("ranking_column_player")+a(": ")+"</strong>",b.m106(e.userId,e)),t("<p>").append("<strong>"+a("shop_payment_method")+a(": ")+"</strong>"+a("payment_method_"+e.paymentMethod)),t("<p>").append("<strong>"+a("shop_invoice_date")+a(": ")+"</strong>"+F.g202(e.createdAt,!1,!0)),e.state==i.I71?"<strong>"+a("shop_invoice_payment_date")+a(": ")+"</strong>"+F.g202(e.paidAt,!1,!0):"<strong>"+a("shop_invoice_due_date")+a(": ")+"</strong>"+F.g202(e.expiresAt,!1,!0),"<br/>","<br/>",t("<table>",{class:"table table-bordered table-invoice"}).append(t("<thead>").append(t("<tr>").append(t("<th>").append(a("shop_invoice_description")),t("<th>").append(a("shop_invoice_amount")))),t("<tbody>").append(t("<tr>").append(t("<td>").append(Ct.g154(e.product),e.product==i.P117&&e.itemType?t("<div>").css("margin-top","5px").append(D.m104(r).append(D.r204(r,"small")," ",D.r205(r,!0))):""),t("<td>").append(n," ",e.total)),t("<tr>").append(t("<td>",{class:"text-right bold"}).append(a("shop_invoice_total_amount")+a(":")),t("<td>",{class:"bold"}).append(n," ",e.total))))),e.state==i.I70&&new Date(e.expiresAt)>new Date&&(e.paymentMethod==i.P76?t("#"+this.$).append("<hr/>",t("<div>").append(t("<h3>").append(a("shop_crypto_title")).css("margin-bottom","20px"),'<p>BTC (Bitcoin): <code style="color: #963;">1JwE3BDV5q25aLfitE22yBFgPx3PBxKFzT</code></p>','<p>ETH (Ethereum ERC20): <code style="color: #369;">0x0C87Eb7276aD89Fa8c4ed9bBa8eb5A28BBdc88Aa</code></p>','<p>USDT (TRC20): <code style="color: #373;">TWQ43m46JPX8UKwqKQRT199fUnQccPrAwb</code></p>',"<p>"+a("shop_crypto_message",{"%invoice%":"#<b>"+s+"</b>","support@minesweeper.online":'<a href="mailto:support@minesweeper.online">support@minesweeper.online</a>'})+"</p>")):e.paymentMethod==i.P77?t("#"+this.$).append("<hr/>",t("<h3>").append('\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 <a href="https://boosty.to/minesweeper_online" target="_blank">Boosty</a>').css("margin-bottom","15px"),"1. \u041E\u0442\u043F\u0440\u0430\u0432\u044C\u0442\u0435 \u0434\u043E\u043D\u0430\u0442 \u043D\u0430 \u0441\u0443\u043C\u043C\u0443 <b>"+Math.floor(e.total)+'</b> \u20BD (\u043A\u043D\u043E\u043F\u043A\u0430 "\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0434\u043E\u043D\u0430\u0442"). <a href="https://boosty.to/minesweeper_online" target="_blank">\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 Boosty</a><br/>',"2. \u0412 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0438 \u043A \u0434\u043E\u043D\u0430\u0442\u0443 \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430: <b>#"+s+"</b><br/>","3. \u041C\u044B \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043C \u0432\u0430\u0448 \u0437\u0430\u043A\u0430\u0437 \u0438 \u0432\u044B \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u0431\u043E\u043D\u0443\u0441\u044B. \u041E\u0431\u044B\u0447\u043D\u043E \u044D\u0442\u043E \u0437\u0430\u043D\u0438\u043C\u0430\u0435\u0442 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0447\u0430\u0441\u043E\u0432, \u043C\u0430\u043A\u0441\u0438\u043C\u0443\u043C \u2013 1 \u0434\u0435\u043D\u044C.<br/>",'4. \u041F\u043E \u0432\u0441\u0435\u043C \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C \u043F\u0438\u0448\u0438\u0442\u0435 \u043D\u0430 <a href="mailto:support@minesweeper.online">support@minesweeper.online</a>, \u043C\u044B \u0433\u043E\u0432\u043E\u0440\u0438\u043C \u043F\u043E \u0440\u0443\u0441\u0441\u043A\u0438.'):t("#"+this.$).append(t("<a>",{href:e.approvalUrl,class:"btn btn-primary"}).on("click",()=>{this.innerHTML=a("loading")+"..."}).html(a("shop_buy_now_button"))),u.u61.id==i.W84&&t("#"+this.$).append("<hr/>",t("<button>",{id:"make_payment",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.m70(e.id)).html("[ADMIN] Success payment: "+e.total+" "+e.currency))),x.r226()}static m70(e){confirm("Are you sure?")&&(t("#make_payment").button("loading"),y.m109("AdminController.makePaymentWsAction",[e],()=>{this.re()}))}};var fi=class{static $="InvoicesBlock";static u64=null;static re(){t("#"+this.$).html('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("BillingController.getInvoicesWsAction",[this.u64],this.r61.bind(this))}static r61(e){let s=[];for(let n=0;n<e.length;n++){let r=e[n];s.push(t("<tr>").append(t("<td>").append(t("<a>",{"href-local":"invoice/"+r.hash.substring(0,i.I69).toUpperCase()}).append(r.hash.substring(0,i.I69).toUpperCase())),t("<td>").append(F.g202(r.createdAt)),t("<td>").append(Ct.g154(r.product)),t("<td>").append(i.C167[r.currency]?i.C167[r.currency]+" ":"",r.total),t("<td>").append(a("payment_method_"+r.paymentMethod)),t("<td>",{class:r.state==i.I71?"text-success bold":""}).append(a("shop_invoice_state_"+r.state))))}t("#"+this.$).empty().append(t("<h2>",{class:"no-margin"}).html(a("shop_invoices_title")),"<hr/>",t("<table>",{class:"table table-bordered"}).append(t("<thead>").append(t("<tr>").append(t("<th>").html(a("shop_invoice")),t("<th>").html(a("shop_invoice_date")),t("<th>").html(a("shop_invoice_description")),t("<th>").html(a("shop_invoice_amount")),t("<th>").html(a("shop_payment_method")),t("<th>").html(a("shop_invoice_state")))),t("<tbody>").append(s))),x.r226()}};var Me=class{static $="ShopBuyingDialog";static i113=null;static m77=null;static m78=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){if(!E.u70){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(a("arena_rank_required")+a(": "),b.m107(1,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(1))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button"))))));return}t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.i113===null?t("<span>").append(m.c199("icon-left")+a("profile_coins")+" (1K)"):it.r123(this.i113,1,!1,"top"))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html((this.m78>1&&this.i113!==null?a("market_price_for_one"):a("market_price"))+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(Ke.r165(this.i113,1,!1))),this.m77>1?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_min_quantity")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(this.m77)):"",this.m78>1?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_quantity")+a(":"))),t("<div>",{class:"col-xs-7"}).append(t("<input>",{id:"shop_buying_amount",type:"number",class:"form-control buying-amount",min:this.m77,max:this.m78,autocomplete:"off"}).css("display","inline-block").on("input",()=>this.u117()).val(this.m77),this.i113===null?"&nbsp;&nbsp;x 1000"+m.c199("icon-right"):"")):"",this.m78>1?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_total")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(t("<span>",{class:"buying_total_price"}))):"",vt.c143())),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"shop_buy_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b90()).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),this.u117(),t("#"+this.$).on("shown.bs.modal",()=>{t("#shop_buying_amount").focus()}),vt.r155="shop",vt.re(),x.r226()}static u117(){let e;this.m78==1?e=1:(e=parseInt(t("#shop_buying_amount").val()),isNaN(e)&&(e=0)),e<this.m77||e>this.m78?(t(".buying_total_price").addClass("text-danger"),t("#shop_buy_btn").prop("disabled",!0)):(t(".buying_total_price").removeClass("text-danger"),t("#shop_buy_btn").prop("disabled",!1)),t(".buying_total_price").html(Ke.r165(this.i113,e,!0))}static b90(){let e;if(this.m78==1)e=1;else if(e=parseInt(t("#shop_buying_amount").val()),isNaN(e)||e<this.m77||e>this.m78){t("#shop_buying_amount").addClass("has-error");return}else t("#shop_buying_amount").removeClass("has-error");t("#shop_buy_btn").button("loading");let s=this.i113>=i.E102?i.P117:i.P116,n=Ct.g154(s),r=this.i113==null?1e3*e:0,l=this.i113,p=this.i113==null?null:e,o=vt.g150();o==i.P69&&this.i113>=i.E102&&T.i143(this.i113).perfectLevel>=1&&(o=i.P67),y.m109("BillingController.buyProductWsAction",[s,n,o,E.u104,v.l85,r,l,p],(c,f)=>{window.location=f})}};var ui=class{static $="SpecialOfferDialog";static s143(){this.re(),t("#"+this.$).modal("show"),E.i92(()=>{this.u121()})}static re(){let e=It.g238();t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).append('<i class="fa fa-gift"></i> ',Ct.g154(e.product))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"text-center"}).append(t("<p>").append(a("special_exp_message",{"%exp%":e.expReached>=1e6?Math.round(e.expReached/1e6)+"M":Math.round(e.expReached/1e3)+"K"}))),t("<div>").append(this.r184()),t("<div>",{class:"text-center"}).append(vt.c143())),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).append(a("profile_close_button")),"&nbsp;&nbsp;",t("<button>",{id:"special_btn",class:"btn btn-danger special-btn","data-loading-text":a("loading")+"..."}).on("click",()=>this.b77()).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),vt.r155="coffee",vt.re(),lt.i85("refreshes_in_special_offer_dialog",null,new Date(e.expiresAt),()=>{this.re()})}static u121(){let e=It.g238().product;t("#special_price").empty().append(t("<span>",{class:"shop-strike-danger no-bold-important"}).append(E.g147(e,!0,!0)),"&nbsp;",t("<span>",{class:"text-danger bold"}).append(E.g147(e,!0)))}static r184(){let e=It.g238();return t("<table>",{class:"width-auto"}).css("margin","auto").append(t("<tr>").append(t("<td>",{class:"equipment-table-column equipment-item-column text-center"}).append(t("<img>",{src:this.g177(e.product),class:"equipment-item-big equipment-item-type-special equipment-item-rarity-4"})),t("<td>").append(a("shop_donate_description_includes"),this.g178(),a("market_price")+a(": "),t("<span>",{id:"special_price"}),"<br/>",a("event_purchase_limit"),a(": "),t("<strong>",{class:"text-danger"}).append(1),t("<div>",{id:"refreshes_in_special_offer_dialog_wrapper"}).append(a("special_boost_expires_at")+a(": "),t("<strong>",{id:"refreshes_in_special_offer_dialog",class:"text-danger"})))))}static g177(e){return e==i.P119?kt.i135()?"/img/item/special-offer-s100-night.svg":"/img/item/special-offer-s100.svg":"/img/item/special-offer.svg"}static g178(){let e=It.g238(),s=e.product,n=u.u61.premiumTo&&new Date(u.u61.premiumTo)-Date.now()>i.U70*365*24*60*60*1e3,r=t("<ul>",{class:"special-bonuses"});return([i.P96,i.P97,i.P98,i.P99,i.P100,i.P101,i.P102,i.P103].indexOf(s)!=-1||s==i.P119&&!n)&&r.append(t("<li>",{class:"bold"}).append(a("shop_donate_description_premium"))),e.turboBoost&&r.append(t("<li>",{class:"bold"}).append(I.t111("dotted-underline","top",e.turboBoost))),E.g146(s,!1)&&r.append(t("<li>",{class:"bold"}).append(t("<span>",{id:"generous_coins_amount"}).append(E.g146(s,!0)),t("<span>",{class:"help",title:a("profile_coins")}).tooltip({trigger:"hover"}).append(m.c199("icon-small icon-right")))),i.g251(s)[4]&&r.append(t("<li>",{class:"bold"}).append(t("<strong>",{id:"generous_candies_amount"}).append(i.g251(s)[4]),t("<span>",{class:"help",title:a("candy_"+R.g260())}).tooltip({trigger:"hover"}).append(m.e89(R.g260(),"micro")))),i.g251(s)[1]&&r.append(t("<li>",{class:"bold"}).append(i.g251(s)[1],t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("hp-shop icon-right")))),r}static b77(){t("#special_btn").button("loading");let e=E.u104?E.u104:"USD",s=It.g238().product,n=Ct.g154(s);y.m109("BillingController.buyProductWsAction",[s,n,vt.g150(),e,v.l85,null,null,null],(r,l)=>{window.location=l})}static c166(){t("#"+this.$).modal("hide")}};var It=class{static s187=null;static i132=!1;static c209(){y.m109("SpecialOffersController.checkSpecialOfferWsAction",[],e=>{this.s187=e,this.u143(),e&&Ke.c149()})}static g238(){return this.s187}static u143(){this.s187&&!this.i132?t(".new_shop_mark").html('<i class="fa fa-circle new-quest-icon"></i>'):t(".new_shop_mark").empty()}static s188(){this.i132=!0,this.u143()}static n83(e){this.s187=e,this.u143(),e.product!=i.P119&&ui.s143()}};var ea=class{static $="SpecialOfferBuyingDialog";static s143(){this.re(),t("#"+this.$).modal("show")}static re(){if(!E.u70){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(a("arena_rank_required")+a(": "),b.m107(1,!1).append(t("<span>",{class:"dotted-underline"}).append(a(et.g279(1))))),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button"))))));return}let e=It.g238().product;t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog buying-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("market_buy"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_item")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(Ct.g154(e))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-5 control-label"}).append(t("<strong>").html(a("market_price")+a(":"))),t("<div>",{class:"col-xs-7 form-text"}).append(E.g147(e,!0))),vt.c143())),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),"&nbsp;&nbsp;",t("<button>",{id:"sp_buy_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).on("click",()=>this.b91()).html('<i class="fa fa-shopping-cart"></i> '+a("market_buy")))))),vt.r155="shop",vt.re(),x.r226()}static b91(){t("#sp_buy_btn").button("loading");let e=Ct.g154(It.g238().product);y.m109("BillingController.buyProductWsAction",[It.g238().product,e,vt.g150(),E.u104,v.l85,null,null,null],(s,n)=>{window.location=n})}};var Ke=class{static $="ShopBlock";static s112=10;static s113=50;static s117=111;static s118=null;static s83=[];static e74=null;static i93={};static m72=null;static u63=null;static re(){H.u74({title:a("shop_title")}),t("#"+this.$).empty().append(t("<a>",{name:"benefits"}),t("<div>").append(t("<h2>",{class:"pull-left"}).append('<i class="fa fa-shopping-cart"></i> ',a("shop_title")),t("<div>",{id:E.$,class:"pull-right shop-currency"}),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{id:"shop_content"}).append('<img src="/img/loading_big.gif"  class="loading-big"/>')),E.i92(()=>{this.u81()})}static u81(){y.m109("ShopController.getShopDataWsAction",[],this.r61.bind(this))}static r61(e,s,n,r,l){this.s83=e,this.e74=s,this.i93=n,this.m72=r,this.u63=l,this.r82(),It.s188()}static r82(){let e=[];if(It.g238()&&e.push(this.r164()),e.push(this.r108(null,null),this.r108(this.s112,null),this.r108(this.s113,null),this.r108(this.s117,null),this.r108(i.H97,5e3),this.r108(this.e74,5e3)),R.g256()==i.E108){this.s118||(R.g260()==i.F114?this.s118=i.A71:R.g260()==i.F115?this.s118=i.A73:this.s118=i.A69);let s={1:30,2:20,3:10,4:8,5:6,6:5,7:4,8:3};e.push(this.r108(this.s118,s[this.s118%10]))}for(let s=0;s<this.s83.length;s++)e.push(this.r108(this.s83[s].itemType,this.s83[s].isSold?0:1,this.s83[s].id));t("#shop_content").empty().append(t("<div>",{class:"text-right"}).append(t("<a>",{"href-local":"rates"}).append('<i class="fa fa-line-chart icon-left"></i>'+a("rates_title")),"&nbsp;&nbsp;&nbsp;",'<span class="gray">|</span>',"&nbsp;&nbsp;&nbsp;",t("<a>",{"href-local":"economy"}).append('<i class="fa fa-bar-chart icon-left"></i>'+a("economy_title"))),"<br/>",t("<table>",{id:"shop_table",class:"table table-bordered equipment-table"}).append(e),t("<div>").append(t("<div>",{class:"pull-left"}).append(),t("<div>",{id:"refreshes_in_shop_wrapper",class:"pull-right"}).append(a("quests_reset_time"),a(": "),t("<span>",{id:"refreshes_in_shop"})),t("<div>",{class:"clearfix"}))),x.r226(),lt.i85("refreshes_in_shop",lt.E71,null,()=>{this.re()}),It.g238()&&lt.i85("refreshes_in_special_offer",null,new Date(It.g238().expiresAt),()=>{this.re()})}static r108(e,s,n){let r,l,p=s?t("<span>").append(a("event_purchase_limit"),a(": "),t("<strong>").append(s)):"";if(e===null)r=t("<img>",{src:"/img/item/coin.svg",class:"equipment-item-big equipment-item-type-gem equipment-item-rarity-0"}),l=t("<div>").append(t("<div>",{class:"equipment-rarity-0 event-shop-product-title"}).append(a("profile_coins")+" (1K)"),a("coins_info"));else if(e==i.H97)r=m.h76("equipment-item-big equipment-item-type-hp equipment-item-rarity-1"),l=t("<div>").append(t("<div>",{class:"equipment-rarity-1 event-shop-product-title"}).append(a("honor_points")),a("hp_info_short"),t("<div>").css("margin-top","7px").append(p));else if(e<=i.G128)r=m.g212(e,"equipment-item-big equipment-item-type-gem equipment-item-rarity-0"),l=t("<div>").append(t("<div>",{class:"event-shop-product-title"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown equipment-rarity-0","data-toggle":"dropdown"}).append(a("gem_"+this.s112),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c=1;c<=i.G128;c++)o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c88(c)).append(m.g212(c)+" "+a("gem_"+c))));return o})()))),a("gems_info"));else if(e>=i.A107&&e<=i.A116)r=m.a102(e,"equipment-item-big equipment-item-type-gem equipment-item-rarity-0"),l=t("<div>").append(t("<div>",{class:"event-shop-product-title"}).append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown equipment-rarity-0","data-toggle":"dropdown"}).append(a("arena_coins_"+this.s113),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let o=[];for(let c=i.A107;c<=i.A116;c++)o.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c140(c)).append(m.a102(c)+" "+a("arena_coins_"+c))));return o})()))),a("gems_info"));else if(e>=i.A67&&e<i.A69){let o=Math.floor((e-i.A66)/10),c=(e-i.A66)%10;r='<i class="fa fa-ticket ticket'+o+' ticket-shop equipment-item-big equipment-item-rarity-1"></i>',l=t("<div>").append(t("<div>",{class:"event-shop-product-title equipment-rarity-1 event-shop-product-title"}).append(a("arena_tickets")),a("arena_tickets_info")?t("<div>").css("margin-bottom","7px").append(a("arena_tickets_info")):"");let f={};f[0]=a("market_all");for(let g=1;g<=10;g++)f[g]='<i class="fa fa-ticket ticket ticket'+g+'"></i> '+a("arena_type_"+g);l.append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"type_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_type")+a(": "),f[o],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let g=[];for(let w=1;w<=10;w++){let C=f[w];g.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c150(w)).append(C)))}return g})())));let h={};for(let g=1;g<=8;g++)h[g]="L"+g;l.append(t(window).width()<500?'<div class="line-break"/>':"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_level")+a(": "),h[c],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let g=[];for(let w=1;w<=8;w++){let C=h[w];g.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c142(w)).append(C)))}return g})()))),l.append("&nbsp;&nbsp;&nbsp;",K.m92(e,null,"top",null).append('<i class="fa fa-question-circle-o help mediumgray"></i>'))}else if(e>=i.A69&&e<=i.A74){let o=Math.floor((e-i.A66)/10),c=(e-i.A66)%10;r='<i class="fa fa-ticket ticket'+o+' ticket-shop equipment-item-big"></i>',l=t("<div>").append(t("<div>",{class:"event-shop-product-title event-shop-product-title "+gt.g223()+"-text"}).append(a("event_"+gt.g223()+"_ticket")," ",K.m92(e,null,"top",null).append('<i class="fa fa-question-circle-o help mediumgray"></i>')," ",gt.r220()));let f={};for(let h=1;h<=8;h++)f[h]="L"+h;l.append(t("<span>",{class:"dropdown"}).append(t("<span>",{id:"level_dropdown",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("market_level")+a(": "),f[c],t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append((()=>{let h=[];for(let g=1;g<=8;g++){let w=f[g];h.push(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c151(g)).append(w)))}return h})())),t("<div>").css("margin-top","7px").append(p))}else if(e>=i.T106&&e<=i.T107)r=m.e89(e,"","equipment-item-big equipment-item-type-gem equipment-item-rarity-1"),l=t("<div>").append(t("<div>",{class:"event-shop-product-title equipment-rarity-1 event-shop-product-title"}).append(a("candy_"+e)," ",gt.r220()),t("<div>").append(a("event_points_info")),t("<div>").css("margin-top","7px").append(p));else if(e>=i.E102){let o=T.i143(e),c=T.g268(o);r=t("<div>").append(t("<a>",{"href-local":"item/"+T.i145(o)}).append(D.r204(o,"big")),t("<div>",{class:"text-center event-shop-swap"}).append(t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default shop-props"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c87(n,-1)),t("<button>",{class:"btn btn-xs btn-default shop-props"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c87(n,1))))),l=t("<table>").append(t("<tr>").append(t("<td>",{width:"100%"}).css({"vertical-align":"middle"}).append(t("<div>",{class:"event-shop-product-title"}).append(D.m104(o,"top").append(t(window).width()<500?t("<span>",{class:"text-nowrap equipment-rarity-"+c}).append(a("equipment_item_"+c+"_"+o.type),"<br/>",T.i145(o)):D.r205(o,!0)),"&nbsp;&nbsp;",o.perfectLevel==1?t("<span>",{class:"btn-group"}).append(t("<button>",{class:"btn btn-xs btn-default shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-left"></i>&nbsp;').on("click",()=>this.c148(n,-1)),t("<button>",{class:"btn btn-xs btn-default shop-props event-shop-small-btn"}).append('&nbsp;<i class="fa fa-caret-right"></i>&nbsp;').on("click",()=>this.c148(n,1))):""),D.r206(o)),t("<td>",{class:"text-nowrap"}).css({"vertical-align":"middle"}).append("&nbsp;",t("<span>",{class:"help gray",title:a("equipment_quality")+a(": ")+(c<=3?o.quality+"%":"100%")}).tooltip({trigger:"hover"}).append(c<=3?o.quality+"%":"100%"))))}return t("<tr>").append(t("<td>",{class:"equipment-table-column equipment-item-column text-center "+(s===0?"transparent":"")}).append(r),t("<td>",{class:"equipment-table-column "+(s===0?"transparent":"")}).append(l),t("<td>",{class:"equipment-table-column text-center equipment-price-column "+(s===0?"transparent":"")}).append(t("<div>",{class:"text-nowrap"}).append(this.r165(e,1,!1))),t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(s===0?t("<strong>",{class:"transparent"}).append(a("market_trade_state_"+i.T101)):t("<button>",{class:"btn btn-primary"}).on("click",()=>this.b72(e)).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy"))))}static c87(e,s){t("#shop_table").addClass("transparent"),t(".shop-props").prop("disabled",!0),y.m109("ShopController.switchPropertyWsAction",[e,s],()=>{this.u81()})}static c148(e,s){t("#shop_table").addClass("transparent"),t(".shop-props").prop("disabled",!0),y.m109("ShopController.switchGemWsAction",[e,s],()=>{this.u81()})}static r164(){let e=It.g238().product;return t("<tr>",{id:"special_offer_row"}).append(t("<td>",{class:"equipment-table-column equipment-item-column text-center"}).append(t("<img>",{src:ui.g177(e),class:"equipment-item-big equipment-item-type-special equipment-item-rarity-4"})),t("<td>",{class:"equipment-table-column"}).append(t("<div>",{class:"event-shop-product-title event-shop-product-title text-danger"}).append(Ct.g154(e)),a("shop_donate_description_includes"),ui.g178(),t("<div>").append(a("event_purchase_limit"),a(": "),t("<strong>",{class:"text-danger"}).append(1)),t("<div>",{id:"refreshes_in_special_offer_wrapper"}).append(a("shop_expire_in")+a(": "),t("<strong>",{id:"refreshes_in_special_offer",class:"text-danger"}))),t("<td>",{class:"equipment-table-column text-center equipment-price-column"}).append(t("<div>",{class:"text-nowrap"}).append(t("<span>",{class:"shop-strike-danger no-bold-important"}).append(E.g147(e,!0,!0)),"<br/>",t("<span>",{class:"text-danger bold"}).append(E.g147(e,!0)))),t("<td>",{class:"equipment-table-column equipment-button-column text-center text-nowrap"}).append(t("<button>",{class:"btn btn-danger"}).on("click",()=>this.b77()).append('<i class="fa fa-shopping-cart"></i> '+a("market_buy"))))}static c149(){t("#"+this.$).is(":visible")&&t("#special_offer_row").length==0&&this.re()}static r165(e,s,n){let r=e===null?this.m72:this.i93[e];r*=s,e>=T.I88;let l=E.r148[E.u104]*i.B95*r;return E.r152(l,E.u104,n,!0)}static b72(e){let s=e===null?this.m72:this.i93[e];Me.i113=e,e>=i.T106&&e<=i.T107?(Me.m77=10,Me.m78=5e3):(Me.m77=1,Me.m78=e>=i.E102?1:Math.ceil(1e3/s/E.r148.USD/1e3));let n=this.u63>=1e3?1:10;Me.m77=Math.ceil(n/s/E.r148.USD/1e3),Me.m78=e>=i.E102?1:Math.ceil(1e3/s/E.r148.USD/1e3),Me.s143()}static b77(){ea.s143()}static c88(e){this.s112=e,this.r82()}static c140(e){this.s113=e,this.r82()}static c150(e){let s=(this.s117-i.A66)%10;this.s117=i.A66+e*10+s,this.r82()}static c142(e){let s=Math.floor((this.s117-i.A66)/10);this.s117=i.A66+s*10+e,this.r82()}static c151(e){let s=Math.floor((this.s118-i.A66)/10);this.s118=i.A66+s*10+e,this.r82()}};var ts=class{static $="TransferBlock";static p62=null;static re(){if(i.A121.indexOf(u.u61.id)==-1){x.e94("404");return}t("#"+this.$).empty().append('<img src="/img/loading_big.gif"  class="loading-big"/>'),y.m109("TransferController.getDataWsAction",[this.p62],this.r61.bind(this))}static r61(e,s){H.u74({title:"Transfer"}),t("#"+this.$).html("").append(t("<h2>").append("Transfer"),t("<hr>"),t("<form>",{class:"form-horizontal"}).on("submit",n=>{n.preventDefault(),this.p63()}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html("Player"+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(b.m106(e.id,e,"right"))),t("<div>",{id:"transfer_coins_group",class:"form-group"}).append(t("<label>",{for:"transfer_coins",class:"col-xs-4 control-label"}).html("Minecoins"),t("<div>",{class:"col-xs-8"}).append(t("<input>",{id:"transfer_coins",type:"number",class:"form-control transfer-coins",max:s}).val(0),t("<span>",{id:"transfer_coins_help",class:"help-block"}))),t("<div>",{id:"transfer_items_group",class:"form-group"}).append(t("<label>",{for:"transfer_items",class:"col-xs-4 control-label"}).html("Items"),t("<div>",{class:"col-xs-8"}).append(t("<input>",{id:"transfer_items_amount",type:"number",class:"form-control transfer-item-amount"}).val(0)," x ",this.r166(),t("<span>",{id:"transfer_items_help",class:"help-block"}))),t("<div>",{class:"form-group"}).append(t("<label>",{for:"transfer_item_code",class:"col-xs-4 control-label"}).html("Item code"),t("<div>",{class:"col-xs-8"}).append(t("<input>",{id:"transfer_item_code",class:"form-control"}).css("width","150px"))),t("<div>",{class:"form-group"}).append(t("<label>",{for:"transfer_message",class:"col-xs-4 control-label"}).html("Message"),t("<div>",{class:"col-xs-8"}).append(t("<input>",{id:"transfer_message",class:"form-control"}))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<button>",{type:"submit",class:"btn btn-warning"}).html("Send"))))),t("#profile_amount").focus(),x.r226()}static r166(){let e=t("<select>",{id:"transfer_items_type",class:"form-control transfer-item-type"}).val("0");e.append(t("<option>",{value:"0"}).append(a("equipment_item")),t("<option>",{value:i.H97}).append(a("honor_points")),t("<option>",{value:i.A103}).append(a("activity_points")),t("<option>",{value:i.T84}).append(a("special_turbo_boost")+" (+M)"));let s=R.g260();e.append(t("<option>",{value:s}).append(a("candy_"+s)+" (event shop only)"),t("<option>",{value:i.E75[s][i.G127]}).append(a("candy_"+i.E75[s][i.G127])+" (event shop and event ranking)"));for(let r=1;r<=10;r++)e.append(t("<option>",{value:r}).append(a("gem_"+r)));for(let r=i.A105;r<=i.A117;r++)e.append(t("<option>",{value:r}).append(a("arena_coins_"+r)));for(let r=i.P126;r<=i.P138;r++)e.append(t("<option>",{value:r}).append(a("equipment_parts_"+r)));for(let r=i.T86;r<=i.T95;r++)e.append(t("<option>",{value:r}).append(a("emc_token")+" ["+(r-i.T85)+"]"));let n=[1,2,3,4,5,6,7,8,9,10,11,13,15];for(let r=1;r<=8;r++)for(let l=0;l<n.length;l++){let p=n[l],o=i.A66+p*10+r;e.append(t("<option>",{value:o}).append(a("arena_type_"+p)+" L"+r))}return e}static p63(){let e=[this.p62,parseInt(t("#transfer_coins").val()),parseInt(t("#transfer_items_amount").val()),parseInt(t("#transfer_items_type").val()),t("#transfer_item_code").val(),t("#transfer_message").val()];y.m109("TransferController.processTransferWsAction",e,this.t73.bind(this))}static t73(e,s,n,r,l,p,o){G.s75(e,s,n,r,l,p,o)}};var x=class _{static f84=[];static b96=!1;static r225={"":()=>{v.r223([]),jQuery.trim(t("#homepage").html())?t("#homepage").show():(v.r223([Ft]),setTimeout(()=>{_.n82("/")},1e3))},"extra/*lang*":e=>{H.u141(e)},run:()=>{},app:()=>{Ye.i65=!1,v.r223([Ye])},"new-game":()=>{z.m69=i.L65,_e.i66&&z.g111()==i.G70&&z.u88(i.G67),v.r223([Ft]),bt.n77()},"new-game/ng":()=>{z.m69=i.L66,_e.i66&&z.g111()==i.G75&&z.u88(i.G71),v.r223([Ft]),bt.n77()},"start/{level}":e=>{z.u88(e),v.r223([Ft]),bt.n77()},"start/{level}/{sizeX}/{sizeY}/{mines}":(e,s,n,r)=>{z.u88(e),pt.u75(s,n,r),v.r223([Ft]),bt.n77()},"start/{sizeX}x{sizeY}/{mines}":(e,s,n)=>{z.u88(i.G70),pt.u75(e,s,n),v.r223([Ft]),bt.n77()},"start/{sizeX}x{sizeY}/{mines}*ng*":(e,s,n,r)=>{z.u88(r?i.G75:i.G70),pt.u75(e,s,n),v.r223([Ft]),bt.n77()},ranking:()=>{z.m69=i.L65,Y.s85=null,S.s130=i.S90,v.r223([Ce,z,pt,S])},"ranking/ng":()=>{z.m69=i.L66,Y.s85=null,S.s130=i.S90,v.r223([Ce,z,pt,S])},"my-games":()=>{z.m69=i.L65,Y.s85=null,S.s130=i.S89,ke.u64=null,v.r223([Ce,z,pt,S])},"my-games/{userId}":e=>{z.m69=i.L65,Y.s85=null,S.s130=i.S89,ke.u64=e,v.r223([Ce,z,pt,S])},"my-games/ng":()=>{z.m69=i.L66,Y.s85=null,S.s130=i.S89,ke.u64=null,v.r223([Ce,z,pt,S])},"my-games/{userId}/ng":e=>{z.m69=i.L66,Y.s85=null,S.s130=i.S89,ke.u64=e,v.r223([Ce,z,pt,S])},"best-players":()=>{z.m69=i.L65,S.s130=i.S91,W.s92("score"),v.r223([S])},"best-players-{year}":e=>{if(e<2016){this.e94("404");return}z.m69=i.L65,S.s130=i.S91,W.s92("score"),v.r223([S])},"season-leaders":()=>{z.m69=i.L65,S.s130=i.S91,W.s92("score"),v.r223([S])},economy:()=>{v.r223([pi])},marketplace:()=>{z.m69=i.L65,S.s130=i.S95,it.u64=null,v.r223([S])},"marketplace/{userId}":e=>{z.m69=i.L65,S.s130=i.S95,it.u64=e,v.r223([S])},"trade/{tradeId}":e=>{Se.t75=+e,v.r223([Se])},exchange:()=>{this.n81("exchanges",!1)},exchanges:()=>{z.m69=i.L65,S.s130=i.S97,Bt.u64=null,v.r223([S])},"exchanges/{userId}":e=>{z.m69=i.L65,S.s130=i.S97,Bt.u64=+e,v.r223([S])},"exchange/new":()=>{v.r223([oi])},"exchange/new/{userId}":e=>{Lt.m69=Lt.E63,Lt.e68=null,Lt.u64=+e,v.r223([Lt])},"exchange/{exchangeId}/edit":e=>{Lt.m69=Lt.E63,Lt.e68=+e,Lt.u64=null,v.r223([Lt])},"exchange/{exchangeId}":e=>{Lt.m69=Lt.E64,Lt.e68=+e,Lt.u64=null,v.r223([Lt])},equipment:()=>{v.r223([rt])},"item/*itemFullString*":e=>{je.i83=e,je.i84=!1,v.r223([je])},"item/*itemFullString*/b":e=>{je.i83=e,je.i84=!0,v.r223([je])},events:()=>{v.r223([Ht])},"event/{eventNum}":e=>{hi.s85=+e+i.E103-1,v.r223([hi])},"event/s{s}":e=>{hi.s85=+e+i.F84-1,v.r223([hi])},"previous-events":()=>{v.r223([Ai])},"past-championships":()=>{v.r223([Ks])},help:()=>{this.n81("help/gameplay",!1)},championship:()=>{let e=R.g258();if(i.i140(navigator.userAgent)&&(e-=1),e>R.g257()||e<i.C144||!i.C145[e]){this.n81("past-championships",!1);return}he.c68=e,v.r223([he])},"championship/s{s}":e=>{he.c68=+e+i.F84-1,v.r223([he])},"help/*page*":e=>{ai.p65=e,v.r223([ai])},"skill-points":()=>{v.r223([Zs])},"reward/{type}":e=>{z.m69=i.L65,S.s130=i.S92,Fe.r168=+e,v.r223([S])},news:()=>{S.s130=i.S93,Ae.u64=null,v.r223([S])},"news/{playerId}":e=>{S.s130=i.S93,Ae.u64=+e,v.r223([S])},arenas:()=>{S.s130=i.S96,qe.u64=null,v.r223([S])},"arenas/{playerId}":e=>{S.s130=i.S96,qe.u64=+e,v.r223([S])},statistics:()=>{S.s130=i.S94,Ge.u64=null,v.r223([S])},"statistics/{playerId}":e=>{S.s130=i.S94,Ge.u64=+e,v.r223([S])},"players-online":()=>{z.m69=i.L65,S.s130=i.S100,v.r223([S])},"game/{gameId}":e=>{bt.e84(+e)},"game/*screen*":e=>{let s=/^(\d+)-/,n=e.match(s);n?this.n81("game/"+n[1]):this.e94("404")},"player/{playerId}":e=>{Yi.p62=+e,v.r223([Yi])},"admin/{playerId}":e=>{Wt.p62=+e,Wt.s63=0,v.r223([Wt])},"username-changelog/{playerId}":e=>{Xi.p62=+e,v.r223([Xi])},"mastery/{gameId}":e=>{Jt.c131="mastery",Jt.g118=+e,v.r223([Jt])},"mastery-nh/{gameId}":e=>{Jt.c131="mastery-nh",Jt.g118=+e,v.r223([Jt])},"winstreak/{gameId}":e=>{Jt.c131="ws",Jt.g118=+e,v.r223([Jt])},"winstreak-nh/{gameId}":e=>{Jt.c131="ws-nh",Jt.g118=+e,v.r223([Jt])},"endurance/{gameId}":e=>{Jt.c131="end",Jt.g118=+e,v.r223([Jt])},arena:()=>{Pt.s65=null,v.r223([Pt])},"arena/start/{type}":e=>{Pt.s65=e,v.r223([Pt])},"arena/{arenaId}":e=>{Zi.a68=+e,v.r223([Zi])},quests:()=>{nt.t61=nt.T61,v.r223([nt])},"quests/{playerId}":e=>{S.s130=i.S102,ci.u64=+e,v.r223([S])},"chat-history":()=>{S.s130=i.S103,ae.u64=null,ae.t70="",v.r223([S])},"chat-history/{playerId}":e=>{S.s130=i.S103,ae.u64=+e,ae.t70="",v.r223([S])},"friend-quests":()=>{nt.t61=nt.T62,v.r223([nt])},"event-quests":()=>{nt.t61=nt.T63,v.r223([nt])},shop:()=>{v.r223([Ke])},premium:()=>{v.r223([ze])},invoices:()=>{fi.u64=null,v.r223([fi])},"invoices/{playerId}":e=>{fi.u64=+e,v.r223([fi])},rates:()=>{this.n81("rates/y/M/USD",!1)},"rates/*period*/*from*/*to*":(e,s,n)=>{wt.m71=!1,wt.u64=null,wt.p78=e,wt.f71=s,wt.t72=n,v.r223([wt])},"net-worth/*period*":e=>{wt.m71=!0,wt.u64=null,wt.p78=e,v.r223([wt])},"net-worth/*period*/{playerId}":(e,s)=>{wt.m71=!0,wt.u64=+s,wt.p78=e,v.r223([wt])},"invoice/*hash*":e=>{Qe.f70=!1,Qe.h62=e,v.r223([Qe])},"invoice/*hash*/fail":e=>{Qe.f70=!0,Qe.h62=e,v.r223([Qe])},settings:()=>{v.r223([k])},"auth-required":()=>{if(u.u61.registeredAt){this.n81("/",!1);return}v.r223([mi])},emc:()=>{v.r223([fe])},"emc/privileges":()=>{v.r223([Ys])},"emc/rules":()=>{v.r223([ta])},"nft/{playerId}":e=>{ue.u64=+e,ue.i86=!1,v.r223([ue])},"nft/edit":()=>{ue.u64=u.u61.id,ue.i86=!0,v.r223([ue])},profile:()=>{v.r223([Ie])},"profile/reg-success":()=>{Ie.r134=!0,v.r223([Ie])},"profile/success":()=>{Ie.u69=!0,v.r223([Ie])},"profile/change-password":()=>{v.r223([Bi])},"profile/change-password/success":()=>{Bi.u69=!0,v.r223([Bi])},logout:()=>{U.s142("session",""),_.n82("/")},"password-reset":()=>{t("#"+ti.$).modal("hide"),v.r223([Si])},"password-reset/*hash*":e=>{zi.h62=e,v.r223([zi])},chat:()=>{v.r223([G])},"chat/unread":()=>{ht.s77(),this.n81("chat",!1)},"transfer/{playerId}":e=>{ts.p62=+e,v.r223([ts])},"session/*ip*":e=>{Je.i64=e,v.r223([Je])},"market-log/{playerId}":e=>{Vi.u64=+e,v.r223([Vi])},"duplicates/{playerId}":e=>{Ki.u64=+e,v.r223([Ki])},ads:()=>{!i.i140(navigator.userAgent)&&location.hash&&location.hash.length>1?this.n82("game/"+location.hash.substr(1)):(H.u139("/"),this.n82(""))},team:()=>{v.r223([Js])},test:()=>{v.r223([zs])},servers:()=>{v.r223([Xs])},facebook:()=>{oe.c82=`Unfortunately, we no longer support logging in with Facebook. But don't worry, we will help you restore access to your account. Please email us at <a href="mailto:support@minesweeper.online">support@minesweeper.online</a>, and we will provide you access to your account with username and password. Please include your ID or username in the email.`,v.r223([oe])},"enable-beta":()=>{i.G133.indexOf(u.u61.id)!=-1&&(this.b96=!0,this.n81("/equipment",!1))},404:()=>{v.r223([Pe]),console.error("Page not found: "+location.href)},"global-quests":()=>{this.n81("event-quests",!1)},"premium-quests":()=>{this.n81("event-quests",!1)},"ngm/new-game":()=>{this.n81("new-game/ng",!1)},"ranking/season":()=>{this.n81("ranking",!1)},"ranking/all-time":()=>{this.n81("ranking",!1)},"ngm/ranking":()=>{this.n81("ranking/ng",!1)},"ngm/my-games":()=>{this.n81("my-games/ng",!1)},scores:()=>{this.n81("help/trophies",!1)},ranks:()=>{this.n81("help/ranks",!1)},achievements:()=>{this.n81("help/achievements",!1)},rewards:()=>{this.n81("achievements",!1)},"single-game/start":()=>{this.n81("new-game",!1)},"single-game/ranking":()=>{this.n81("ranking",!1)},"single-game/results":()=>{this.n81("my-games",!1)},"top-players":()=>{this.n81("ranking/all-time",!1)}};static i131(){return[_.g231("new-game"),_.g231("new-game/ng")].indexOf(location.pathname)!=-1}static i85(){for(let e in this.r225)this.f84.push({name:e,callback:this.r225[e],regexp:this.g230(e)});if(H.u140(),window.addEventListener("popstate",()=>{i.i140(navigator.userAgent)||this.n81(location.pathname,!1)}),i.i141(navigator.userAgent)){let e="",s=new MutationObserver(r=>{location.href!==e&&(e=location.href,t("#footer_url").empty().append(t("<a>",{href:location.href,class:"footer-link"}).append(location.pathname),"&nbsp;&nbsp;",t("<a>",{id:"copy_url_link",href:"javascript:void(0)",class:"footer-link",title:a("app_copy_url")}).tooltip({trigger:"hover"}).on("click",()=>{navigator.clipboard.writeText(location.href),t("#copy_url_link").html('<i class="fa fa-check"></i>')}).append('<i class="fa fa-clone"></i>')))}),n={subtree:!0,childList:!0};s.observe(document,n)}}static g230(e){return e=e.replace(/\//g,"\\/").replace(/\{.*?}/g,"(\\d+)").replace(/\*.*?\*/g,"([^/]+)").replace(/\*/g,".*"),e="^"+v.l86+"/"+e+"$",new RegExp(e,"i")}static n81(e,s){return this.c164(e,s),t(window).scrollTop(0),this.e94(e)}static n82(e){e=this.g231(e),window.location=e}static c164(e,s){Ut.s169(),e=this.g231(e),s?history.pushState(null,null,e):history.replaceState(null,null,e),H.u140(),me.p94()}static e94(e){e=this.g231(e),kt.c174(e),Ti.c174();for(let s=0;s<this.f84.length;s++){let n=this.f84[s],r=e.match(n.regexp);if(r){let l=[];for(let p=1;r[p]!==void 0;p++)l.push(r[p]);return this.e95(n.callback,l),!0}}return this.e95(this.r225[404]),!1}static e95(e,s){u.u61?($t.w64&&$t.c156(!0),e.apply(this,s)):console.log("Navigate without auth")}static g231(e){return e.length||(e="/"),e[0]!="/"&&(e="/"+e),e.indexOf("/en/")==0&&(e=e.substring(3)),v.l86!=""&&e.indexOf(v.l86+"/")!==0&&(e=v.l86+e),e}static r226(){t("a").each((e,s)=>{s=t(s);let n=s.attr("href-local");n&&(n[0]!="/"&&(n="/"+n),s.removeAttr("href-local"),s.attr("href",v.l86+n),s.on("click",r=>{r.preventDefault(),n.indexOf("/start/")==0?this.e94(n):this.n81(n,!0)}))})}};var kt=class{static t112=!1;static i85(){if(t(".theme-switcher").removeClass("hide").append(t("<button>",{type:"button",class:"btn btn-default theme-btn dropdown-toggle","data-toggle":"dropdown"}).on("click",()=>v.c201()).append(this.g240()==""?this.i136()?'<i class="fa fa-moon-o mediumgray"></i>':'<i class="fa fa-sun-o mediumgray"></i>':"",this.g240()=="classic"?'<i class="fa fa-sun-o"></i>':"",this.g240()=="fitebone"?'<i class="fa fa-moon-o"></i>':""),t("<ul>",{class:"dropdown-menu dropdown-menu-right"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("")).append('<i class="fa fa-adjust mediumgray"></i> ',a("theme_device"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("classic")).append('<i class="fa fa-sun-o"></i> ',a("theme_classic"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("fitebone")).append('<i class="fa fa-moon-o"></i> ',a("theme_dark"))),k.i90()?"":t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.t113()).append('<i class="fa fa-lightbulb-o" style="font-size: 15px;margin-right:2px;"></i> ',a("theme_theatre_mode"))),this.i133()?t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.t115()).append('<i class="fa fa-arrows-alt" style="margin-right:2px;"></i> ',a("theme_fullscreen"))):"")),t("#mobile-theme-switcher").removeClass("hide").append(t("<a>",{class:"yay-sub-toggle"}).append(this.g240()==""?'<i class="fa fa-adjust"></i>'+a("theme_device"):"",this.g240()=="classic"?'<i class="fa fa-sun-o"></i>'+a("theme_classic"):"",this.g240()=="fitebone"?'<i class="fa fa-moon-o"></i>'+a("theme_dark"):"",'<span class="yay-collapse-icon fa fa-angle-down"></span>'),t("<ul>").append(t("<li>",{class:"nav-menu-link"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("")).append('<i class="fa fa-adjust"></i> ',a("theme_device"))),t("<li>",{class:"nav-menu-link"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("classic")).append('<i class="fa fa-sun-o"></i> ',a("theme_classic"))),t("<li>",{class:"nav-menu-link"}).append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.s189("fitebone")).append('<i class="fa fa-moon-o"></i> ',a("theme_dark"))))),this.g241("theme")!=this.g240()&&!(this.g240()==""&&this.i136()&&this.g241("theme")=="fitebone")&&this.s190("theme",this.g240()),this.g240()==""){if(this.i136()){if(!document.getElementById("fitebone")){let e=document.getElementsByTagName("head")[0],s=document.createElement("link");s.id="fitebone",s.rel="stylesheet",s.type="text/css",s.href="/css/fitebone-"+620+".css",s.media="all",e.appendChild(s),this.s190("theme","fitebone")}}else document.getElementById("fitebone")&&t("#fitebone").remove();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(e.matches){if(!document.getElementById("fitebone")){if(location.href.indexOf("game/")!=-1&&k.i89()){setTimeout(()=>{location.reload()},500);return}let s=document.getElementsByTagName("head")[0],n=document.createElement("link");n.id="fitebone",n.rel="stylesheet",n.type="text/css",n.href="/css/fitebone-"+620+".css",n.media="all",s.appendChild(n)}}else if(document.getElementById("fitebone")){if(location.href.indexOf("game/")!=-1&&k.i89()){setTimeout(()=>{location.reload()},500);return}t("#fitebone").remove()}Ve.u67()})}else if(this.g240()=="fitebone"){if(!document.getElementById("fitebone")){let e=document.getElementsByTagName("head")[0],s=document.createElement("link");s.id="fitebone",s.rel="stylesheet",s.type="text/css",s.href="/css/fitebone-"+620+".css",s.media="all",e.appendChild(s)}}else this.g240()=="classic"&&document.getElementById("fitebone")&&t("#fitebone").remove()}static t113(){location.pathname.indexOf(v.l86+"/game/")!=0&&x.n81("new-game",!1),this.t114()}static t114(){this.t112=!this.t112,t("#shadow").toggle(),t(".theatre-mode").toggleClass("theatre-on"),t("html").toggleClass("dark-scroll")}static c174(e){this.t112&&e.substring(0,9)!=v.l86+"/game/"&&this.t114()}static g239(){return"theatre-mode"+(this.t112?" theatre-on":"")}static i133(){return document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled}static i134(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement}static t115(){this.i134()?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}static s189(e){U.s142("theme",e),this.s190("theme",e),v.r223([Ft]),setTimeout(()=>{location.reload()},100)}static g240(){return U.g172("theme")||""}static i135(){return!!document.getElementById("fitebone")}static i136(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}static s190(e,s,n){let r="";if(n){let l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r="; expires="+l.toUTCString()}document.cookie=e+"="+(s||"")+r+"; path=/"}static g241(e){let s=e+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let l=n[r];for(;l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(s)==0)return l.substring(s.length,l.length)}return null}};var qi=class{static $="ErrorBlock";static re(){kt.t112&&kt.t114(),t("#"+this.$).empty().append(t("<h2>").append('<img src="/img/loading_gear.gif"/> ',a("server_connect_error")),"<hr/>",t("<a>",{href:"javascript:void(0)",class:"btn btn-default"}).on("click",()=>location.reload()).append('<span class="glyphicon glyphicon-refresh"></span> ',a("server_reload_page_button"))),t(".modal").modal("hide")}};var ia=class{static $="BuildUpdateBlock";static re(){!location.pathname.match(/game\/(\d+)$/)&&jQuery.trim(t("#"+this.$).html())==""&&(t("#"+this.$).empty().css({height:"100px"}).append(t("<p>",{id:"build_warning",class:"alert alert-danger"}).css({display:"none"}).append(a("server_page_expiried_warning"),"&nbsp;&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"btn btn-sm btn-warning"}).on("click",()=>location.reload()).append('<span class="glyphicon glyphicon-refresh"></span> ',a("server_reload_page_button")))),t("#build_warning").fadeIn(300))}};var is=class{static $="DdosDialog";static i110=!1;static s143(e){this.i110||(this.i110=!0,this.re(),t("#"+this.$).modal("show"),setTimeout(()=>{this.i110=!1,t("#"+this.$).modal("hide")},e+1e3))}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<h4>",{class:"modal-title text-center"}).html(a("server_ddoss_error"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"text-center"}).append(a("server_ddoss_wait_message")+"...","<br/>","<br/>",'<img src="/img/loading_gear.gif"/>',"<br/>","<br/>")))))}};var at=class{static O99=1;static O100=2;static S145=3;static N68=4;static O101=5;static T112=6;static M91=101;static P166=102;static S146=103;static M92=104;static E115=105;static S147=151;static S148=152;static N69=153;static G137=201;static G138=202;static G139=203;static G140=204;static G141=205;static G142=206;static G143=207;static G144=208;static G145=209;static G146=210;static G147=211;static G148=212;static G149=213;static G150=214;static C173=331;static C174=332;static C175=333;static C176=334;static C177=335;static C178=336;static C179=337;static C180=338;static C181=339;static C182=340;static C183=341;static C184=1e3};var sa=class{static $="MaintenanceBlock";static re(){t("#"+this.$).empty().append(t("<h2>").append('<img src="/img/loading_gear.gif"/> ',a("server_unavailable_error")),"<hr/>",t("<a>",{href:"javascript:void(0)",class:"btn btn-default"}).on("click",()=>location.reload()).append('<span class="glyphicon glyphicon-refresh"></span> ',a("server_reload_page_button")))}};var ct={};ct[at.N68]=()=>{v.r223([Pe])};ct[at.O101]=()=>{ia.re()};ct[at.T112]=()=>{is.s143(0)};ct[at.M91]=()=>{oe.c82="<strong>"+a("market_unavailable")+"</strong>",v.r223([oe])};ct[at.P166]=()=>{oe.c82="<strong>"+a("premium_unavailable")+"</strong>",v.r223([oe])};ct[at.S146]=()=>{oe.c82="<strong>"+a("stat_unavailable")+"</strong>",v.r223([oe])};ct[at.M92]=()=>{alert(a("exchange_blocked"))};ct[at.E115]=()=>{oe.c82="<strong>"+a("exchange_blocked")+"</strong>",v.r223([oe])};ct[at.S147]=(..._)=>{it.s124(..._)};ct[at.S148]=(..._)=>{Bt.s121(..._)};ct[at.N69]=(..._)=>{It.n83(..._)};ct[at.G137]=()=>{v.r223([sa])};ct[at.G138]=(..._)=>{is.s143(..._)};ct[at.G139]=(..._)=>{bt.i122(..._)};ct[at.G140]=(..._)=>{bt.j62(..._)};ct[at.G141]=(..._)=>{bt.e84(..._)};ct[at.G142]=(..._)=>{yt.h72(..._)};ct[at.G143]=(..._)=>{Le.g244(..._)};ct[at.G144]=(..._)=>{d.l80(..._)};ct[at.G145]=(..._)=>{d.g186(..._)};ct[at.G146]=(..._)=>{d.r194(..._)};ct[at.G147]=(..._)=>{d.l79(..._)};ct[at.G148]=(..._)=>{d.n75(..._)};ct[at.G149]=(..._)=>{d.t97(..._)};ct[at.G150]=(..._)=>{de.u128(..._)};ct[at.C173]=(..._)=>{G.i69(..._)};ct[at.C174]=(..._)=>{G.l64(..._)};ct[at.C175]=(..._)=>{G.r77(..._)};ct[at.C176]=(..._)=>{G.m65(..._)};ct[at.C177]=(..._)=>{G.n64(..._)};ct[at.C178]=(..._)=>{G.i70(..._)};ct[at.C179]=(..._)=>{G.u71(..._)};ct[at.C180]=(..._)=>{G.w61(..._)};ct[at.C181]=(..._)=>{G.n63(..._)};ct[at.C182]=(..._)=>{Ze.c74(..._)};ct[at.C183]=(..._)=>{G.g68(..._)};var Rt=class{static R68=500;static R69=10;static g232=0;static g233=0;static p99=0;static c204={};static c205={};static c206={};static c207=null;static c208(e,s){if(i.i140(navigator.userAgent)&&e!==null){s();return}e==null&&(e=J.g282(V.e97,u.u61.id));let n={path:"/mine-websocket",query:"authKey="+u.a61+"&session="+u.s62+"&userId="+u.u61.id,forceNew:!0,reconnectionDelay:1e3,reconnectionDelayMax:e==St.r227?2e3:5e3};i.i140(navigator.userAgent)?n.transports=["polling"]:(n.transports=["websocket"],n.upgrade=!1);let r=J.g286(V.e97,e);if(this.c204[e]=io.connect("wss://"+r,n),this.c204[e].on("connect",()=>{console.debug(e,"connected")}),this.c204[e].on("disconnect",()=>{console.debug(e,"disconnected"),this.c205[e]=!1}),this.c204[e].on("connect_error",l=>{this.c204[e].active?console.debug(e,"connect_error, auto reconnect...",l):(console.debug(e,"connect_error, reconnect in 10 sec...",l),setTimeout(()=>{this.c204[e].active||this.c208(e,()=>{})},10*1e3))}),this.c204[e].on("authorized",()=>{console.debug(e,"authorized"),this.c205[e]=!0,s&&(s(),s=null),e=="chat1"&&G.i68()}),this.c204[e].on("server_error",l=>{throw navigator.userAgent.indexOf("Googlebot")==-1&&navigator.userAgent.indexOf("Bingbot")==-1&&v.r223([qi]),new Error("Server error: "+l)}),e==St.r227){let l=i.i141(navigator.userAgent)?300:3e3;setInterval(()=>{this.g232=Date.now(),this.c204[e].volatile.emit("p",()=>{this.g233=Date.now();let p=this.g233-this.g232;d.c193();let o=i.i141(navigator.userAgent)?10:1;++this.p99==o&&(this.p99=0,Nt.s182(e,p))})},l)}this.c204[e].on("response",l=>{let p=l[0],o=l[1],c=l[2];if(o==1||o==3){if(p){if(!this.c206[p]){console.error("Callback not found: "+p);return}if(!Array.isArray(c)){console.error("Wrong server result",[p,o,c]);return}o!=3&&this.c206[p].apply(this.c206[p],c),delete this.c206[p]}}else{let f=ct[o];if(!f){console.error("Handler not found: "+o);return}f(...c)}})}static g234(){let e=Math.min(Date.now()-this.g232,300);return Date.now()-this.g233-e}static d77(e){this.c204[e]&&(this.c204[e].disconnect(),delete this.c204[e])}static s131(e,s,n,r,l){if(!(i.i140(navigator.userAgent)&&e.substring(0,4)!="main"))if(this.c205[e]){let p=e.substring(0,4)=="main"||e.substring(0,4)=="hint"||e.substring(0,7)=="watcher";if(p){if(typeof r!="function"){console.error("Callback is not a function",e,s);return}!this.c207||this.c207>=10*at.C184?this.c207=at.C184:this.c207++,this.c206[this.c207]=r}this.c204[e].emit("request",[s,n,p?this.c207:0,620])}else setTimeout(()=>{s.toLowerCase().indexOf("playersonline")==-1&&(l=l===void 0?0:l,l==0&&console.debug(e,s,"waiting for connection..."),l<this.R69&&this.s131(e,s,n,r,++l))},this.R68)}};var y=class{static m109(e,s,n){let r=J.g282(V.e97,u.u61.id);Rt.s131(r,e,s,n)}static w70(e,s,n){Rt.s131("watcher1",e,s,n)}static h81(e,s,n){let r=J.g284(V.e97,u.u61.id);Rt.s131(r,e,s,n)}static g188(e,s,n){Rt.s131(e,s,n)}static c203(e,s){Rt.s131("chat1",e,s)}};var _e=class{static i66=!1;static c65(){y.m109("ArenaController.isActiveWsAction",[],e=>{this.i66=!!e,this.i66&&(t(".menu_arena_new").html('<i class="fa fa-circle new-quest-icon"></i>'),v.u142())})}static a73(){this.i66=!0}static d63(){this.i66=!1,this.c66()}static c66(){t(".menu_arena_new").empty(),v.u142()}};var gi=class{static $="UseTicketDialog";static t61=null;static m69=null;static S70=1e3;static E68=2;static s143(){this.m69=0,t(".popover").popover("hide"),this.re(),t("#"+this.$).modal("show")}static re(){let e=ut.g167(this.t61,this.m69,null),s=Math.floor((this.t61-i.A66)/10),n=(this.t61-i.A66)%10,r=s==i.A93||s==i.A94||s==i.A95,l=this.t61>=i.A75&&this.t61<=i.A76,p=Math.floor(e.reward[3]*i.A99),o=this.m69==i.A101?-1*e.reward[5]:0,c=Pt.u65[i.H97]?Pt.u65[i.H97]:0,f=Pt.u65[i.A103]?Pt.u65[i.A103]:0,h=c<o||r&&f<p,g="",w=i.A98*(n-1+(this.m69==i.A101?this.E68:0));!l&&Pt.s66<w&&(g=t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>",{class:"text-danger"}).html(a("arena_rank_required")+a(": "))),t("<div>",{class:"col-xs-8 form-text"}).append(b.m107(w+1,!1).append(t("<strong>").append(a(et.g279(w+1))))))),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title"}).html(a("arena_use_ticket"))),t("<div>",{class:"modal-body"}).append(t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_type")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(a("arena_type_"+s)," ","L"+n,this.m69==i.A101?"E":"")),l?"":t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_mode")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<div>",{class:"dropdown"}).append(t("<span>",{id:"arena_mode",class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(a("arena_mode_"+this.m69),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c120(0)).append(a("arena_mode_0"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c120(1)).append(a("arena_mode_1"))))))),t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_description")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(K.g198(this.t61,this.m69))),K.g199(Pt.b66,this.t61)>0?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_points")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(t("<span>",{class:"text-nowrap"}).append("+"+K.g199(Pt.b66,this.t61),t("<span>",{class:"help",title:a("arena_points")}).tooltip({trigger:"hover"}).append(m.a103("icon-small icon-right"))))):"",this.m69==i.A101?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("honor_points")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append("\u2013"+-1*e.reward[5],t("<span>",{class:"help",title:a("honor_points")}).tooltip({trigger:"hover"}).append(m.h76("icon-small icon-right")))):"",r?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("activity_points")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append("\u2013"+p,m.a101("icon-right"))):"",t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("arena_reward")+a(":"))),t("<div>",{class:"col-xs-8 form-text"}).append(Dt.r216(!0,this.t61,this.m69,Pt.b65))),r&&Pt.e63>=this.S70?t("<div>",{class:"form-group"}).append(t("<div>",{class:"col-xs-4 control-label"}).append(t("<strong>").html(a("settings_skin")+a(":"))),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"special_skin",class:"settings-select form-control"}).append(t("<option>",{value:""}).append(a("settings_skin_random")),t("<option>",{value:"-"}).append(a("settings_skin_hd"))).on("change",()=>{t("#special_skin").val()?t("#color_blindness_wrapper").hide():t("#color_blindness_wrapper").show()}))):"",r&&a("event_color_blindness")!=""?t("<div>",{id:"color_blindness_wrapper",class:"text-center darkgray"}).css("margin-top","25px").append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"color_blindness",type:"checkbox",class:"cursor-pointer"}),"&nbsp;&nbsp;"+a("event_color_blindness"))):"",g,h&&!r?t("<div>",{class:"text-center bold text-danger modal-warning"}).append(a("arena_no_honor_points")):"")),t("<div>",{class:"modal-footer"}).append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")),t("<button>",{id:"start_arena_btn",type:"button",class:"btn btn-primary","data-loading-text":a("loading")+"..."}).prop("disabled",!!g||h).on("click",()=>this.s159()).html(a("arena_start_arena")))))),t('[data-toggle="tooltip"]').tooltip()}static c120(e){this.m69=e,this.re()}static s159(){t("#start_arena_btn").button("loading");let e=!!t("#color_blindness").prop("checked"),s=t("#special_skin").val();y.m109("ArenaController.startArenaWsAction",[this.t61,this.m69,e,s||null],this.s160.bind(this))}static s160(){t("#"+this.$).modal("hide"),Pt.re()}};var Pt=class{static $="ArenaBlock";static s65=null;static t62=null;static s66=null;static e63=null;static u65=null;static b65=null;static b66=null;static a66=null;static Q61=1e3;static re(){H.u74({title:a("seo_title_arena"),description:a("seo_description_arena"),hiddenSeo:!0}),t("#"+this.$).empty().append(t("<div>").append(t("<h2>",{class:"pull-left"}).append(a("arena_title")),t("<div>",{class:"pull-right"}).append(t("<a>",{href:v.l86+"/best-players"}).on("click",()=>(W.f68="arena",x.n81("best-players",!0),!1)).append(a("arena_ranking")),"&nbsp;&nbsp;",'<span class="gray">|</span>',"&nbsp;&nbsp;",t("<a>",{"href-local":"arenas"}).append(a("arenas_all_attempts"))),t("<div>",{class:"clearfix"})),'<hr class="shop-hr"/>',t("<div>",{id:"arena_content"}).append('<img id="arena_loading" src="/img/loading_big.gif" class="loading-big"/>')),y.m109("ArenaController.isActiveWsAction",[],this.a67.bind(this))}static a67(e){e?(d.u64=u.u61.id,d.a93={id:e},v.r223([Ft]),X.s171(),_e.a73()):y.m109("ArenaController.getArenaDataWsAction",[],this.r61.bind(this))}static r61(e,s,n,r,l,p,o){this.t62=e,this.s66=s,this.e63=n,this.u65=r,this.b65=l,this.b66=p,this.a66=o,this.a66?t("#arena_content").empty().append(t("<strong>").append(a("arena_unavailable"))):this.r70(),this.s65&&(this.t62[this.s65]||this.s65>=i.A75&&this.s65<=i.A76)&&(gi.t61=this.s65,gi.s143(),this.s65=null)}static r70(){let e=0,s=0;for(let n=1;n<=8;n++)for(let r=1;r<=i.A97;r++){let l=i.A66+r*10+n;this.t62[l]&&this.t62[l]>0&&(r==i.A93||r==i.A94||r==i.A95?R.g256()==i.E108&&s++:e++)}t("#arena_content").empty(),s>0?t("#arena_content").append(t("<div>").append(t("<h3>",{class:"no-margin pull-left "+gt.g223()+"-text"}).append('<i class="fa fa-ticket"></i> ',a("event_"+gt.g223()+"_tickets")),t("<div>",{class:"pull-right"}).append(a("activity_points")+a(": "),this.u65[i.A103]?this.u65[i.A103]:0,m.a101("icon-right")),t("<div>",{class:"clearfix"})),"<br/>",this.r71(!0),"<br/>"):R.g256()==i.E108&&t("#arena_content").append(t("<div>",{class:"text-right"}).append(a("activity_points")+a(": "),this.u65[i.A103]?this.u65[i.A103]:0,m.a101("icon-right")),"<br/>"),t("#arena_content").append(t("<div>").append(t("<h3>",{class:"no-margin pull-left"}).append('<i class="fa fa-ticket"></i> ',a("arena_my_tickets")),t("<span>",{class:"dropdown pull-right"}).append(t("<span>",{class:"dropdown-toggle select-dropdown","data-toggle":"dropdown"}).append(U.g172("arenaTableView")=="1"?a("arena_table_view"):a("arena_list_view"),t("<span>",{class:"caret"})),t("<ul>",{class:"dropdown-menu"}).append(t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c62(!1)).append(a("arena_list_view"))),t("<li>").append(t("<a>",{href:"javascript:void(0)"}).on("click",()=>this.c62(!0)).append(a("arena_table_view"))))),t("<div>",{class:"clearfix"})),"<br/>",e>0?U.g172("arenaTableView")=="1"?this.r72():this.r71(!1):t("<div>").append(a("arena_no_tickets")),"<br/>"),t('[data-toggle="tooltip"]').tooltip(),x.r226()}static r71(e){let s=[];for(let n=1;n<=8;n++)for(let r=1;r<=i.A97;r++){let l=i.A66+r*10+n,p=i.A98*(n-1);if(this.t62[l]&&this.t62[l]>0){let o=ut.g167(l,i.A100),c=Math.floor(o.reward[3]*i.A99),f=t("<tr>").append(t("<td>",{class:"hidden-xs"}).append(this.t62[l]),t("<td>",{class:"text-nowrap"}).append(K.m92(l,this.b66,"right",null).append('<i class="fa fa-ticket ticket ticket'+r+'"></i>L'+n),t("<span>",{class:"hidden-sm hidden-md hidden-lg gray"}).append(this.t62[l]>1?" ("+this.t62[l]+")":"")),t("<td>",{class:"hidden-xs"}).append(a("arena_type_"+r,{NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'})),t("<td>").append(K.g198(l),t("<div>",{class:"hidden-sm hidden-md hidden-lg"}).css("margin","5px 0").append(this.s66>=p?t("<button>",{class:"btn btn-default btn-xs"}).prop("disabled",e&&(!this.u65[i.A103]||c>this.u65[i.A103])).on("click",()=>this.u66(l)).append(e?t("<span>").append(a("arena_use_ticket"),"<br/>",c,m.a101("icon-right")):'<i class="fa fa-ticket ticket ticket'+r+'"></i> '+a("arena_use_ticket")):t("<span>").append(t("<span>",{class:"text-danger"}).append(a("arena_rank_required")+a(": ")),b.m107(p+1,!1).append(t("<strong>").append(a(et.g279(p+1))))))),t("<td>").append(K.g199(this.b66,l)>0?t("<div>").append("+"+K.g199(this.b66,l),t("<span>",{class:"help",title:a("arena_points")}).tooltip({trigger:"hover"}).append(m.a103("icon-small icon-right"))):"",Dt.r216(!1,l,i.A100,this.b65)),t("<td>",{class:"hidden-xs"}).append(this.s66>=p?t("<button>",{class:"btn btn-default btn-xs"}).prop("disabled",e&&(!this.u65[i.A103]||c>this.u65[i.A103])).on("click",()=>this.u66(l)).append(e?t("<span>").append(a("arena_use_ticket"),"<br/>",c,m.a101("icon-right")):'<i class="fa fa-ticket ticket ticket'+r+'"></i> '+a("arena_use_ticket")):t("<span>").append(t("<span>",{class:"text-danger"}).append(a("arena_rank_required")+a(": ")),b.m107(p+1,!1).append(t("<strong>").append(a(et.g279(p+1)))))));r==i.A93||r==i.A94||r==i.A95?R.g256()==i.E108&&e&&s.push(f):e||s.push(f)}}return t("<table>",{class:"table table-bordered"}).append(t("<thead>").append(t("<tr>").append(t("<th>",{class:"text-nowrap hidden-xs"}).append(a("arena_amount")),t("<th>",{class:"text-nowrap hidden-xs"}).append(a("arena_level")),t("<th>",{class:"text-nowrap hidden-xs"}).append(a("arena_type")),t("<th>",{class:"text-nowrap hidden-sm hidden-md hidden-lg"}).append(a("arena_ticket_short")),t("<th>",{class:"text-nowrap arena-descr-column"}).append(a("arena_description")),t("<th>").append(a("arena_reward")),t("<th>",{class:"hidden-xs"}).append())),t("<tbody>").append(s))}static r72(){let e=[];for(let s=1;s<=i.A92;s++){let n=t("<tr>").append(t("<td>").append(a("arena_type_"+s,{NG:'<abbr data-toggle="tooltip" title="'+a("ng")+'">NG</abbr>'})));for(let r=1;r<=8;r++){let l=i.A66+s*10+r,p=k.i90()?t("<span>"):K.m92(l,this.b66,"top",null);this.t62[l]&&this.t62[l]>0?n.append(t("<td>").append(p.append(t("<button>",{class:"btn btn-default btn-xs"}).on("click",()=>this.u66(l)).append('<i class="fa fa-ticket ticket ticket'+s+'"></i>L'+r," ("+this.t62[l]+")")))):n.append(t("<td>")),e.push(n)}}return t("<table>",{class:"table table-bordered"}).append(t("<thead>").append(t("<tr>").append(t("<th>",{class:"text-nowrap"}).append(a("arena_type")),t("<th>",{class:"text-center"}).append("L1"),t("<th>",{class:"text-center"}).append("L2"),t("<th>",{class:"text-center"}).append("L3"),t("<th>",{class:"text-center"}).append("L4"),t("<th>",{class:"text-center"}).append("L5"),t("<th>",{class:"text-center"}).append("L6"),t("<th>",{class:"text-center"}).append("L7"),t("<th>",{class:"text-center"}).append("L8"))),t("<tbody>").append(e))}static c62(e){U.s142("arenaTableView",e?"1":"0"),this.re()}static u66(e){gi.t61=e,gi.s143()}static c63(e,s){if(d.u64==u.u61.id&&d.a93){let n=ut.g167(d.a93.type,d.a93.mode,d.a93.extraConf),r=e==i.G99;n.eff&&s<n.eff&&(r=!1),xe.r74<=0?this.f63(!1):r&&(d.a93.gameNumber>=n.games?y.m109("ArenaController.checkFinishWsAction",[d.a93.id],this.f64.bind(this)):xe.a72())}}static f63(e){e&&v.r223([Ft]),y.m109("ArenaController.finishArenaWsAction",[d.a93.id,e],this.f64.bind(this))}static f64(e,s,n,r,l,p,o){ge.a93=e,ge.o61=s,ge.i106=n,ge.e76=r,ge.c167=l,ge.i107=p,ge.s143(),o&&x.n81("arena",!0),_e.d63(),setTimeout(()=>{nt.r139(),R.g256()==i.E112&&ce.u115(!1)},this.Q61)}};var xe=class{static $="ArenaPanelBlock";static r73=!1;static a69=!1;static r74=0;static r75="";static t63=null;static re(){if(t("#"+this.$).empty(),!d.a93)return;this.r74=d.a93.remainTime,this.r75="";let e=ut.g167(d.a93.type,d.a93.mode,d.a93.extraConf),s=t(window).width()<500;t("#"+this.$).append(t("<div>").append(t("<div>",{class:"pull-left arena-panel"}).append(t("<strong>").append(K.m92(d.a93.type,null,"right",d.a93.mode).append('<i class="fa fa-ticket ticket ticket-big ticket'+Math.floor((d.a93.type-i.A66)/10)+'"></i>')," L"+(d.a93.type-i.A66)%10+(d.a93.mode==i.A101?"E":""),s?"":" "+a("arena_title")),"&nbsp;&nbsp;",t("<span>",{class:"gray help"}).append('<i class="glyphicon glyphicon-info-sign icon-diff-info-small"></i>').popover({container:"body",trigger:"hover",placement:"top",html:!0,content:K.g198(d.a93.type,d.a93.mode)}),"&nbsp;&nbsp;",d.u64==u.u61.id?t("<span>",{class:"gray cursor-pointer",title:a("arena_finish_arena")}).on("click",()=>this.f65()).append('<i class="glyphicon glyphicon-remove-sign icon-diff-info-small icon-arena-finish"></i>').tooltip({trigger:"hover"}):"","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",m.a103("arena-icon-game")," ",s?"":a("arena_game")+" ",d.a93.gameNumber+" / "+e.games+"&nbsp;&nbsp;",t("<span>",{id:"difficulty_popover",class:"gray help"}).append('<i class="glyphicon glyphicon-info-sign icon-diff-info-small"></i>').popover({container:"body",trigger:"hover",placement:t(window).width()>=1e3?"top":"bottom",html:!0,content:()=>'<img src="/img/loading_big.gif"  class="loading-big"/>'}),"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t("<span>",{id:"arena_remain_time_wrapper",class:"arena-remain-time-wrapper cursor-pointer text-nowrap"}).on("click",()=>this.c64()).append('<i class="fa fa-clock-o arena-clock"></i>',t("<span>",{id:"arena_remain_time"}))),t("<div>",{id:"GamePanelBlock",class:"pull-right arena-panel"}),t("<div>",{class:"clearfix"})),d.a93.extraConf?t("<div>",{class:"arena-panel bold "+gt.g223()+"-text"}).append('<i class="fa fa-question-circle"></i> ',K.g201(d.a93.type,d.a93.mode,d.a93.extraConf)):""),this.r76(),this.a69&&(this.a71(!1),this.a69=!1),this.t63&&clearInterval(this.t63),this.t63=setInterval(()=>{this.r74-=1e3,this.r76()},1e3),pt.u76(),d.u64==u.u61.id&&_e.c66()}static f65(){tt.t81=a("arena_sure_finish_arena"),tt.c136=()=>{Pt.f63(!0)},tt.s143()}static a70(){this.a69=!0}static a71(e){if(!d.a93)return;let s=ut.g167(d.a93.type,d.a93.mode,d.a93.extraConf);s.penalty&&(e&&(this.r74-=s.penalty*60*1e3,this.r76()),t("#arena_remain_time_wrapper").addClass("flash"),setTimeout(()=>{t("#arena_remain_time_wrapper").removeClass("flash")},500))}static r76(){if(!d.a93)return;let e;if(this.r74<=0)e="text-danger",t("#arena_remain_time").html(a("arena_expired"));else{let s=ut.g167(d.a93.type,d.a93.mode,d.a93.extraConf),r=s.time*60*1e3/s.games,l=this.r74-r*(s.games-d.a93.gameNumber);l>0?e="text-success":e="text-orange";let p=Math.floor((this.r73?l:this.r74)/1e3),o="";this.r73&&(p<0?(o="\u2013",p*=-1):o="+");let c=Math.floor(p/60/60),f=Math.floor(p%(60*60)/60),h=Math.round(p%60);t("#arena_remain_time").html(o+(c>0?(c<10?"0":"")+c+":":"")+(f<10?"0":"")+f+":"+(h<10?"0":"")+h)}e!=this.r75&&(this.r75=e,t("#arena_remain_time_wrapper").removeClass("text-danger").removeClass("text-success").removeClass("text-orange").addClass(e))}static a72(){d.a93.gameNumber++,this.r76()}static c64(){this.r73=!this.r73,this.r76()}};var d=class _{static $=0;static o64=null;static t61=null;static l65=null;static s88=null;static s163=null;static u64=null;static s164=null;static s165=null;static m87=null;static s166=null;static s167=null;static f80=null;static c187=null;static c188=null;static c189={};static l75={};static h70=[];static t94=null;static c190=null;static t95=null;static r176=null;static t96=null;static a93=null;static a94=0;static n74=0;static l76=0;static k61=0;static k62=0;static r191=null;static r192=[];static c191=[];static a95=[];static e81={};static e82=null;static l77=[];static r193=!1;static l78=!1;static f81=!1;static L63=20;static I67=500;static i85(e,s,n,r,l,p,o,c,f,h){if(this.$=e.id,this.o64=e.originalId,this.t61=e.type,this.l65=e.level,this.s88=e.state,this.s163=e.server,this.u64=e.userId,this.s164=e.sizeX,this.s165=e.sizeY,this.m87=e.mines,this.r176=e.run,this.c187=s,this.c188=n,this.c189={},this.l75={},this.h70=r,this.t95=o||0,this.l76=e.lpe,this.k61=f,this.k62=h,this.t94={},l)for(let g=0;g<l.length;g++)this.t94[l[g].x*_.s165+l[g].y]=l[g].type;if(this.a93=e.arenaInfo,e.run?(this.t96=Date.now()-this.t95,this.s166=this.s167=null):(this.t96=null,this.s166=e.startX,this.s167=e.startY),this.c190=new Array(e.sizeX*e.sizeY),this.f80=0,this.c187&&Object.keys(this.c187).length>0)for(let g=0;g<e.sizeX*e.sizeY;g++)this.f80+=+this.c187.f[g],this.c190[g]={pressed:0,clicked:0,checking:0,check:0,wasFlagged:0};if(this.a94=0,e.arenaExtraConf){let g=e.arenaExtraConf;this.a94=g.skin?g.skin:0}if(ei.i118(e.originalId?e.originalId:e.id),this.r191=c,this.r192=[],this.c191=[],this.l77=[],this.r193=!1,this.l78=!1,this.f81=!1,this.n74=0,Di.i85(e.id,e.sizeX,e.sizeY,e.mines,s,this.l76,p),this.l76)for(let g=0,w="$";g<9;g++){if(!window[w+this.l76]||!window[w+this.l76][g]){this.l76=0;break}this[g]=window[w+this.l76][g]}}static g185(e,s,n,r){if(this.i115()||this.i116())return;if(this.s166!==null){if(e==i.C92)return;this.s166=this.s167=null}let l=this.r176?Date.now()-this.t96:1;if(this.r176&&l>i.G64){location.reload();return}if(e==i.C92&&this.a93&&ut.g167(this.a93.type,this.a93.mode,this.a93.extraConf).nf)return;let p=[],o="",c=null,f=null,h,g={x:s,y:n,time:l,type:e};if(this.l76){if(Rt.g234()>=1e3){this.l77.push([e,s,n,r]),t("#game").addClass("waiting");return}let A=this.$,M=this.l65,P=this.s164,B=this.s165,L=this.m87,mt=0;for(var w=0;w<this.s163.length;w++)mt+=this.s163[w].charCodeAt(0);let zt=function(ft,st,Re,as,Ei){return function(Ii,oa){return Ei=Ei<200?st+Re(Ii,oa)%9:ft+as(oa,Ii)%33}}(this.k61,this.k62,this[(A+M*P+i.s194(A,M,P,B,L,mt))%9],this[(2*A+B*L+i.s194(L,B,P,M,A,mt))%9]),re=Di.p102(e,r,this.r176,this.t96,null,zt);if(p=re[0],c=re[1],f=re[2],p.length==0&&this.c188.length>0&&this.c189[this.c188.length-1]&&l-this.c188[this.c188.length-1].time<this.I67)return;let ie=Math.random()*249|0,De=10+this.$%1e3/300*100|0,$e=20+this.$%2e3/1e3*100|0;for(let ft=0;ft<De;ft++)o+=String.fromCharCode(1+ie),ie=(ie+37)%249,ft%100==99&&ie++;for(let ft=0;ft<p.length/5;ft++){p[ft*5+2]==0&&(this.c189[this.c188.length]=1);let st=+p[ft*5+2];p[ft*5+4]&&(st=st|i.C79),p[ft*5+3]&&(st=st|i.C80),o+=String.fromCharCode(ft%2==0?p[ft*5]:250-p[ft*5])+String.fromCharCode(ft%2==0?p[ft*5+1]:200-p[ft*5+1])+String.fromCharCode(ft%2==0?st:150-st)}for(let ft=0;ft<$e;ft++)o+=String.fromCharCode(1+ie),ie=(ie+47)%249,ft%100==99&&ie++;h=[this.r191,this.$,e,s,n,l,r,o,c,f],this.r192[this.r191++]=h,g.touchCells=p,y.g188(this.s163,"GameplayController.gameClickWsAction",h),this.t97(h[0],this.$,g,c,!1),c===i.G98&&(this.f81=!0,U.s142("D"+this.$,1))}else if(e==i.C92){if(this.c187.o[s*this.s165+n])return;p=[s,n,i.C74,0,this.c187.f[s*this.s165+n]?0:1],h=[this.r191,this.$,e,s,n,l,r,o,c,f],this.r192[this.r191++]=h,y.g188(this.s163,"GameplayController.gameClickWsAction",h),g.touchCells=p,this.t97(h[0],this.$,g,c,!1)}else h=[this.r191,this.$,e,s,n,l,r,o,c,f],this.r192[this.r191++]=h,y.g188(this.s163,"GameplayController.gameClickWsAction",h)}static t97(e,s,n,r,l){if(!(l&&(this.l78&&(this.l78=!1,t("#game").removeClass("waiting")),this.u64==u.u61.id&&(this.l76||n.type==i.C92)||s!=this.$||!v.i127))&&!(this.u64==u.u61.id&&!this.r192[e])){this.c188.push(n),this.r176||(this.r176=!0,this.t96=Date.now(),X.s172(),t("#cell_0_0").removeClass("hint-to-open")),this.e81={},this.e82=null;for(let p=0;p<n.touchCells.length/5;p++){let o=n.touchCells[p*5],c=n.touchCells[p*5+1],f=n.touchCells[p*5+2],h=n.touchCells[p*5+3],g=n.touchCells[p*5+4],w=this.c187.f[o*this.s165+c]!=g;this.c187.t[o*this.s165+c]=f,this.c187.o[o*this.s165+c]=h,this.c187.f[o*this.s165+c]=g,this.c190[o*_.s165+c].pressed=0,this.c190[o*_.s165+c].clicked=0,g&&(this.c190[o*_.s165+c].wasFlagged=1),f==i.C77?Z.u123(o,c):w&&this.m88(o,c),h&&(Z.u123(o,c),this.l75[o*_.s165+c]&&(this.l75[o*_.s165+c]=0,setTimeout(()=>{qt.o63(o,c,!0)},this.L63)),f==0&&(this.e81[o*_.s165+c]=1,this.e82=Date.now()))}e%10==9&&Zt.c184(),xt.c81(this.c188),r!==null&&this.f82(r),yt.c195(n.touchCells)}}static m88(e,s){this.c187.f[e*this.s165+s]?(this.f80++,Z.u123(e,s)):(this.f80--,Z.u123(e,s)),X.u132(this.f80)}static f82(e){if(this.s88=e,k.g121())for(let s in this.t94){let n=s/this.s165|0,r=s%this.s165;Z.u123(n,r)}X.s173(),X.u130(),X.u129(!0),Et.re(),v.s181||e==i.G98&&xe.a71(!0),Zt.c185(),Zt.c186(),this.u64==u.u61.id&&(me.g195(),e==i.G99&&me.g196())}static c192(e,s){return this.s166!==null&&(e!=this.s166||s!=this.s167)}static i115(){return this.r193||this.l78||this.f81||this.l77.length>0}static i116(){return this.u64!=u.u61.id||this.s88!=i.G96&&this.s88!=i.G97}static c193(){if(this.l77.length>0){let e=JSON.parse(JSON.stringify(this.l77));this.l77=[];for(let s=0;s<e.length;s++)this.g185(e[s][0],e[s][1],e[s][2],e[s][3]);t("#game").removeClass("waiting")}}static n75(e){this.t94[e.x*this.s165+e.y]=e.type,Z.u123(e.x,e.y)}static g186(e){this.$==e&&t("#"+se.$).is(":visible")&&++this.n74==10&&location.reload()}static l79(e){this.$==e&&t("#"+se.$).is(":visible")&&(this.l78=!0,t("#game").addClass("waiting"))}static l80(e){this.$==e&&t("#"+se.$).is(":visible")&&(this.r193=!0,t("#game").addClass("waiting"),setTimeout(()=>{X.s171()},500))}static r194(e){this.$==e&&t("#"+se.$).is(":visible")&&(this.r193=!0,t("#game").addClass("waiting"),setTimeout(()=>{location.reload()},1e3))}};var ni=class{static $="HintDialog";static u119=0;static t82={};static h68={};static P63=100;static H62=1500;static H63=1e3;static H64=500;static H65=1e3;static H66=.25;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){let e=t("<div>",{id:"hint_dialog_content",class:"text-center"}),s,n=i.C145[R.g258()],r=n&&(n.type==i.C148||n.type==i.C152)&&Date.now()>n.startsAt&&n.endsAt>Date.now()&&!i.i139(d.l65)&&d.l65!=i.G70&&d.l65<i.G89,l=d.h70.filter(p=>p.type!=i.H85&&p.type!=i.H86).length;r?e.append(a("champ_hints_are_not_allowed",{"<a>":'<a href="'+v.l86+'/championship" target="_blank">'})):l>=this.g175()?e.append(a("game_hint_all_used")):(e.append(t("<div>").append(a("game_hint_price")+a(": "),i.H94,I.h77("icon-right","bottom")),'<hr class="medium-hr"/>',t("<div>",{class:"hint-dialog-second-line"}).append(a("market_available")+a(": "),t("<span>",{class:this.u119>=i.H94?"text-success":"text-danger"}).append(b.g227(this.u119)),I.h77("icon-right","bottom")),l>=1&&a("game_hints_used")?t("<div>").append('<hr class="medium-hr"/>',a("game_hints_used")+a(": "),l+" / "+this.g175()):""),s=t("<button>",{id:"hint_buy_btn",type:"button",class:"btn btn-primary"}).prop("disabled",this.u119<i.H94).on("click",()=>this.b88()).html(a("game_hint_buy"))),t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog hint-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title text-center bold"}).append('<i class="fa fa-magic"></i> '+a("game_hint_use_hint"))),t("<div>",{class:"modal-body"}).append(e),t("<div>",{class:"modal-footer"}).append(t("<div>",{class:"text-center"}).append(t("<button>",{id:"hint_cancel_btn",type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("game_hint_cancel")),"&nbsp;&nbsp;",s)))))}static g175(){return d.l65>=i.G89?i.H91:i.i139(d.l65)?i.H90:d.l65==i.G70?i.H89:i.H88}static b88(){t("#hint_cancel_btn").prop("disabled",!0),t("#hint_buy_btn").prop("disabled",!0),t("#"+this.$).modal({backdrop:"static",keyboard:!1}),this.s145(a("game_hint_search_message"),this.t83(this.H62),()=>{this.t82[d.$]=1,this.c172()}),y.m109("HintsController.buyHintWsAction",[d.$],this.b89.bind(this))}static b89(e,s){let n=Date.now()-d.t96+this.t83(this.H62)+this.H66*d.s164*d.s165+this.t83(this.H63)+this.t83(this.H64);yt.r196(n,e,s,!1)}static p84(e,s){this.h68[d.$]={hint:e,purchaseId:s},this.c172()}static s145(e,s,n){t("#hint_dialog_content").empty().append(t("<div>",{id:"hint_progress_text"}).append(e),t("<div>",{class:"progress hint-progress"}).append(t("<div>",{id:"hint_dialog_progress",class:"progress-bar",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}).css("width","0%")));let r=0,l=s+this.H66*d.s164*d.s165,p=setInterval(()=>{r++,r*this.P63>l?(clearInterval(p),document.getElementById("hint_dialog_progress").style.width="100%",setTimeout(n,this.t83(this.H63))):document.getElementById("hint_dialog_progress").style.width=Math.round(r*this.P63/l*100)+"%"},this.P63)}static c172(){this.t82[d.$]!==void 0&&this.h68[d.$]!==void 0&&(this.h69(this.h68[d.$].hint,this.h68[d.$].purchaseId),delete this.t82[d.$],delete this.h68[d.$])}static h69(e){e&&(e.mineProbs?this.s145(a("game_hint_probabilities_message"),this.H65,()=>{this.f75(e)}):(t("#hint_progress_text").html(a("game_hint_found_message")),this.f75(e)))}static f75(e){setTimeout(()=>{t("#"+this.$).modal("hide"),yt.h72(e)},this.t83(this.H64))}static t83(e){return e}};var ss=class{static $="ShareDialog";static g118=null;static s143(){this.re(),t("#"+this.$).modal("show")}static re(){t("#"+this.$).empty().append(t("<div>",{class:"modal-dialog hint-dialog",role:"document"}).append(t("<div>",{class:"modal-content"}).append(t("<div>",{class:"modal-header"}).append(t("<button>",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).append(t("<span>").html("&times;")),t("<h4>",{class:"modal-title text-center bold"}).append('<i class="fa fa-share-alt"></i> '+a("share"))),t("<div>",{class:"modal-body"}).append(t("<div>",{id:"share_links",class:"text-center"}).css("margin","10px 0").append(t("<button>",{id:"share_copy_url",class:"btn btn-primary"}).on("click",()=>{navigator.clipboard.writeText(location.href),t("#share_copy_url").html('<i class="fa fa-check"></i> '+a("app_copy_url"))}).append('<i class="fa fa-clone"></i> '+a("app_copy_url")),"<br/>","<br/>",t("<button>",{id:"share_to_chat",class:"btn btn-success"}).on("click",()=>this.s156()).append('<i class="fa fa-envelope"></i> '+a("share_to_chat")))),t("<div>",{class:"modal-footer"}).css("text-align","center").append(t("<button>",{type:"button",class:"btn btn-default","data-dismiss":"modal"}).html(a("profile_close_button")))))),d.u64!=u.u61.id&&t("#share_links").append("<br/>","<br/>",t("<button>",{id:"share_report_cheating",class:"btn btn-danger","data-loading-text":a("loading")+"..."}).on("click",()=>this.r62()).append('<i class="fa fa-exclamation-triangle"></i> '+a("report_cheating"))),navigator.share&&navigator.canShare&&navigator.canShare(this.g176())&&t("#share_links").prepend(t("<button>",{class:"btn btn-info"}).on("click",()=>this.s155()).append('<i class="fa fa-share-alt"></i> '+a("share")),"<br/>","<br/>")}static s155(){navigator.share(this.g176())}static g176(){return{url:window.location.href}}static s156(){G.n62?G.n62+=" "+window.location.href:G.n62=window.location.href,t("#"+this.$).modal("hide"),x.n81("chat",!0)}static r62(){t("#share_report_cheating").button("loading"),y.m109("GameAbusesController.reportAbuseWsAction",[d.$],this.r180.bind(this))}static r180(){t("#share_report_cheating").html('<i class="fa fa-check"></i> '+a("chat_abuse_sent"))}};var Et=class _{static $="WrapperPanelBlock";static f74=!1;static b80=0;static re(){if(t("#"+this.$).empty(),v.s181||v.i126||v.i128)return;this.f74=!0,this.b80=0;let e=Le.g242().length;if(!(e&&(t("#"+this.$).append(Le.c210().append(t("<button>",{id:"watchers_btn",class:"btn btn-sm btn-default btn-hint "+this.b81()}).append('<i class="glyphicon glyphicon-eye-open watchers-eye"></i> ',t("<span>",{id:"watchers_count"}).html(e)))),this.c160("watchers_btn")))){if(d.o64){if(t("#"+this.$).append(t("<a>",{id:"back_btn","href-local":"game/"+d.o64,class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_back_to_game")}).html('<i class="glyphicon glyphicon-arrow-left"></i>').tooltip({html:!0,trigger:"hover"})),this.c160("back_btn"))return}else if(t("#"+this.$).append(t("<button>",{id:"share_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("share")}).html('<i class="fa fa-share-alt"></i>').on("click",()=>this.s138()).tooltip({html:!0,trigger:"hover"})),this.c160("share_btn"))return;if(d.u64==u.u61.id&&!d.a93&&(d.s88==i.G96||d.s88==i.G97)){if(d.o64&&this.i98()&&!i.i139(d.l65)){if(t("#"+this.$).append(t("<span>",{class:"hint-free-relative"}).append(t("<div>",{id:"probs_free",class:"hint-free-absolute text-success "+this.b81()}).append("FREE"))),t("#"+this.$).append(t("<button>",{id:"probs_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("analyzer_probabilities")}).on("click",()=>this.p81()).html('<i class="fa fa-percent"></i>').tooltip({trigger:"hover"})),this.c160("probs_btn"))return;t("#probs_free").innerWidth(t("#probs_btn").innerWidth()+2*parseInt(t("#probs_btn").css("margin-left")))}if(this.i98()&&t("#"+this.$).append(t("<span>",{class:"hint-free-relative"}).append(t("<div>",{id:"hint_free",class:"hint-free-absolute text-success "+this.b81()}).append("FREE"))),t("#"+this.$).append(t("<button>",{id:"hint_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_ng_hint")}).on("click",()=>this.h64()).html('<i class="fa fa-magic"></i>').tooltip({trigger:"hover"})),this.c160("hint_btn")||(this.i98()&&t("#hint_free").innerWidth(t("#hint_btn").innerWidth()+2*parseInt(t("#hint_btn").css("margin-left"))),yt.a96&&(yt.h71?t("#"+this.$).append(t("<button>",{id:"toggle_hint_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_toggle_hint")}).on("click",()=>this.t77()).html('<i class="fa fa-toggle-off"></i>').tooltip({trigger:"hover"})):t("#"+this.$).append(t("<button>",{id:"toggle_hint_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_toggle_hint")}).on("click",()=>this.t77()).html('<i class="fa fa-toggle-on"></i>').tooltip({trigger:"hover"})),this.c160("toggle_hint_btn"))))return}this.i97()&&!d.a93&&(t("#"+this.$).append(t("<button>",{id:"restart_btn",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_continue_playing")}).on("click",this.r174).html('<i class="fa fa-rotate-right"></i>').tooltip({html:!0,trigger:"hover"})),this.c160("restart_btn"))||(t("#"+this.$).append(t("<a>",{id:"edit_btn",href:"javascript:void(0)",target:"_blank",class:"btn btn-sm btn-default btn-hint btn-paint "+this.b81(),title:a("game_open_in_editor")}).on("click",this.p82).html('<i class="fa fa-edit"></i>').tooltip({trigger:"hover"})),!this.c160("edit_btn")&&(t("#"+this.$).append(t("<a>",{id:"screen_btn",href:"javascript:void(0)",target:"_blank",class:"btn btn-sm btn-default btn-hint "+this.b81(),title:a("game_screenshot")}).on("click",this.s139).html('<i class="fa fa-camera-retro"></i>').tooltip({trigger:"hover"})),!this.c160("screen_btn")&&x.r226()))}}static r174(){!t("#restart_btn").is(":visible")||t("#restart_btn").hasClass("disabled")||(t("#restart_btn").addClass("disabled"),bt.n77(!1,!0))}static i97(){return d.s88!=i.G96&&d.s88!=i.G97}static s138(){t("#share_btn").tooltip("hide"),ss.g118=d.$,ss.s143()}static h64(){if(t("#hint_btn").tooltip("hide"),!(!t("#hint_btn").is(":visible")||t("#hint_btn").hasClass("disabled"))){if(!d.r176){d.s166!==null?t("#cell_"+d.s166+"_"+d.s167).addClass("start-active"):t("#cell_0_0").addClass("hint-to-open");return}t("#hint_btn").addClass("disabled"),this.i98()?yt.r196(d.r176?Date.now()-d.t96:1,null,null,!1):y.m109("HintsController.getUserHpWsAction",[],e=>{this.re(),ni.u119=e,ni.s143()})}}static p81(){t("#probs_btn").tooltip("hide"),!(!t("#probs_btn").is(":visible")||t("#probs_btn").hasClass("disabled"))&&d.r176&&(t("#probs_btn").addClass("disabled"),yt.r196(d.r176?Date.now()-d.t96:1,null,null,!0))}static i98(){return i.i139(d.l65)||d.l65>=i.G89&&u.p61}static t77(){if(!t("#toggle_hint_btn").is(":visible")||t("#toggle_hint_btn").hasClass("disabled"))return;let e={type:yt.h71?i.H86:i.H85,cells:[],flags:[],extra:[],time:Date.now()-d.t96};yt.h72(e),y.g188(d.s163,"GameplayController.toggleHintWsAction",[d.$,e])}static p82(){return d.$?(this.href="https://minesweeper.online/paint/#load:"+_.g168(),!0):!1}static s139(){return d.$?(this.href=_.g168(),!0):!1}static g168(){let e;d.s88==i.G96||d.s88==i.G97?e=d.r176?Date.now()-d.t96:0:e=Ut.p90!==null?Ut.p90:de.g188.duration;let s="https://"+J.g287(V.e97)+"/screen/"+d.$+"-"+k.g144()+"-"+ot.g169();return e&&(s+="-"+e),s+=".png",s}static c160(e){return this.b80+=t("#"+e).innerWidth()+parseInt(t("#"+e).css("margin-left")),this.b80>t("#game").width()-X.M67?(t("#"+e).remove(),x.r226(),!0):!1}static b81(){let e="";return this.f74&&(e+="btn-hint-first",this.f74=!1),ot.g169()>=30?e+=" btn-hint-big":ot.g169()<24&&(e+=" btn-hint-small"),e}};var ot=class{static $="ZoomBlock";static D67=24;static D68=34;static B61=720;static B62=970;static W62=992;static c161=!1;static re(){t("#"+this.$).empty().append(t("<select>",{id:"zoom_select",class:"form-control input-sm"}).on("change",()=>this.c162()).append(t("<option>",{value:10}).html("&#x1F50D; 10"),t("<option>",{value:12}).html("&#x1F50D; 12"),t("<option>",{value:14}).html("&#x1F50D; 14"),t("<option>",{value:16}).html("&#x1F50D; 16"),t("<option>",{value:18}).html("&#x1F50D; 18"),t("<option>",{value:20}).html("&#x1F50D; 20"),t("<option>",{value:22}).html("&#x1F50D; 22"),t("<option>",{value:24}).html("&#x1F50D; 24"),t("<option>",{value:26}).html("&#x1F50D; 26"),t("<option>",{value:28}).html("&#x1F50D; 28"),t("<option>",{value:30}).html("&#x1F50D; 30"),t("<option>",{value:32}).html("&#x1F50D; 32"),t("<option>",{value:34}).html("&#x1F50D; 34"),t("<option>",{value:36}).html("&#x1F50D; 36"),t("<option>",{value:38}).html("&#x1F50D; 38"),t("<option>",{value:40}).html("&#x1F50D; 40"),t("<option>",{value:42}).html("&#x1F50D; 42"),t("<option>",{value:44}).html("&#x1F50D; 44"),t("<option>",{value:46}).html("&#x1F50D; 46"),t("<option>",{value:48}).html("&#x1F50D; 48"),t("<option>",{value:50}).html("&#x1F50D; 50"),t("<option>",{value:52}).html("&#x1F50D; 52"),t("<option>",{value:54}).html("&#x1F50D; 54"),t("<option>",{value:56}).html("&#x1F50D; 56"),t("<option>",{value:58}).html("&#x1F50D; 58"),t("<option>",{value:60}).html("&#x1F50D; 60")).val(this.g169()))}static c162(){t("#"+this.$).tooltip("hide"),t(window).width()<=600?(this.s140(t("#zoom_select").val()),X.re(),Z.re(),X.i85(),d.r176&&X.s172(),Et.re()):this.r175(t("#zoom_select").val())}static r175(e){let s=this.g169();e&&this.s140(e),this.u116(),e&&t(".cell").removeClass("size"+s).addClass("size"+e);let n=t("#game").width();t(window).width()>this.W62&&n>this.B61?(t(".container").css("max-width",this.B62+n-this.B61),this.c161=!0):this.c161&&(t(".container").css("max-width",this.B62),this.c161=!1),Ut.u127(),t("#"+Et.$).is(":visible")&&Et.re()}static u116(){let e=t(".zoomable");for(let s=0;s<e.length;s++){let n=t(e[s]),r=0,l=0,p=this.g169();n.data("sx")&&(r=n.data("sx")/16*p),n.data("sy")&&(l=n.data("sy")/16*p),n.data("addX")&&(r+=n.data("addX")),n.data("addY")&&(l+=n.data("addY")),n.data("minusX")&&(r-=n.data("minusX")),n.data("minusY")&&(l-=n.data("minusY")),r&&n.css("width",r+"px"),l&&n.css("height",l+"px")}}static s140(e){U.s142("cellSize",e)}static g169(){let e=parseInt(U.g172("cellSize"))||0;return e||(e=k.i90()?this.D68:this.D67,U.s142("cellSize",e)),e}};var k=class{static $="SettingsBlock";static r146=null;static d71=null;static Y61="1";static N61="0";static C62=1;static C63=2;static C64=3;static C65=4;static C66=5;static D61=1;static T74=1;static T75=2;static T76=3;static D62=1;static F66=1;static F67=2;static F68=3;static F69=4;static F70=5;static D63=2;static F71="small";static F72="";static F73="big";static F74="huge";static N62=4e5;static N63=218e5;static N64=2202e4;static D64=81;static D65=87;static re(){H.u74({title:a("settings_title")}),this.r146=d.$;let e=Nt.l87[d.s163]?Nt.l87[d.s163]:"??";t("#"+this.$).empty().append(t("<h2>").html(a("settings_title")),t("<hr>"),t("<div>",{class:"form-horizontal"}).append(t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(a("settings_server")),t("<div>",{class:"col-xs-8 form-text"}).append(t("<img>",{src:u.f62(J.a108[V.e97][St.r227].country),class:"player-flag"}),J.a108[V.e97][St.r227].name,' (<span class="ping-'+St.r227+'">'+e+"</span> "+a("time_milliseconds_abbr")+") &nbsp;&nbsp;&nbsp;",t("<a>",{class:"btn btn-xs btn-primary"}).on("click",()=>we.s143()).append(a("settings_server_change_button")))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_alwaysShowPing",type:"checkbox"}).prop("checked",this.g119()).on("change",()=>this.c87("alwaysShowPing")),"&nbsp;&nbsp;"+a("settings_always_display_ping")))),!this.i91()||this.g133()!=this.C62?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(a("settings_chording_text")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_chording",class:"settings-select form-control"}).on("change",()=>this.c87("chording")).append(t("<option>",{value:this.C62}).html(a("settings_chording_"+this.C62)),t("<option>",{value:this.C63}).html(a("settings_chording_"+this.C63)),t("<option>",{value:this.C64}).html(a("settings_chording_"+this.C64))).val(this.g133()))):"",t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"settings_hidden",type:"checkbox"}).prop("disabled",!u.p61&&!u.u61.hidden).prop("checked",u.u61.hidden).on("change",()=>this.c133()),"&nbsp;&nbsp;"+a("settings_incognito_mode")+" ",t("<i>",{class:"fa fa-question-circle-o gray help",title:a("settings_incognito_mode_description")}).tooltip({trigger:"hover"}),u.p61?"":" ("+a("settings_premium_only")+")"))),u.p61?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_disable_analysis",type:"checkbox"}).prop("checked",this.g122()).on("change",()=>this.c87("disable_analysis")),"&nbsp;&nbsp;"+a("analyzer_disable")))):"","<hr/>",u.u61.id>=this.N63?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(a("settings_skin")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"skin_select",class:"settings-select form-control"}).on("change",()=>this.c134()).append(t("<option>",{value:"xpa"}).html(a("settings_skin_xp")),t("<option>",{value:"hda"}).append(a("settings_skin_hd")),t("<option>",{value:"hdn"}).append(a("settings_skin_hd")+" ("+Q("night shift")+")")).val(this.g144(!0)))):"",u.u61.id<this.N63?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(a("settings_skin")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"skin_select",class:"settings-select form-control"}).on("change",()=>this.c134()).append(t("<option>",{value:"xpa"}).html(a("settings_skin_xp")+" ("+Q("auto")+")"),t("<option>",{value:"xp"}).html(a("settings_skin_xp")+" ("+Q("light")+")"),t("<option>",{value:"xpd"}).html(a("settings_skin_xp")+" ("+Q("dark")+")"),t("<option>",{value:"hda"}).append(a("settings_skin_hd")+" ("+Q("auto")+")"),t("<option>",{value:"hd"}).append(a("settings_skin_hd")+" ("+Q("light")+")"),t("<option>",{value:"hdd"}).append(a("settings_skin_hd")+" ("+Q("dark")+")"),t("<option>",{value:"hdn"}).append(a("settings_skin_hd")+" ("+Q("night shift")+")"),t("<option>",{value:"nnhd"}).append(a("settings_skin_nnhd")),t("<option>",{value:"rc"}).append(a("settings_skin_rc")),t("<option>",{value:"al"}).append(a("settings_skin_al")),t("<option>",{value:"alr"}).append(a("settings_skin_alr")),t("<option>",{value:"gs"}).append(a("settings_skin_gs")),t("<option>",{value:"gsr"}).append(a("settings_skin_gsr"))).val(this.g144(!0)))):"",t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4"}),t("<div>",{class:"col-xs-8"}).append(t("<div>").append(t("<div>",{id:ot.$,class:"input-group game-panel-zoom-block pull-left"}),t("<div>",{id:"settings_pixelated",class:"pull-left"}).css("margin-top","6px").append(t("<label>",{class:"normal cursor-pointer no-margin"}).append(t("<input>",{id:"property_pixelated",type:"checkbox"}).prop("checked",this.g145(!0)).on("change",()=>this.c87("pixelated")),"&nbsp;&nbsp;"+Q("Pixelated"))),t("<div>",{class:"clearfix"})))),t(window).width()>400?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4"}),t("<div>",{class:"col-xs-8"}).append(t("<div>",{id:X.$}))):t("<div>",{id:"skin_center"}).css("margin","auto").append(t("<div>",{id:X.$})),t("<div>",{id:"settings_skin_message",class:"text-center"}).hide().append("<br/>",a("settings_skin_message",{"<a>":'<a href-local="premium">'}),"<br/>","<br/>"),"<hr/>",t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(a("settings_game_stats")),t("<div>",{class:"col-xs-8 form-text"}).append(t("<label>",{class:"normal cursor-pointer",title:"Clicks per second"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_cls",type:"checkbox"}).prop("checked",this.g132("cls")).on("change",()=>this.c87("game_stat_cls")),"&nbsp;&nbsp;"+a("CPS")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Openings"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_ops",type:"checkbox"}).prop("checked",this.g132("ops")).on("change",()=>this.c87("game_stat_ops")),"&nbsp;&nbsp;"+a("Ops")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Index Of Efficiency \u2013 Efficiency as a decimal"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_ioe",type:"checkbox"}).prop("checked",this.g132("ioe")).on("change",()=>this.c87("game_stat_ioe")),"&nbsp;&nbsp;"+a("IOE")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Throughput \u2013 Efficiency with no wasted clicks"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_thrp",type:"checkbox"}).prop("checked",this.g132("thrp")).on("change",()=>this.c87("game_stat_thrp")),"&nbsp;&nbsp;"+a("ThrP")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Correctness \u2013 The % of your clicks that were not wasted"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_corr",type:"checkbox"}).prop("checked",this.g132("corr")).on("change",()=>this.c87("game_stat_corr")),"&nbsp;&nbsp;"+a("Corr")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"The measure of the number of clicks required to clear a board with flagging (3bv is the NF equivalent). It is not a perfect algorithm."}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_zini",type:"checkbox"}).prop("checked",this.g132("zini")).on("change",()=>this.c87("game_stat_zini")),"&nbsp;&nbsp;"+a("ZiNi")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"A different way to measure ZiNi, starts with all openings clicked."}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_hzini",type:"checkbox"}).prop("checked",this.g132("hzini")).on("change",()=>this.c87("game_stat_hzini")),"&nbsp;&nbsp;"+a("H.ZiNi")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Efficiency with ZiNi"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_zne",type:"checkbox"}).prop("checked",this.g132("zne")).on("change",()=>this.c87("game_stat_zne")),"&nbsp;&nbsp;"+a("ZNE")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Efficiency with H.ZiNi"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_hzne",type:"checkbox"}).prop("checked",this.g132("hzne")).on("change",()=>this.c87("game_stat_hzne")),"&nbsp;&nbsp;"+a("HZNE")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Throughput with Zini"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_znt",type:"checkbox"}).prop("checked",this.g132("znt")).on("change",()=>this.c87("game_stat_znt")),"&nbsp;&nbsp;"+a("ZNT")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"Throughput with H.ZiNi"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_hznt",type:"checkbox"}).prop("checked",this.g132("hznt")).on("change",()=>this.c87("game_stat_hznt")),"&nbsp;&nbsp;"+a("HZNT")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"A measure of speed \u2013 (Time+1) / 3BV/s"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_rpq",type:"checkbox"}).prop("checked",this.g132("rpq")).on("change",()=>this.c87("game_stat_rpq")),"&nbsp;&nbsp;"+a("RQP")),"&nbsp;&nbsp;&nbsp;",t("<label>",{class:"normal cursor-pointer",title:"A measure of speed \u2013 log 3BV / (log (time-1))"}).tooltip({trigger:"hover"}).append(t("<input>",{id:"property_game_stat_ios",type:"checkbox"}).prop("checked",this.g132("ios")).on("change",()=>this.c87("game_stat_ios")),"&nbsp;&nbsp;"+a("IOS")))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_disable_timer",type:"checkbox"}).prop("checked",this.g120()).on("change",()=>this.c87("disable_timer")),"&nbsp;&nbsp;"+a("settings_disable_timer")))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_disable_ticket_appearance",type:"checkbox"}).prop("checked",this.g121()).on("change",()=>this.c87("disable_ticket_appearance")),"&nbsp;&nbsp;"+a("settings_disable_ticket")))),!this.i91()||this.g123()?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_new_game_middle_click",type:"checkbox"}).prop("checked",this.g123()).on("change",()=>this.c87("new_game_middle_click")),"&nbsp;&nbsp;"+a("settings_new_game_on_middle_click")))):"",!this.i91()||this.g124()?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_use_keyboard",type:"checkbox"}).prop("checked",this.g124()).on("change",()=>this.c87("use_keyboard")),"&nbsp;&nbsp;"+a("settings_use_keyboard")),t("<div>",{id:"use_keyboard_block",class:this.g124()?"":"hide"}).append(t("<div>",{class:"settings-keys"}).append(a("settings_left_button")+a(": "),this.c135("use_keyboard_left_button")),t("<div>",{class:"settings-keys"}).append(a("settings_right_button")+a(": "),this.c135("use_keyboard_right_button"))))):"",!this.i91()||this.g125()?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_use_hotkeys",type:"checkbox"}).prop("checked",this.g125()).on("change",()=>this.c87("use_hotkeys")),"&nbsp;&nbsp;"+a("settings_use_hotkeys")," ",t('<i class="fa fa-question-circle-o gray help"></i>').popover({container:"body",trigger:"hover",placement:"top",html:!0,content:()=>t("<span>").append(a("settings_hotkey_hint"),a(": "),"<b>H</b><br/>",a("settings_hotkey_toggle_hint"),a(": "),"<b>T</b><br/>",a("settings_hotkey_replay"),a(": "),"<b>C</b><br/>",a("settings_hotkey_editor"),a(": "),"<b>E</b><br/>",a("settings_hotkey_screenshot"),a(": "),"<b>S</b><br/>")})))):"",!this.i91()||this.g126()?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_use_custom_cursor",type:"checkbox"}).prop("checked",this.g126()).on("change",()=>this.c87("use_custom_cursor")),"&nbsp;&nbsp;"+Q("Use a custom cursor")))):"",u.u61.id<this.N63?t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_display_brightness",type:"checkbox"}).prop("checked",this.g127()).on("change",()=>this.c87("display_brightness")),"&nbsp;&nbsp;"+Q("Display the brightness setting in the dark theme")))):"",t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer"}).append(t("<input>",{id:"property_highlight_chord",type:"checkbox"}).prop("checked",this.g128()).on("change",()=>this.c87("highlight_chord")),"&nbsp;&nbsp;"+Q("Highlight open cell when pressed")))),"<hr/>",t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8 bold"}).append(Q('Touch screen settings (<span class="text-danger">beta</span>)'))),t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Touchscreen support")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_touch_mode",class:"settings-select form-control"}).on("change",()=>this.c87("touch_mode")).append(t("<option>",{value:this.T74}).html(Q("Autodetect ("+(this.i91()?"enabled":"disabled")+")")),t("<option>",{value:this.T75}).html(Q("Enabled")),t("<option>",{value:this.T76}).html(Q("Disabled"))).val(this.g134()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Hold to flag time")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_hold_to_flag_time",class:"settings-select form-control"}).on("change",()=>this.c87("hold_to_flag_time")).append(t("<option>",{value:"0"}).html(Q("Default")),t("<option>",{value:"100"}).html("100ms"),t("<option>",{value:"120"}).html("120ms"),t("<option>",{value:"140"}).html("140ms"),t("<option>",{value:"160"}).html("160ms"),t("<option>",{value:"180"}).html("180ms"),t("<option>",{value:"200"}).html("200ms (recommended)"),t("<option>",{value:"220"}).html("220ms"),t("<option>",{value:"240"}).html("240ms"),t("<option>",{value:"260"}).html("260ms"),t("<option>",{value:"280"}).html("280ms"),t("<option>",{value:"300"}).html("300ms"),t("<option>",{value:"320"}).html("320ms"),t("<option>",{value:"340"}).html("340ms"),t("<option>",{value:"360"}).html("360ms"),t("<option>",{value:"380"}).html("380ms"),t("<option>",{value:"400"}).html("400ms")).val(this.g142()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Quick touch vibration")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_quick_vibration",class:"settings-select form-control"}).on("change",()=>this.c87("quick_vibration")).append(t("<option>",{value:"0"}).html(Q("No")),t("<option>",{value:"10"}).html("10ms"),t("<option>",{value:"20"}).html("20ms"),t("<option>",{value:"30"}).html("30ms"),t("<option>",{value:"40"}).html("40ms (recommended)"),t("<option>",{value:"50"}).html("50ms"),t("<option>",{value:"60"}).html("60ms"),t("<option>",{value:"70"}).html("70ms"),t("<option>",{value:"80"}).html("80ms"),t("<option>",{value:"90"}).html("90ms"),t("<option>",{value:"100"}).html("100ms"),t("<option>",{value:"120"}).html("120ms"),t("<option>",{value:"140"}).html("140ms"),t("<option>",{value:"160"}).html("160ms"),t("<option>",{value:"180"}).html("180ms"),t("<option>",{value:"200"}).html("200ms")).val(this.g141()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Long touch vibration")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_long_vibration",class:"settings-select form-control"}).on("change",()=>this.c87("long_vibration")).append(t("<option>",{value:"0"}).html(Q("No")),t("<option>",{value:"10"}).html("10ms"),t("<option>",{value:"20"}).html("20ms"),t("<option>",{value:"30"}).html("30ms"),t("<option>",{value:"40"}).html("40ms"),t("<option>",{value:"50"}).html("50ms"),t("<option>",{value:"60"}).html("60ms"),t("<option>",{value:"70"}).html("70ms"),t("<option>",{value:"80"}).html("80ms (recommended)"),t("<option>",{value:"90"}).html("90ms"),t("<option>",{value:"100"}).html("100ms"),t("<option>",{value:"120"}).html("120ms"),t("<option>",{value:"140"}).html("140ms"),t("<option>",{value:"160"}).html("160ms"),t("<option>",{value:"180"}).html("180ms"),t("<option>",{value:"200"}).html("200ms")).val(this.g143()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8 bold"}).append(Q("Quick action"))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Quick action position")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_flag_mode_pos",class:"settings-select form-control"}).on("change",()=>this.c87("flag_mode_pos")).append(t("<option>",{value:this.F66}).html(Q("Bottom Left")),t("<option>",{value:this.F67}).html(Q("Bottom Right")),t("<option>",{value:this.F68}).html(Q("Center Left")),t("<option>",{value:this.F69}).html(Q("Center Right")),t("<option>",{value:this.F70}).html(Q("Disabled"))).val(this.g135()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Quick action size")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_flag_mode_size",class:"settings-select form-control"}).on("change",()=>this.c87("flag_mode_size")).append(t("<option>",{value:this.F71}).html(Q("Small")),t("<option>",{value:this.F72}).html(Q("Normal")),t("<option>",{value:this.F73}).html(Q("Big")),t("<option>",{value:this.F74}).html(Q("Huge"))).val(this.g136()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<label>",{class:"normal cursor-pointer no-margin"}).append(t("<input>",{id:"property_new_game_scroll",type:"checkbox"}).prop("checked",this.g129()).on("change",()=>this.c87("new_game_scroll")),"&nbsp;&nbsp;"+Q("Scroll to the top by clicking new game")))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).append(Q("Quick scroll to the right")," ",t("<i>",{class:"fa fa-question-circle-o gray help",title:Q("Quick scroll button helps you start the game from the corners. It appears after opening two corners on the left.")}).tooltip({trigger:"hover"})),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_scroll_to_right",class:"settings-select form-control"}).on("change",()=>this.c87("scroll_to_right")).append(t("<option>",{value:this.Y61}).html(Q("Enabled")),t("<option>",{value:this.N61}).html(Q("Disabled"))).val(this.g140()))),t("<div>",{class:"form-group touch-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Flag mode")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_display_flag_mode",class:"settings-select form-control"}).on("change",()=>this.c87("display_flag_mode")).append(t("<option>",{value:this.Y61}).html(Q("Enabled")),t("<option>",{value:this.N61}).html(Q("Disabled"))).val(this.g138()))),t("<div>",{class:"form-group touch-settings flag-mode-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Toggle flag mode with empty cell")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_flag_mode_toggle_empty",class:"settings-select form-control"}).on("change",()=>this.c87("flag_mode_toggle_empty")).append(t("<option>",{value:this.Y61}).html(Q("Yes")),t("<option>",{value:this.N61}).html(Q("No"))).val(this.g137()))),t("<div>",{class:"form-group touch-settings flag-mode-settings"}).append(t("<label>",{class:"col-xs-4 control-label"}).html(Q("Turn off flag mode with new game")),t("<div>",{class:"col-xs-8"}).append(t("<select>",{id:"property_flag_mode_new_game_off",class:"settings-select form-control"}).on("change",()=>this.c87("flag_mode_new_game_off")).append(t("<option>",{value:this.Y61}).html(Q("Yes")),t("<option>",{value:this.N61}).html(Q("No"))).val(this.g139()))),'<hr style="margin-top: 25px;"/>',t("<div>",{class:"form-group"}).append(t("<label>",{class:"col-xs-4 control-label"}),t("<div>",{class:"col-xs-8"}).append(t("<button>",{type:"submit",class:"btn btn-default"}).on("click",()=>this.r147()).append('<i class="fa fa-arrow-circle-o-left"></i> ',a("settings_return_button")))))),ot.re(),this.u100(),this.u101(),this.u102(),this.u103(),x.r226()}static u100(){let e={sizeX:8,sizeY:5,mines:7,state:i.G99,time:35e3,lpe:!1},s={t:[0,0,0,10,0,0,10,11,2,1,0,4,3,1,0,10,0,1,0,0,2,2,1,0,0,0,0,1,1,1,0,0,2,0,2,0,0,2,0,2],o:[0,0,0,1,0,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1],f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0]};d.i85(e,s,[],[],null,null,35e3,0,0,0),X.re(),X.i85(),Z.re(),t("#skin_center").width(t("#game").width())}static c87(e){let s=t("#property_"+e);if(s.length==0){console.error('Property with type "'+e+'" was not found');return}let n=s.is(":checkbox")?+s.prop("checked"):s.val();U.s142(e,n),e=="use_keyboard"&&(t("#use_keyboard_block").toggleClass("hide"),_t.u134()),e=="use_hotkeys"&&_t.u135(),e=="touch_mode"&&(this.u101(),this.u102()),e=="display_flag_mode"&&this.u102(),e=="pixelated"&&this.u100()}static c133(){let e=t("#settings_hidden").prop("checked");u.u61.hidden=e,y.m109("ProfileController.changeHiddenModeWsAction",[e],()=>{})}static g119(){return U.g172("alwaysShowPing")==1?1:0}static g120(){return U.g172("disable_timer")==1?1:0}static g121(){return U.g172("disable_ticket_appearance")==1?1:0}static g122(){return U.g172("disable_analysis")==1?1:0}static g123(){return U.g172("new_game_middle_click")==1?1:0}static g124(){return U.g172("use_keyboard")==1?1:0}static g125(){return U.g172("use_hotkeys")==1?1:0}static g126(){return U.g172("use_custom_cursor")==1?1:0}static g127(){let e=u.u61&&u.u61.id<this.N63?"1":"0";return U.g172("display_brightness",e)==1?1:0}static g128(){let e=u.u61&&u.u61.id>=this.N63&&this.i91()?"1":"0";return U.g172("highlight_chord",e)==1?1:0}static g129(){let e=u.u61&&u.u61.id>=this.N64?"1":"0";return U.g172("new_game_scroll",e)==1?1:0}static g130(){return U.g172("use_keyboard_left_button",this.D64)}static g131(){return U.g172("use_keyboard_right_button",this.D65)}static g132(e){return U.g172("game_stat_"+e,0)==1?1:0}static g133(){var e=U.g172("chording",this.D61);return e==this.C65?this.D61:e}static g134(){return U.g172("touch_mode",this.D62)}static g135(){return U.g172("flag_mode_pos",this.D63)}static g136(){return U.g172("flag_mode_size",this.F72)}static g137(){return this.g138()==this.N61?this.N61:U.g172("flag_mode_toggle_empty",this.N61)}static g138(){let e=!u.u61||u.u61.id>=this.N64?this.N61:this.Y61;return U.g172("display_flag_mode",e)}static g139(){return U.g172("flag_mode_new_game_off",this.Y61)}static g140(){let e=u.u61&&u.u61.id>=this.N64?this.Y61:this.N61;return U.g172("scroll_to_right",e)}static g141(){let e=u.u61&&u.u61.id>=this.N63?"40":"0";return parseInt(U.g172("quick_vibration",e))}static g142(){if(!this.i90())return 0;let e=u.u61&&u.u61.id>=this.N64?"200":"0";return parseInt(U.g172("hold_to_flag_time",e))}static g143(){let e=u.u61&&u.u61.id>=this.N64?"80":"100";return parseInt(U.g172("long_vibration",e))}static c134(){let e=t("#skin_select").val();U.s142("skin",e),this.u100(),this.u103()}static g144(e){if(this.d71||(i.i140(navigator.userAgent)||v.s181?this.d71="hda":u.u61.id<this.N62?this.d71="xp":u.u61.id<this.N63?this.d71="hd":this.d71="hda"),e)return U.g172("skin",this.d71);let s=v.i126?t("#skin_select").val():U.g172("skin",this.d71);return s=="hda"?s=kt.i135()?"hdd":"hd":s=="xpa"&&(s=kt.i135()?"xpd":"xp"),!v.i126&&d.a93&&d.a93.extraConf&&d.a93.extraConf.skin?i.S78[d.a93.extraConf.skin]:!v.i126&&d.a94?i.S78[d.a94]:s}static g145(e){return["xp","xpd","xpa"].indexOf(this.g144(e))==-1?0:U.g172("pixelated")==1?1:0}static i89(){return["hda","xpa"].indexOf(U.g172("skin",null))!=-1}static r147(){this.r146?x.n81("game/"+this.r146,!0):x.n81("new-game",!0)}static c135(e){let s=e=="use_keyboard_left_button"?this.D64:this.D65,n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=t("<select>",{id:"property_"+e}).on("change",()=>this.c87(e)).append(t("<option>",{value:32}).append("Space"),t("<option>",{value:17}).append("Ctrl"),t("<option>",{value:18}).append("Alt"));for(let l=0;l<=25;l++)r.append(t("<option>",{value:65+l}).append(n[l]));return r.val(U.g172(e,s)),r}static u101(){this.i90()?t(".touch-settings").show():t(".touch-settings").hide()}static u102(){this.i90()&&this.g138()==this.Y61?t(".flag-mode-settings").show():t(".flag-mode-settings").hide()}static u103(){["xp","xpd","xpa"].indexOf(this.g144(!0))!=-1?t("#settings_pixelated").removeClass("hide"):t("#settings_pixelated").addClass("hide")}static q63(){"vibrate"in navigator&&this.i90()&&this.g141()&&navigator.vibrate(this.g141())}static l66(){"vibrate"in navigator&&this.i90()&&this.g143()&&navigator.vibrate(this.g143())}static i90(){let e=this.g134();return e==this.T75?!0:e==this.T76?!1:this.i91()}static i91(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}};var xt=class{static $="ClickTypeBlock";static i71=!1;static e64=!1;static re(){k.i90()&&d.u64==u.u61.id?(k.g139()==k.Y61&&(this.i71=!1),this.r87(),t("#"+this.$).empty().show().append(t("<div>",{id:"click_type_flag"}).append(t("<span>",{class:"click-type-block-symbol click-type-block-flag fa fa-flag"})),t("<div>",{id:"click_type_mine"}).append(t("<span>",{class:"click-type-block-symbol click-type-block-mine fa fa-flag"})),t("<div>",{id:"click_type_new_game"}).append(t("<span>",{class:"click-type-block-symbol click-type-block-new-game fa fa-smile-o"})).hide(),t("<div>",{id:"click_type_go_to_right"}).append(t("<span>",{class:"click-type-block-symbol click-type-block-go-to-right glyphicon glyphicon-arrow-right"})).hide()),this.r88(),this.i71?t("#click_type_mine").hide():t("#click_type_flag").hide(),this.e64||(t("#"+this.$).on("click",()=>this.c80()),this.e64=!0),k.g138()==k.N61&&t("#"+this.$).hide()):t("#"+this.$).hide()}static r87(){let e=k.g135();e==k.F66?t("#"+this.$).css({top:"",right:"",bottom:0,left:0}):e==k.F67?t("#"+this.$).css({top:"",right:0,bottom:0,left:""}):e==k.F68?t("#"+this.$).css({top:"45%",right:"",bottom:"",left:0}):e==k.F69?t("#"+this.$).css({top:"45%",right:0,bottom:"",left:""}):e==k.F70&&t("#"+this.$).addClass("hide")}static r88(){t("#"+this.$).removeClass("click-type-block-big").removeClass("click-type-block-huge"),k.g136()&&(t("#"+this.$).addClass("click-type-block-"+k.g136()),t(".click-type-block-symbol").addClass("click-type-block-symbol-"+k.g136()))}static s81(){k.i90()&&d.u64==u.u61.id&&(t("#"+this.$).show(),t("#click_type_flag,#click_type_mine,#click_type_go_to_right").hide(),t("#click_type_new_game").show())}static s82(){k.i90()&&d.u64==u.u61.id&&(t("#"+this.$).show(),t("#click_type_flag,#click_type_mine,#click_type_new_game").hide(),t("#click_type_go_to_right").show())}static c80(){t("#click_type_new_game").is(":visible")?k.g129()&&this.i72()?this.i73(document.querySelector("#game_top_left")).then(e=>{e||document.getElementById("game_top_left").scrollIntoView(),X.s171()}):X.s171():t("#click_type_go_to_right").is(":visible")?(this.r89(),window.scrollTo({left:t("#game").width()})):(this.i71=!this.i71,t("#click_type_flag,#click_type_mine").toggle(),Z.u124())}static i72(){return"IntersectionObserver"in window}static i73(e){return new Promise(function(s){let n=new IntersectionObserver(function(r){s(r[0].intersectionRatio===1),n.disconnect()});n.observe(e)})}static i74(){return this.i71&&d.u64==u.u61.id}static c81(e){if(!(k.g140()==k.N61||d.u64!=u.u61.id)){if(e.length==3&&t("#click_type_go_to_right").is(":visible")){this.r89();return}e.length==2&&e[0].type==i.C91&&e[1].type==i.C91&&e[0].x==0&&e[0].y==0&&e[1].x==0&&e[1].y==d.s165-1&&this.i72()&&this.i73(document.querySelector("#game_top_right")).then(s=>{!s&&!t("#click_type_new_game").is(":visible")&&this.s82()})}}static r89(){this.i71?(t("#click_type_flag").show(),t("#click_type_mine").hide()):(t("#click_type_flag").hide(),t("#click_type_mine").show()),t("#click_type_go_to_right").hide(),k.g138()==k.N61&&t("#"+this.$).hide()}};var aa=class{static u137={"ranking/ng":"link_ranking_ng",ranking:"link_ranking","my-games/ng":"link_my_games_ng","my-games":"link_my_games","champ/ranking":"link_champ_ranking",arena:"link_arena",events:"link_events",quests:"link_quests","event-quests":"link_event_quests","friend-quests":"link_friend_quests",equipment:"link_equipment",emc:"link_emc",marketplace:"link_market","best-players-":"link_best_players_year","best-players":"link_best_players","season-leaders":"link_season_leaders","players-online":"link_players_online",statistics:"link_statistics",news:"link_news",premium:"link_premium",shop:"link_shop",chat:"link_chat",help:"link_help",championship:"link_championship"};static u74(){t(".menu-link, .nav-menu-link").removeClass("active"),u.u61&&(this.u137["player/"+u.u61.id]="link_my_profile");for(let e in this.u137)if(this.u137.hasOwnProperty(e)&&location.pathname.indexOf(v.l86+"/"+e)==0){this.s177(this.u137[e]);break}location.pathname.indexOf(v.l86+"/game/")==0&&(d.a93?this.s177("link_arena"):z.m69==i.L66?this.s177("link_new_game_ng"):this.s177("link_new_game")),t("#navbar_collapse").collapse("hide")}static s177(e){t("."+e).addClass("active")}};var v=class{static l85="";static l86="";static s181="";static i126=!1;static i127=!1;static i128=!1;static r223(e){if(e.length>0){let s=e[0].id!==void 0?"id":"$",n=e[0].render!==void 0?"render":"re";this.i126=e.some(r=>r[s]=="SettingsBlock"),this.i127=e.some(r=>r[s]=="GameBlock"),this.i128=e.some(r=>r[s]=="NftBlock"),this.h79(e,s),t("#page").html("");for(let r of e)t("#page").append(t("<div>",{id:r[s]})),r[n]()}aa.u74(),jt.c157(),t(".popover").popover("hide"),t("#homepage").hide()}static h79(e,s){if(e.some(n=>n[s]=="ClickTypeBlock")){t("#"+xt.$).removeClass("hide"),xt.re();for(let n=0;n<e.length;n++)if(e[n][s]=="ClickTypeBlock"){e.splice(n,1);break}}else t("#"+xt.$).addClass("hide").html("")}static c201(){t("body").hasClass("yay-hide")||t(".yay-toggle").click()}static u142(){let e=["menu_quests_count","menu_friend_quests_count","menu_global_quests_count","menu_champ_quests_new","menu_events_new","menu_arena_new","menu_exchange_not_viewed","menu_market_new"];t("#header-new-icon").addClass("hide");for(let s=0;s<e.length;s++)if(t("."+e[s]).children("i").length>0){t("#header-new-icon").removeClass("hide");return}}static g229(){let e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;return e&&e.length>=2?e.substring(0,2):null}};function t(_,e){return window.jQuery(_,e)}function a(_,e){if(_==": ")return["ja","cn","tw"].indexOf(v.l85)!=-1?"\uFF1A":v.l85=="fr"?" : ":": ";if(_==":")return["ja","cn","tw"].indexOf(v.l85)!=-1?"\uFF1A":v.l85=="fr"?" :":":";if(e){let n=_;window.messages[_]!==void 0&&(n=window.messages[_]);for(let r in e)n=n.replace(r,e[r]);return n}let s=window.messages[_]!==void 0?window.messages[_]:_;return u.u61&&["US","XX"].indexOf(u.u61.country)!=-1&&(["quests_9_single","quests_9_multiple","honor_points","equipment_boost_no_honor_points","event_resources_recalled","event_resources_recalled_activity","equipment_honor_shop","hp_info"].indexOf(_)!=-1&&(s=s.replace("onour","onor")),["event_color_blindness","settings_skin_rc"].indexOf(_)!=-1&&(s=s.replace("olour","olor"))),s}function Q(_,e){if(e)for(let s in e)_=_.replace(s,e[s]);return _}function O(_){return k.g144()+"_"+_}var na=class{static $="MaintenanceLineBlock";static M65=5*60*1e3;static F65=10*60*1e3;static i85(){setInterval(()=>{this.c123()},this.M65),this.c123()}static c123(){y.m109("MaintenanceController.checkMaintenanceWsAction",[],this.r61.bind(this))}static r61(e){if(!e)return;let s=e-Date.now();if(s<0)return;let n=s<this.F65;t("#"+this.$).empty().append(t("<div>",{id:"maintenance_time_wrapper",class:"text-center"}).append(t("<span>",{class:"maintenance-line-active "+(n?"maintenance-line-finish":"")}).append(a("server_maintenance_warning",{"%time%":'<span id="maintenance_time" class="'+(n?"bold":"")+'"></span>'}),n?" "+a("server_maintenance_warning_finish"):""))),t("#"+this.$).hasClass("maintenance-line-enabled")||t("#"+this.$).addClass("maintenance-line-enabled"),lt.i85("maintenance_time",null,e,()=>{t("#"+this.$).empty().append(t("<div>",{id:"maintenance_time_wrapper",class:"text-center"}).append(t("<span>",{class:"maintenance-line-active maintenance-line-finish bold"}).append(a("server_maintenance_title"))))})}};var ra=class{static $="OutdatedBrowserBlock";static re(){t("#"+this.$).empty().append(t("<h3>").html(t("<span>",{class:"red"}).html(a("outdated_browser_title"))),t("<p>").html(a("outdated_browser_text")))}};var la=class{static $="UserBlockedBlock";static d61=!1;static re(){t("#"+this.$).empty().append(t("<h2>").append(a("server_block_error")),"<hr/>"),u.d61?t("#"+this.$).append(a("delete_account_sent",{"support@minesweeper.online":'<a href="mailto:support@minesweeper.online">support@minesweeper.online</a>'}),"<br/>","<br/>","ID: "+u.b62,"<br/>","<br/>",t("<a>",{href:v.l86+"/logout",class:"btn btn-default btn-sm"}).append('<span class="glyphicon glyphicon-log-out"></span> '+a("profile_logout_button"))):u.b63?t("#"+this.$).append(a("server_block_ip",{"support@minesweeper.online":'<a href="mailto:support@minesweeper.online">support@minesweeper.online</a>'}),"<br/>","<br/>","IP: "+u.b63):t("#"+this.$).append(a("server_block_message",{"support@minesweeper.online":'<a href="mailto:support@minesweeper.online">support@minesweeper.online</a>',"%ip%":u.b63?"("+u.b63+")":""}),"<br/>","<br/>",u.b62?"ID: "+u.b62:"","<br/>","<br/>",t("<a>",{href:v.l86+"/logout",class:"btn btn-default btn-sm"}).append('<span class="glyphicon glyphicon-log-out"></span> '+a("profile_logout_button"))),t("#init_loading").remove()}};var Gi=class{static i129=!1;static P66=4;static A63=5*60*1e3;static i85(){this.i129=t(window).width()>=1e3&&t(window).height()<800,this.i129?t("#sticky_ad").removeClass("hide"):t("#bottom_ad").removeClass("hide"),U.s142("adTry",parseInt(U.g172("adTry",0))+1),U.g172("adTry",0)==this.P66&&(U.s142("adTry",0),this.i129?(document.getElementById("sticky_ad_link").onclick=()=>{this.c202(),x.n81("/premium",!0)},t("#sticky_ad_link").html('<i class="fa fa-diamond sticky-ad-close"></i>')):(document.getElementById("bottom_ad_link").onclick=()=>{this.c202(),x.n81("/premium",!0)},t("#bottom_ad_link").html('<i class="fa fa-diamond"></i> '+a("ads_remove")))),this.r224(!0),setInterval(()=>{this.r224()},this.A63)}static i130(){}static r224(){this.i129?t("#sticky_ad_content").empty().html('<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-4086670401558887" data-ad-slot="9197417605"></ins>'):t("#bottom_ad_content").empty().html('<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4086670401558887" data-ad-slot="7685090651" data-ad-format="auto" data-full-width-responsive="true"></ins>'),(adsbygoogle=window.adsbygoogle||[]).push({overlays:{bottom:!0}})}static c202(){t("#bottom_ad").remove(),t("#sticky_ad").remove()}};var pa=class _{static A61=50;static I65=300;static I66=500;static C67=1500;static Q63=60*60*1e3;static Q64=5*60*1e3;static G61=5*1e3;static b82=null;static a92=null;static i85(){if(location.pathname=="/run"){let e=U.g172("app_lang","en");x.n82(e=="en"?"/":"/"+e+"/");return}V.e97=window.initConfig.env,v.l85=window.initConfig.lang,v.l86=window.initConfig.langPrefix,v.s181=!1,window.navigate=e=>x.n81(e,!0),window.executeUrl=e=>x.e94(e),window.signUp=()=>{v.c201(),Te.s143()},window.signIn=()=>{v.c201(),ti.s143()},window.gotoHome=()=>{v.c201(),x.n81("/",!0)},window.gotoProfile=()=>x.n81("player/"+u.u61.id,!0),window.gotoNews=()=>x.n81("news",!0),window.gotoPlayersOnline=()=>x.n81("players-online",!0),window.closeMenu=()=>v.c201(),window.closeAds=()=>Gi.c202(),this.b82=location.pathname,t(()=>{if(this.i100()){t("#init_loading").hide(),Ye.i65=!0,v.r223([Ye]);return}if(this.i99()){t("#init_loading").hide(),v.r223([ra]);return}u.i63()?this.h65():(t("#init_loading").html('<img src="/img/loading_big.gif" class="loading-big"/>&nbsp;&nbsp;'+a("loading_authorization")+"..."),this.a92=setInterval(()=>{u.i63()&&this.h65()},this.A61))}),t("[data-country]").each((e,s)=>{s=t(s),s.prop("title",a(s.data("country")))}),t('[data-toggle="tooltip"]').each((e,s)=>{s=t(s),s.prop("title")?s.tooltip():s.remove()}),i.i141(navigator.userAgent)||this.r178()}static h65(){u.i63()&&(clearInterval(this.a92),u.e61?(console.error("Authorize error"),v.r223([qi])):location.pathname==v.l86+"/logout"?(U.s142("session",""),setTimeout(()=>{window.location="/"},1e3)):u.b61?v.r223([la]):this.r176())}static r176(){kt.i85(),u.u61.eliteAt&&t(".emc-menu-link").removeClass("hide"),u.p61||t(".support-to-hide").hide(),x.i85(),St.i85(()=>{if(!St.r227){setTimeout(()=>{location.reload()},1e3);return}Rt.c208(St.r227,()=>{t("#init_loading").html('<img src="/img/loading_big.gif" class="loading-big"/>&nbsp;&nbsp;'+a("loading_main_server")+"..."),Rt.c208(null,()=>{t("#init_loading").html('<img src="/img/loading_big.gif" class="loading-big"/>&nbsp;&nbsp;'+a("loading_initialization")+"..."),this.b82==location.pathname&&(this.b82==v.l86+"/"?i.i141(navigator.userAgent)&&U.s142("app_lang",v.l85):x.e94(this.b82)),this.f75()})})}),_t.b93(),this.f76(),b.u136(),t(u.u61.registeredAt?".auth-required":".auth-free").removeClass("hide"),t(".nav-menu-link").on("click",()=>{t(".yay-toggle").click()}),V.e97=="production"&&i.i140(navigator.userAgent)}static f75(){if(t("#init_loading").remove(),i.i140(navigator.userAgent))return;let e=this.I66;setTimeout(()=>{$t.s126()},e),e+=this.I65,setTimeout(()=>{it.c155()},e),e+=this.I65,setTimeout(()=>{_e.c65()},e),e+=this.I65,R.g256()==i.E112&&(setTimeout(()=>{ce.u115(!1)},e),e+=this.I65),setTimeout(()=>{t("#"+nt.$).is(":visible")||nt.r139(!0)},e),e+=this.I65;let s=R.g256()==i.E110?this.Q64:this.Q63;setInterval(()=>{t("#"+nt.$).is(":visible")||nt.r139(!0)},s),setTimeout(()=>{Bt.c152()},e),e+=this.I65,setTimeout(()=>{It.c209()},e),e+=this.I65,setTimeout(()=>{Ti.c173()},e),e+=this.I65,setTimeout(()=>{na.i85()},e),e+=this.I65,setTimeout(()=>{let n=_.g170();y.m109("FpController.saveFpWsAction",[u.s62,n],()=>{})},e),setInterval(()=>{Zt.v63()},this.G61),V.e97=="production"&&(this.i102(),u.i62&&me.n78(),["KR","JP","US","CA","AU","TW","SG"].indexOf(u.g63)!=-1&&!u.p61&&!i.i141(navigator.userAgent)&&this.i101()),he.u68(),t(".profile-link").attr("href",v.l86+"/player/"+u.u61.id),setTimeout(()=>{Rt.c208("chat1",()=>{})},this.C67),u.p61&&Rt.c208(J.g284(V.e97,u.u61.id),()=>{}),i.i141(navigator.userAgent)&&this.r177()}static g170(){return{deviceId:this.g171(),language:navigator.language,timezoneOffset:new Date().getTimezoneOffset(),screenSize:window.screen.width+"x"+window.screen.height,windowOuterSize:window.outerWidth+"x"+window.outerHeight,windowInnerSize:window.innerWidth+"x"+window.innerHeight,pixelRatio:window.devicePixelRatio}}static g171(){if(localStorage._di)return localStorage._di;let e=Math.random().toString(36).slice(2,7);return localStorage._di=e,e}static i99(){return!window.history||!history.pushState||!this.l70()}static i100(){return V.e97=="production"&&i.i141(navigator.userAgent)&&(window.app===void 0||window.app.version!=i.A65)}static f76(){for(let e in i.A123){let s=i.A123[e];t(".languages-list").append(t("<li>").append(t("<a>",{href:s.href}).on("click",()=>this.c163(s.href)).html('<img src="'+u.f62(s.flag.substring(0,2))+'" class="auth-flag" alt="'+s.text+'"> '+s.text)))}t(".lang-flag").prop("src",u.f62(i.A123[v.l85].flag.substring(0,2)))}static c163(e){let s=window.location.pathname.substring(v.l85=="en"?1:4);return window.location=e+s,!1}static i101(){let e=document.createElement("script");e.setAttribute("src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4086670401558887"),e.setAttribute("crossorigin","anonymous"),e.onload=()=>{Gi.i85()},e.onerror=()=>{Gi.i130()},document.head.appendChild(e)}static i102(){let e=document.createElement("script");e.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=UA-69496894-1"),e.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date),gtag("config","UA-69496894-1",{send_page_view:!1}),gtag("config","G-B3VTSE8HXJ",{send_page_view:!1}),me.p94()},document.head.appendChild(e)}static r177(){t("#footer_arrows").append(t("<a>",{href:"javascript:void(0)",class:"footer-link",title:a("app_back")+" [ "+(this.i103()?"Cmd":"Alt")+' + <i class="glyphicon glyphicon-arrow-left"></i> ]'}).on("click",()=>history.back()).tooltip({html:!0,trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-left"></i>'),"&nbsp;&nbsp;",t("<a>",{href:"javascript:void(0)",class:"footer-link",title:a("app_forward")+" [ "+(this.i103()?"Cmd":"Alt")+' + <i class="glyphicon glyphicon-arrow-right"></i> ]'}).on("click",()=>history.forward()).tooltip({html:!0,trigger:"hover"}).append('<i class="glyphicon glyphicon-arrow-right"></i>'),"&nbsp;")}static r178(){let e=navigator.userAgent.toLowerCase();(e.indexOf("win")!=-1||e.indexOf("mac")!=-1)&&t("#footer_app_link").append(t("<a>",{"href-local":"app",class:"footer-link"}).append(e.indexOf("win")!=-1?'<i class="fa fa-windows"></i> ':'<i class="fa fa-apple"></i> ',a("app_download")),'<span class="footer-hr">|</span>'),x.r226()}static i103(){return navigator.userAgentData&&navigator.userAgentData.platform=="macOS"}static l70(){try{let e="__test";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}};pa.i85();